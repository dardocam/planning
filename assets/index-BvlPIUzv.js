var OA=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var lG=OA((ar,lr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function aa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lm={exports:{}},Pu={},Fm={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function NA(){if(Pw)return Ye;Pw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function I(W,ee,B){this.props=W,this.context=ee,this.refs=k,this.updater=B||v}I.prototype.isReactComponent={},I.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=I.prototype;function P(W,ee,B){this.props=W,this.context=ee,this.refs=k,this.updater=B||v}var F=P.prototype=new T;F.constructor=P,S(F,I.prototype),F.isPureReactComponent=!0;var U=Array.isArray,N=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(W,ee,B){var ve,ke={},Ie=null,Me=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Me=ee.ref),ee.key!==void 0&&(Ie=""+ee.key),ee)N.call(ee,ve)&&!A.hasOwnProperty(ve)&&(ke[ve]=ee[ve]);var Le=arguments.length-2;if(Le===1)ke.children=B;else if(1<Le){for(var Ke=Array(Le),ct=0;ct<Le;ct++)Ke[ct]=arguments[ct+2];ke.children=Ke}if(W&&W.defaultProps)for(ve in Le=W.defaultProps,Le)ke[ve]===void 0&&(ke[ve]=Le[ve]);return{$$typeof:n,type:W,key:Ie,ref:Me,props:ke,_owner:O.current}}function D(W,ee){return{$$typeof:n,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function $(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function L(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(B){return ee[B]})}var j=/\/+/g;function M(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):ee.toString(36)}function q(W,ee,B,ve,ke){var Ie=typeof W;(Ie==="undefined"||Ie==="boolean")&&(W=null);var Me=!1;if(W===null)Me=!0;else switch(Ie){case"string":case"number":Me=!0;break;case"object":switch(W.$$typeof){case n:case e:Me=!0}}if(Me)return Me=W,ke=ke(Me),W=ve===""?"."+M(Me,0):ve,U(ke)?(B="",W!=null&&(B=W.replace(j,"$&/")+"/"),q(ke,ee,B,"",function(ct){return ct})):ke!=null&&($(ke)&&(ke=D(ke,B+(!ke.key||Me&&Me.key===ke.key?"":(""+ke.key).replace(j,"$&/")+"/")+W)),ee.push(ke)),1;if(Me=0,ve=ve===""?".":ve+":",U(W))for(var Le=0;Le<W.length;Le++){Ie=W[Le];var Ke=ve+M(Ie,Le);Me+=q(Ie,ee,B,Ke,ke)}else if(Ke=_(W),typeof Ke=="function")for(W=Ke.call(W),Le=0;!(Ie=W.next()).done;)Ie=Ie.value,Ke=ve+M(Ie,Le++),Me+=q(Ie,ee,B,Ke,ke);else if(Ie==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Me}function ie(W,ee,B){if(W==null)return W;var ve=[],ke=0;return q(W,ve,"","",function(Ie){return ee.call(B,Ie,ke++)}),ve}function oe(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(B){(W._status===0||W._status===-1)&&(W._status=1,W._result=B)},function(B){(W._status===0||W._status===-1)&&(W._status=2,W._result=B)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var ce={current:null},se={transition:null},ue={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:se,ReactCurrentOwner:O};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:ie,forEach:function(W,ee,B){ie(W,function(){ee.apply(this,arguments)},B)},count:function(W){var ee=0;return ie(W,function(){ee++}),ee},toArray:function(W){return ie(W,function(ee){return ee})||[]},only:function(W){if(!$(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ye.Component=I,Ye.Fragment=r,Ye.Profiler=s,Ye.PureComponent=P,Ye.StrictMode=i,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ye.act=V,Ye.cloneElement=function(W,ee,B){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ve=S({},W.props),ke=W.key,Ie=W.ref,Me=W._owner;if(ee!=null){if(ee.ref!==void 0&&(Ie=ee.ref,Me=O.current),ee.key!==void 0&&(ke=""+ee.key),W.type&&W.type.defaultProps)var Le=W.type.defaultProps;for(Ke in ee)N.call(ee,Ke)&&!A.hasOwnProperty(Ke)&&(ve[Ke]=ee[Ke]===void 0&&Le!==void 0?Le[Ke]:ee[Ke])}var Ke=arguments.length-2;if(Ke===1)ve.children=B;else if(1<Ke){Le=Array(Ke);for(var ct=0;ct<Ke;ct++)Le[ct]=arguments[ct+2];ve.children=Le}return{$$typeof:n,type:W.type,key:ke,ref:Ie,props:ve,_owner:Me}},Ye.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ye.createElement=C,Ye.createFactory=function(W){var ee=C.bind(null,W);return ee.type=W,ee},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(W){return{$$typeof:c,render:W}},Ye.isValidElement=$,Ye.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:oe}},Ye.memo=function(W,ee){return{$$typeof:d,type:W,compare:ee===void 0?null:ee}},Ye.startTransition=function(W){var ee=se.transition;se.transition={};try{W()}finally{se.transition=ee}},Ye.unstable_act=V,Ye.useCallback=function(W,ee){return ce.current.useCallback(W,ee)},Ye.useContext=function(W){return ce.current.useContext(W)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(W){return ce.current.useDeferredValue(W)},Ye.useEffect=function(W,ee){return ce.current.useEffect(W,ee)},Ye.useId=function(){return ce.current.useId()},Ye.useImperativeHandle=function(W,ee,B){return ce.current.useImperativeHandle(W,ee,B)},Ye.useInsertionEffect=function(W,ee){return ce.current.useInsertionEffect(W,ee)},Ye.useLayoutEffect=function(W,ee){return ce.current.useLayoutEffect(W,ee)},Ye.useMemo=function(W,ee){return ce.current.useMemo(W,ee)},Ye.useReducer=function(W,ee,B){return ce.current.useReducer(W,ee,B)},Ye.useRef=function(W){return ce.current.useRef(W)},Ye.useState=function(W){return ce.current.useState(W)},Ye.useSyncExternalStore=function(W,ee,B){return ce.current.useSyncExternalStore(W,ee,B)},Ye.useTransition=function(){return ce.current.useTransition()},Ye.version="18.3.1",Ye}var Ow;function Ky(){return Ow||(Ow=1,Fm.exports=NA()),Fm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function DA(){if(Nw)return Pu;Nw=1;var n=Ky(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,d){var m,g={},_=null,v=null;d!==void 0&&(_=""+d),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(v=f.ref);for(m in f)i.call(f,m)&&!o.hasOwnProperty(m)&&(g[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:c,key:_,ref:v,props:g,_owner:s.current}}return Pu.Fragment=r,Pu.jsx=l,Pu.jsxs=l,Pu}var Dw;function MA(){return Dw||(Dw=1,Lm.exports=DA()),Lm.exports}var De=MA(),K=Ky();const LA=aa(K);var ph={},Vm={exports:{}},Vn={},zm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function FA(){return Mw||(Mw=1,function(n){function e(se,ue){var V=se.length;se.push(ue);e:for(;0<V;){var W=V-1>>>1,ee=se[W];if(0<s(ee,ue))se[W]=ue,se[V]=ee,V=W;else break e}}function r(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ue=se[0],V=se.pop();if(V!==ue){se[0]=V;e:for(var W=0,ee=se.length,B=ee>>>1;W<B;){var ve=2*(W+1)-1,ke=se[ve],Ie=ve+1,Me=se[Ie];if(0>s(ke,V))Ie<ee&&0>s(Me,ke)?(se[W]=Me,se[Ie]=V,W=Ie):(se[W]=ke,se[ve]=V,W=ve);else if(Ie<ee&&0>s(Me,V))se[W]=Me,se[Ie]=V,W=Ie;else break e}}return ue}function s(se,ue){var V=se.sortIndex-ue.sortIndex;return V!==0?V:se.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,g=null,_=3,v=!1,S=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var ue=r(d);ue!==null;){if(ue.callback===null)i(d);else if(ue.startTime<=se)i(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=r(d)}}function U(se){if(k=!1,F(se),!S)if(r(f)!==null)S=!0,oe(N);else{var ue=r(d);ue!==null&&ce(U,ue.startTime-se)}}function N(se,ue){S=!1,k&&(k=!1,T(C),C=-1),v=!0;var V=_;try{for(F(ue),g=r(f);g!==null&&(!(g.expirationTime>ue)||se&&!L());){var W=g.callback;if(typeof W=="function"){g.callback=null,_=g.priorityLevel;var ee=W(g.expirationTime<=ue);ue=n.unstable_now(),typeof ee=="function"?g.callback=ee:g===r(f)&&i(f),F(ue)}else i(f);g=r(f)}if(g!==null)var B=!0;else{var ve=r(d);ve!==null&&ce(U,ve.startTime-ue),B=!1}return B}finally{g=null,_=V,v=!1}}var O=!1,A=null,C=-1,D=5,$=-1;function L(){return!(n.unstable_now()-$<D)}function j(){if(A!==null){var se=n.unstable_now();$=se;var ue=!0;try{ue=A(!0,se)}finally{ue?M():(O=!1,A=null)}}else O=!1}var M;if(typeof P=="function")M=function(){P(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ie=q.port2;q.port1.onmessage=j,M=function(){ie.postMessage(null)}}else M=function(){I(j,0)};function oe(se){A=se,O||(O=!0,M())}function ce(se,ue){C=I(function(){se(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){S||v||(S=!0,oe(N))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return r(f)},n.unstable_next=function(se){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var V=_;_=ue;try{return se()}finally{_=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var V=_;_=se;try{return ue()}finally{_=V}},n.unstable_scheduleCallback=function(se,ue,V){var W=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,se){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,se={id:m++,callback:ue,priorityLevel:se,startTime:V,expirationTime:ee,sortIndex:-1},V>W?(se.sortIndex=V,e(d,se),r(f)===null&&se===r(d)&&(k?(T(C),C=-1):k=!0,ce(U,V-W))):(se.sortIndex=ee,e(f,se),S||v||(S=!0,oe(N))),se},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(se){var ue=_;return function(){var V=_;_=ue;try{return se.apply(this,arguments)}finally{_=V}}}}($m)),$m}var Lw;function VA(){return Lw||(Lw=1,zm.exports=FA()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function zA(){if(Fw)return Vn;Fw=1;var n=Ky(),e=VA();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(a,u){l(a,u),l(a+"Capture",u)}function l(a,u){for(s[a]=u,a=0;a<u.length;a++)i.add(u[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(a){return f.call(g,a)?!0:f.call(m,a)?!1:d.test(a)?g[a]=!0:(m[a]=!0,!1)}function v(a,u,h,y){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,u,h,y){if(u===null||typeof u>"u"||v(a,u,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function k(a,u,h,y,w,x,R){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=x,this.removeEmptyString=R}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];I[u]=new k(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(T,P);I[u]=new k(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(T,P);I[u]=new k(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(T,P);I[u]=new k(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function F(a,u,h,y){var w=I.hasOwnProperty(u)?I[u]:null;(w!==null?w.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,h,w,y)&&(h=null),y||w===null?_(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):w.mustUseProperty?a[w.propertyName]=h===null?w.type===3?!1:"":h:(u=w.attributeName,y=w.attributeNamespace,h===null?a.removeAttribute(u):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,y?a.setAttributeNS(y,u,h):a.setAttribute(u,h))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),se=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var V=Object.assign,W;function ee(a){if(W===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var B=!1;function ve(a,u){if(!a||B)return"";B=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ne){var y=ne}Reflect.construct(a,[],u)}else{try{u.call()}catch(ne){y=ne}a.call(u.prototype)}else{try{throw Error()}catch(ne){y=ne}a()}}catch(ne){if(ne&&y&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),x=y.stack.split(`
`),R=w.length-1,H=x.length-1;1<=R&&0<=H&&w[R]!==x[H];)H--;for(;1<=R&&0<=H;R--,H--)if(w[R]!==x[H]){if(R!==1||H!==1)do if(R--,H--,0>H||w[R]!==x[H]){var G=`
`+w[R].replace(" at new "," at ");return a.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",a.displayName)),G}while(1<=R&&0<=H);break}}}finally{B=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?ee(a):""}function ke(a){switch(a.tag){case 5:return ee(a.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function Ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case O:return"Portal";case D:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case j:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return u=a.displayName||null,u!==null?u:Ie(a.type)||"Memo";case oe:u=a._payload,a=a._init;try{return Ie(a(u))}catch{}}return null}function Me(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(u);case 8:return u===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ke(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ct(a){var u=Ke(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,x=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return w.call(this)},set:function(R){y=""+R,x.call(this,R)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(R){y=""+R},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Qt(a){a._valueTracker||(a._valueTracker=ct(a))}function ei(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return a&&(y=Ke(a)?a.checked?"true":"false":a.value),a=y,a!==h?(u.setValue(a),!0):!1}function Gn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Cr(a,u){var h=u.checked;return V({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Ar(a,u){var h=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;h=Le(u.value!=null?u.value:h),a._wrapperState={initialChecked:y,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ti(a,u){u=u.checked,u!=null&&F(a,"checked",u,!1)}function ni(a,u){ti(a,u);var h=Le(u.value),y=u.type;if(h!=null)y==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Kn(a,u.type,h):u.hasOwnProperty("defaultValue")&&Kn(a,u.type,Le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function ys(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Kn(a,u,h){(u!=="number"||Gn(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Rn=Array.isArray;function Qn(a,u,h,y){if(a=a.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=u.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&y&&(a[h].defaultSelected=!0)}else{for(h=""+Le(h),u=null,w=0;w<a.length;w++){if(a[w].value===h){a[w].selected=!0,y&&(a[w].defaultSelected=!0);return}u!==null||a[w].disabled||(u=a[w])}u!==null&&(u.selected=!0)}}function re(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ee(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(Rn(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:Le(h)}}function Ce(a,u){var h=Le(u.value),y=Le(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),y!=null&&(a.defaultValue=""+y)}function Oe(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function X(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?X(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Te,ze=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,y,w){MSApp.execUnsafeLocalFunction(function(){return a(u,h,y,w)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Te.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Qe(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(a){nn.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),At[u]=At[a]})});function Yt(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||At.hasOwnProperty(a)&&At[a]?(""+u).trim():u+"px"}function Yn(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var y=h.indexOf("--")===0,w=Yt(h,u[h],y);h==="float"&&(h="cssFloat"),y?a.setProperty(h,w):a[h]=w}}var Rr=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(a,u){if(u){if(Rr[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function cr(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=null;function ga(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ya=null,fr=null,ri=null;function _a(a){if(a=gu(a)){if(typeof ya!="function")throw Error(r(280));var u=a.stateNode;u&&(u=Af(u),ya(a.stateNode,a.type,u))}}function ii(a){fr?ri?ri.push(a):ri=[a]:fr=a}function Gl(){if(fr){var a=fr,u=ri;if(ri=fr=null,_a(a),u)for(a=0;a<u.length;a++)_a(u[a])}}function vo(a,u){return a(u)}function Kl(){}var Ni=!1;function Ql(a,u,h){if(Ni)return a(u,h);Ni=!0;try{return vo(a,u,h)}finally{Ni=!1,(fr!==null||ri!==null)&&(Kl(),Gl())}}function Mt(a,u){var h=a.stateNode;if(h===null)return null;var y=Af(h);if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var va=!1;if(c)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){va=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{va=!1}function wo(a,u,h,y,w,x,R,H,G){var ne=Array.prototype.slice.call(arguments,3);try{u.apply(h,ne)}catch(de){this.onError(de)}}var Eo=!1,wa=null,Or=!1,Yl=null,cp={onError:function(a){Eo=!0,wa=a}};function Ea(a,u,h,y,w,x,R,H,G){Eo=!1,wa=null,wo.apply(cp,arguments)}function Zc(a,u,h,y,w,x,R,H,G){if(Ea.apply(this,arguments),Eo){if(Eo){var ne=wa;Eo=!1,wa=null}else throw Error(r(198));Or||(Or=!0,Yl=ne)}}function Nr(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function xo(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Dr(a){if(Nr(a)!==a)throw Error(r(188))}function ef(a){var u=a.alternate;if(!u){if(u=Nr(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,y=u;;){var w=h.return;if(w===null)break;var x=w.alternate;if(x===null){if(y=w.return,y!==null){h=y;continue}break}if(w.child===x.child){for(x=w.child;x;){if(x===h)return Dr(w),a;if(x===y)return Dr(w),u;x=x.sibling}throw Error(r(188))}if(h.return!==y.return)h=w,y=x;else{for(var R=!1,H=w.child;H;){if(H===h){R=!0,h=w,y=x;break}if(H===y){R=!0,y=w,h=x;break}H=H.sibling}if(!R){for(H=x.child;H;){if(H===h){R=!0,h=x,y=w;break}if(H===y){R=!0,y=x,h=w;break}H=H.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function Xl(a){return a=ef(a),a!==null?xa(a):null}function xa(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=xa(a);if(u!==null)return u;a=a.sibling}return null}var Ta=e.unstable_scheduleCallback,Jl=e.unstable_cancelCallback,tf=e.unstable_shouldYield,fp=e.unstable_requestPaint,pt=e.unstable_now,nf=e.unstable_getCurrentPriorityLevel,To=e.unstable_ImmediatePriority,_s=e.unstable_UserBlockingPriority,hr=e.unstable_NormalPriority,Zl=e.unstable_LowPriority,rf=e.unstable_IdlePriority,So=null,Xn=null;function sf(a){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(So,a,void 0,(a.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:af,eu=Math.log,of=Math.LN2;function af(a){return a>>>=0,a===0?32:31-(eu(a)/of|0)|0}var Sa=64,ba=4194304;function vs(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function bo(a,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,w=a.suspendedLanes,x=a.pingedLanes,R=h&268435455;if(R!==0){var H=R&~w;H!==0?y=vs(H):(x&=R,x!==0&&(y=vs(x)))}else R=h&~w,R!==0?y=vs(R):x!==0&&(y=vs(x));if(y===0)return 0;if(u!==0&&u!==y&&!(u&w)&&(w=y&-y,x=u&-u,w>=x||w===16&&(x&4194240)!==0))return u;if(y&4&&(y|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=y;0<u;)h=31-Tn(u),w=1<<h,y|=a[h],u&=~w;return y}function hp(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(a,u){for(var h=a.suspendedLanes,y=a.pingedLanes,w=a.expirationTimes,x=a.pendingLanes;0<x;){var R=31-Tn(x),H=1<<R,G=w[R];G===-1?(!(H&h)||H&y)&&(w[R]=hp(H,u)):G<=u&&(a.expiredLanes|=H),x&=~H}}function Jn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ko(){var a=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),a}function ws(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Es(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Tn(u),a[u]=h}function ht(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<h;){var w=31-Tn(h),x=1<<w;u[w]=0,y[w]=-1,a[w]=-1,h&=~x}}function xs(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var y=31-Tn(h),w=1<<y;w&u|a[y]&u&&(a[y]|=u),h&=~w}}var Je=0;function Ts(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var lf,ka,uf,cf,ff,tu=!1,si=[],sn=null,Mr=null,Lr=null,Ss=new Map,dr=new Map,oi=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hf(a,u){switch(a){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Ss.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(u.pointerId)}}function Pn(a,u,h,y,w,x){return a===null||a.nativeEvent!==x?(a={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:x,targetContainers:[w]},u!==null&&(u=gu(u),u!==null&&ka(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),a)}function pp(a,u,h,y,w){switch(u){case"focusin":return sn=Pn(sn,a,u,h,y,w),!0;case"dragenter":return Mr=Pn(Mr,a,u,h,y,w),!0;case"mouseover":return Lr=Pn(Lr,a,u,h,y,w),!0;case"pointerover":var x=w.pointerId;return Ss.set(x,Pn(Ss.get(x)||null,a,u,h,y,w)),!0;case"gotpointercapture":return x=w.pointerId,dr.set(x,Pn(dr.get(x)||null,a,u,h,y,w)),!0}return!1}function df(a){var u=Po(a.target);if(u!==null){var h=Nr(u);if(h!==null){if(u=h.tag,u===13){if(u=xo(h),u!==null){a.blockedOn=u,ff(a.priority,function(){uf(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Mi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=Ia(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);rn=y,h.target.dispatchEvent(y),rn=null}else return u=gu(h),u!==null&&ka(u),a.blockedOn=h,!1;u.shift()}return!0}function Io(a,u,h){Mi(a)&&h.delete(u)}function pf(){tu=!1,sn!==null&&Mi(sn)&&(sn=null),Mr!==null&&Mi(Mr)&&(Mr=null),Lr!==null&&Mi(Lr)&&(Lr=null),Ss.forEach(Io),dr.forEach(Io)}function Fr(a,u){a.blockedOn===u&&(a.blockedOn=null,tu||(tu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pf)))}function Vr(a){function u(w){return Fr(w,a)}if(0<si.length){Fr(si[0],a);for(var h=1;h<si.length;h++){var y=si[h];y.blockedOn===a&&(y.blockedOn=null)}}for(sn!==null&&Fr(sn,a),Mr!==null&&Fr(Mr,a),Lr!==null&&Fr(Lr,a),Ss.forEach(u),dr.forEach(u),h=0;h<oi.length;h++)y=oi[h],y.blockedOn===a&&(y.blockedOn=null);for(;0<oi.length&&(h=oi[0],h.blockedOn===null);)df(h),h.blockedOn===null&&oi.shift()}var Li=U.ReactCurrentBatchConfig,bs=!0;function Tt(a,u,h,y){var w=Je,x=Li.transition;Li.transition=null;try{Je=1,nu(a,u,h,y)}finally{Je=w,Li.transition=x}}function mp(a,u,h,y){var w=Je,x=Li.transition;Li.transition=null;try{Je=4,nu(a,u,h,y)}finally{Je=w,Li.transition=x}}function nu(a,u,h,y){if(bs){var w=Ia(a,u,h,y);if(w===null)kp(a,u,y,Co,h),hf(a,y);else if(pp(w,a,u,h,y))y.stopPropagation();else if(hf(a,y),u&4&&-1<dp.indexOf(a)){for(;w!==null;){var x=gu(w);if(x!==null&&lf(x),x=Ia(a,u,h,y),x===null&&kp(a,u,y,Co,h),x===w)break;w=x}w!==null&&y.stopPropagation()}else kp(a,u,y,null,h)}}var Co=null;function Ia(a,u,h,y){if(Co=null,a=ga(y),a=Po(a),a!==null)if(u=Nr(a),u===null)a=null;else if(h=u.tag,h===13){if(a=xo(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Co=a,null}function ru(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nf()){case To:return 1;case _s:return 4;case hr:case Zl:return 16;case rf:return 536870912;default:return 16}default:return 16}}var Zn=null,Ca=null,On=null;function iu(){if(On)return On;var a,u=Ca,h=u.length,y,w="value"in Zn?Zn.value:Zn.textContent,x=w.length;for(a=0;a<h&&u[a]===w[a];a++);var R=h-a;for(y=1;y<=R&&u[h-y]===w[x-y];y++);return On=w.slice(a,1<y?1-y:void 0)}function Aa(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ai(){return!0}function su(){return!1}function on(a){function u(h,y,w,x,R){this._reactName=h,this._targetInst=w,this.type=y,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(h=a[H],this[H]=h?h(x):x[H]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ai:su,this.isPropagationStopped=su,this}return V(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),u}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=on(zr),li=V({},zr,{view:0,detail:0}),gp=on(li),Pa,Fi,ks,Ao=V({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ks&&(ks&&a.type==="mousemove"?(Pa=a.screenX-ks.screenX,Fi=a.screenY-ks.screenY):Fi=Pa=0,ks=a),Pa)},movementY:function(a){return"movementY"in a?a.movementY:Fi}}),Oa=on(Ao),ou=V({},Ao,{dataTransfer:0}),mf=on(ou),Na=V({},li,{relatedTarget:0}),Da=on(Na),gf=V({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=on(gf),yf=V({},zr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),_f=on(yf),vf=V({},zr,{data:0}),au=on(vf),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=wf[a])?!!u[a]:!1}function ui(){return Ef}var p=V({},li,{key:function(a){if(a.key){var u=Ma[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Aa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Sn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(a){return a.type==="keypress"?Aa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Aa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=on(p),b=V({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=on(b),J=V({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),ae=on(J),_e=V({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=on(_e),Ht=V({},Ao,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=on(Ht),Xt=[9,13,27,32],zt=c&&"CompositionEvent"in window,pr=null;c&&"documentMode"in document&&(pr=document.documentMode);var er=c&&"TextEvent"in window&&!pr,Ro=c&&(!zt||pr&&8<pr&&11>=pr),La=" ",bv=!1;function kv(a,u){switch(a){case"keyup":return Xt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fa=!1;function RC(a,u){switch(a){case"compositionend":return Iv(u);case"keypress":return u.which!==32?null:(bv=!0,La);case"textInput":return a=u.data,a===La&&bv?null:a;default:return null}}function PC(a,u){if(Fa)return a==="compositionend"||!zt&&kv(a,u)?(a=iu(),On=Ca=Zn=null,Fa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ro&&u.locale!=="ko"?null:u.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!OC[a.type]:u==="textarea"}function Av(a,u,h,y){ii(y),u=kf(u,"onChange"),0<u.length&&(h=new Ra("onChange","change",null,h,y),a.push({event:h,listeners:u}))}var lu=null,uu=null;function NC(a){Gv(a,0)}function xf(a){var u=ja(a);if(ei(u))return a}function DC(a,u){if(a==="change")return u}var Rv=!1;if(c){var yp;if(c){var _p="oninput"in document;if(!_p){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),_p=typeof Pv.oninput=="function"}yp=_p}else yp=!1;Rv=yp&&(!document.documentMode||9<document.documentMode)}function Ov(){lu&&(lu.detachEvent("onpropertychange",Nv),uu=lu=null)}function Nv(a){if(a.propertyName==="value"&&xf(uu)){var u=[];Av(u,uu,a,ga(a)),Ql(NC,u)}}function MC(a,u,h){a==="focusin"?(Ov(),lu=u,uu=h,lu.attachEvent("onpropertychange",Nv)):a==="focusout"&&Ov()}function LC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return xf(uu)}function FC(a,u){if(a==="click")return xf(u)}function VC(a,u){if(a==="input"||a==="change")return xf(u)}function zC(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var $r=typeof Object.is=="function"?Object.is:zC;function cu(a,u){if($r(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var w=h[y];if(!f.call(u,w)||!$r(a[w],u[w]))return!1}return!0}function Dv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Mv(a,u){var h=Dv(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=u&&y>=u)return{node:h,offset:u-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Dv(h)}}function Lv(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Lv(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Fv(){for(var a=window,u=Gn();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=Gn(a.document)}return u}function vp(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function $C(a){var u=Fv(),h=a.focusedElem,y=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&Lv(h.ownerDocument.documentElement,h)){if(y!==null&&vp(h)){if(u=y.start,a=y.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var w=h.textContent.length,x=Math.min(y.start,w);y=y.end===void 0?x:Math.min(y.end,w),!a.extend&&x>y&&(w=y,y=x,x=w),w=Mv(h,x);var R=Mv(h,y);w&&R&&(a.rangeCount!==1||a.anchorNode!==w.node||a.anchorOffset!==w.offset||a.focusNode!==R.node||a.focusOffset!==R.offset)&&(u=u.createRange(),u.setStart(w.node,w.offset),a.removeAllRanges(),x>y?(a.addRange(u),a.extend(R.node,R.offset)):(u.setEnd(R.node,R.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var UC=c&&"documentMode"in document&&11>=document.documentMode,Va=null,wp=null,fu=null,Ep=!1;function Vv(a,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ep||Va==null||Va!==Gn(y)||(y=Va,"selectionStart"in y&&vp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),fu&&cu(fu,y)||(fu=y,y=kf(wp,"onSelect"),0<y.length&&(u=new Ra("onSelect","select",null,u,h),a.push({event:u,listeners:y}),u.target=Va)))}function Tf(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var za={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},xp={},zv={};c&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Sf(a){if(xp[a])return xp[a];if(!za[a])return a;var u=za[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in zv)return xp[a]=u[h];return a}var $v=Sf("animationend"),Uv=Sf("animationiteration"),jv=Sf("animationstart"),Bv=Sf("transitionend"),Hv=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(a,u){Hv.set(a,u),o(u,[a])}for(var Tp=0;Tp<qv.length;Tp++){var Sp=qv[Tp],jC=Sp.toLowerCase(),BC=Sp[0].toUpperCase()+Sp.slice(1);Is(jC,"on"+BC)}Is($v,"onAnimationEnd"),Is(Uv,"onAnimationIteration"),Is(jv,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(Bv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HC=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function Wv(a,u,h){var y=a.type||"unknown-event";a.currentTarget=h,Zc(y,u,void 0,a),a.currentTarget=null}function Gv(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],w=y.event;y=y.listeners;e:{var x=void 0;if(u)for(var R=y.length-1;0<=R;R--){var H=y[R],G=H.instance,ne=H.currentTarget;if(H=H.listener,G!==x&&w.isPropagationStopped())break e;Wv(w,H,ne),x=G}else for(R=0;R<y.length;R++){if(H=y[R],G=H.instance,ne=H.currentTarget,H=H.listener,G!==x&&w.isPropagationStopped())break e;Wv(w,H,ne),x=G}}}if(Or)throw a=Yl,Or=!1,Yl=null,a}function vt(a,u){var h=u[Op];h===void 0&&(h=u[Op]=new Set);var y=a+"__bubble";h.has(y)||(Kv(u,a,2,!1),h.add(y))}function bp(a,u,h){var y=0;u&&(y|=4),Kv(h,a,y,u)}var bf="_reactListening"+Math.random().toString(36).slice(2);function du(a){if(!a[bf]){a[bf]=!0,i.forEach(function(h){h!=="selectionchange"&&(HC.has(h)||bp(h,!1,a),bp(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[bf]||(u[bf]=!0,bp("selectionchange",!1,u))}}function Kv(a,u,h,y){switch(ru(u)){case 1:var w=Tt;break;case 4:w=mp;break;default:w=nu}h=w.bind(null,u,h,a),w=void 0,!va||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),y?w!==void 0?a.addEventListener(u,h,{capture:!0,passive:w}):a.addEventListener(u,h,!0):w!==void 0?a.addEventListener(u,h,{passive:w}):a.addEventListener(u,h,!1)}function kp(a,u,h,y,w){var x=y;if(!(u&1)&&!(u&2)&&y!==null)e:for(;;){if(y===null)return;var R=y.tag;if(R===3||R===4){var H=y.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(R===4)for(R=y.return;R!==null;){var G=R.tag;if((G===3||G===4)&&(G=R.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;R=R.return}for(;H!==null;){if(R=Po(H),R===null)return;if(G=R.tag,G===5||G===6){y=x=R;continue e}H=H.parentNode}}y=y.return}Ql(function(){var ne=x,de=ga(h),pe=[];e:{var he=Hv.get(a);if(he!==void 0){var xe=Ra,Ae=a;switch(a){case"keypress":if(Aa(h)===0)break e;case"keydown":case"keyup":xe=E;break;case"focusin":Ae="focus",xe=Da;break;case"focusout":Ae="blur",xe=Da;break;case"beforeblur":case"afterblur":xe=Da;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=ae;break;case $v:case Uv:case jv:xe=Vi;break;case Bv:xe=lt;break;case"scroll":xe=gp;break;case"wheel":xe=Ze;break;case"copy":case"cut":case"paste":xe=_f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=z}var Re=(u&4)!==0,Lt=!Re&&a==="scroll",Z=Re?he!==null?he+"Capture":null:he;Re=[];for(var Q=ne,te;Q!==null;){te=Q;var ge=te.stateNode;if(te.tag===5&&ge!==null&&(te=ge,Z!==null&&(ge=Mt(Q,Z),ge!=null&&Re.push(pu(Q,ge,te)))),Lt)break;Q=Q.return}0<Re.length&&(he=new xe(he,Ae,null,h,de),pe.push({event:he,listeners:Re}))}}if(!(u&7)){e:{if(he=a==="mouseover"||a==="pointerover",xe=a==="mouseout"||a==="pointerout",he&&h!==rn&&(Ae=h.relatedTarget||h.fromElement)&&(Po(Ae)||Ae[zi]))break e;if((xe||he)&&(he=de.window===de?de:(he=de.ownerDocument)?he.defaultView||he.parentWindow:window,xe?(Ae=h.relatedTarget||h.toElement,xe=ne,Ae=Ae?Po(Ae):null,Ae!==null&&(Lt=Nr(Ae),Ae!==Lt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(xe=null,Ae=ne),xe!==Ae)){if(Re=Oa,ge="onMouseLeave",Z="onMouseEnter",Q="mouse",(a==="pointerout"||a==="pointerover")&&(Re=z,ge="onPointerLeave",Z="onPointerEnter",Q="pointer"),Lt=xe==null?he:ja(xe),te=Ae==null?he:ja(Ae),he=new Re(ge,Q+"leave",xe,h,de),he.target=Lt,he.relatedTarget=te,ge=null,Po(de)===ne&&(Re=new Re(Z,Q+"enter",Ae,h,de),Re.target=te,Re.relatedTarget=Lt,ge=Re),Lt=ge,xe&&Ae)t:{for(Re=xe,Z=Ae,Q=0,te=Re;te;te=$a(te))Q++;for(te=0,ge=Z;ge;ge=$a(ge))te++;for(;0<Q-te;)Re=$a(Re),Q--;for(;0<te-Q;)Z=$a(Z),te--;for(;Q--;){if(Re===Z||Z!==null&&Re===Z.alternate)break t;Re=$a(Re),Z=$a(Z)}Re=null}else Re=null;xe!==null&&Qv(pe,he,xe,Re,!1),Ae!==null&&Lt!==null&&Qv(pe,Lt,Ae,Re,!0)}}e:{if(he=ne?ja(ne):window,xe=he.nodeName&&he.nodeName.toLowerCase(),xe==="select"||xe==="input"&&he.type==="file")var Pe=DC;else if(Cv(he))if(Rv)Pe=VC;else{Pe=LC;var Fe=MC}else(xe=he.nodeName)&&xe.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Pe=FC);if(Pe&&(Pe=Pe(a,ne))){Av(pe,Pe,h,de);break e}Fe&&Fe(a,he,ne),a==="focusout"&&(Fe=he._wrapperState)&&Fe.controlled&&he.type==="number"&&Kn(he,"number",he.value)}switch(Fe=ne?ja(ne):window,a){case"focusin":(Cv(Fe)||Fe.contentEditable==="true")&&(Va=Fe,wp=ne,fu=null);break;case"focusout":fu=wp=Va=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,Vv(pe,h,de);break;case"selectionchange":if(UC)break;case"keydown":case"keyup":Vv(pe,h,de)}var Ve;if(zt)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Fa?kv(a,h)&&(Be="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Be="onCompositionStart");Be&&(Ro&&h.locale!=="ko"&&(Fa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Fa&&(Ve=iu()):(Zn=de,Ca="value"in Zn?Zn.value:Zn.textContent,Fa=!0)),Fe=kf(ne,Be),0<Fe.length&&(Be=new au(Be,a,null,h,de),pe.push({event:Be,listeners:Fe}),Ve?Be.data=Ve:(Ve=Iv(h),Ve!==null&&(Be.data=Ve)))),(Ve=er?RC(a,h):PC(a,h))&&(ne=kf(ne,"onBeforeInput"),0<ne.length&&(de=new au("onBeforeInput","beforeinput",null,h,de),pe.push({event:de,listeners:ne}),de.data=Ve))}Gv(pe,u)})}function pu(a,u,h){return{instance:a,listener:u,currentTarget:h}}function kf(a,u){for(var h=u+"Capture",y=[];a!==null;){var w=a,x=w.stateNode;w.tag===5&&x!==null&&(w=x,x=Mt(a,h),x!=null&&y.unshift(pu(a,x,w)),x=Mt(a,u),x!=null&&y.push(pu(a,x,w))),a=a.return}return y}function $a(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Qv(a,u,h,y,w){for(var x=u._reactName,R=[];h!==null&&h!==y;){var H=h,G=H.alternate,ne=H.stateNode;if(G!==null&&G===y)break;H.tag===5&&ne!==null&&(H=ne,w?(G=Mt(h,x),G!=null&&R.unshift(pu(h,G,H))):w||(G=Mt(h,x),G!=null&&R.push(pu(h,G,H)))),h=h.return}R.length!==0&&a.push({event:u,listeners:R})}var qC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function Yv(a){return(typeof a=="string"?a:""+a).replace(qC,`
`).replace(WC,"")}function If(a,u,h){if(u=Yv(u),Yv(a)!==u&&h)throw Error(r(425))}function Cf(){}var Ip=null,Cp=null;function Ap(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(a){return Xv.resolve(null).then(a).catch(QC)}:Rp;function QC(a){setTimeout(function(){throw a})}function Pp(a,u){var h=u,y=0;do{var w=h.nextSibling;if(a.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(y===0){a.removeChild(w),Vr(u);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=w}while(h);Vr(u)}function Cs(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Jv(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),ci="__reactFiber$"+Ua,mu="__reactProps$"+Ua,zi="__reactContainer$"+Ua,Op="__reactEvents$"+Ua,YC="__reactListeners$"+Ua,XC="__reactHandles$"+Ua;function Po(a){var u=a[ci];if(u)return u;for(var h=a.parentNode;h;){if(u=h[zi]||h[ci]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=Jv(a);a!==null;){if(h=a[ci])return h;a=Jv(a)}return u}a=h,h=a.parentNode}return null}function gu(a){return a=a[ci]||a[zi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ja(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Af(a){return a[mu]||null}var Np=[],Ba=-1;function As(a){return{current:a}}function wt(a){0>Ba||(a.current=Np[Ba],Np[Ba]=null,Ba--)}function mt(a,u){Ba++,Np[Ba]=a.current,a.current=u}var Rs={},dn=As(Rs),Nn=As(!1),Oo=Rs;function Ha(a,u){var h=a.type.contextTypes;if(!h)return Rs;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var w={},x;for(x in h)w[x]=u[x];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=w),w}function Dn(a){return a=a.childContextTypes,a!=null}function Rf(){wt(Nn),wt(dn)}function Zv(a,u,h){if(dn.current!==Rs)throw Error(r(168));mt(dn,u),mt(Nn,h)}function e0(a,u,h){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var w in y)if(!(w in u))throw Error(r(108,Me(a)||"Unknown",w));return V({},h,y)}function Pf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Rs,Oo=dn.current,mt(dn,a),mt(Nn,Nn.current),!0}function t0(a,u,h){var y=a.stateNode;if(!y)throw Error(r(169));h?(a=e0(a,u,Oo),y.__reactInternalMemoizedMergedChildContext=a,wt(Nn),wt(dn),mt(dn,a)):wt(Nn),mt(Nn,h)}var $i=null,Of=!1,Dp=!1;function n0(a){$i===null?$i=[a]:$i.push(a)}function JC(a){Of=!0,n0(a)}function Ps(){if(!Dp&&$i!==null){Dp=!0;var a=0,u=Je;try{var h=$i;for(Je=1;a<h.length;a++){var y=h[a];do y=y(!0);while(y!==null)}$i=null,Of=!1}catch(w){throw $i!==null&&($i=$i.slice(a+1)),Ta(To,Ps),w}finally{Je=u,Dp=!1}}return null}var qa=[],Wa=0,Nf=null,Df=0,mr=[],gr=0,No=null,Ui=1,ji="";function Do(a,u){qa[Wa++]=Df,qa[Wa++]=Nf,Nf=a,Df=u}function r0(a,u,h){mr[gr++]=Ui,mr[gr++]=ji,mr[gr++]=No,No=a;var y=Ui;a=ji;var w=32-Tn(y)-1;y&=~(1<<w),h+=1;var x=32-Tn(u)+w;if(30<x){var R=w-w%5;x=(y&(1<<R)-1).toString(32),y>>=R,w-=R,Ui=1<<32-Tn(u)+w|h<<w|y,ji=x+a}else Ui=1<<x|h<<w|y,ji=a}function Mp(a){a.return!==null&&(Do(a,1),r0(a,1,0))}function Lp(a){for(;a===Nf;)Nf=qa[--Wa],qa[Wa]=null,Df=qa[--Wa],qa[Wa]=null;for(;a===No;)No=mr[--gr],mr[gr]=null,ji=mr[--gr],mr[gr]=null,Ui=mr[--gr],mr[gr]=null}var tr=null,nr=null,St=!1,Ur=null;function i0(a,u){var h=wr(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function s0(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,tr=a,nr=Cs(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,tr=a,nr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=No!==null?{id:Ui,overflow:ji}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=wr(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,tr=a,nr=null,!0):!1;default:return!1}}function Fp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Vp(a){if(St){var u=nr;if(u){var h=u;if(!s0(a,u)){if(Fp(a))throw Error(r(418));u=Cs(h.nextSibling);var y=tr;u&&s0(a,u)?i0(y,h):(a.flags=a.flags&-4097|2,St=!1,tr=a)}}else{if(Fp(a))throw Error(r(418));a.flags=a.flags&-4097|2,St=!1,tr=a}}}function o0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tr=a}function Mf(a){if(a!==tr)return!1;if(!St)return o0(a),St=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Ap(a.type,a.memoizedProps)),u&&(u=nr)){if(Fp(a))throw a0(),Error(r(418));for(;u;)i0(a,u),u=Cs(u.nextSibling)}if(o0(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){nr=Cs(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}nr=null}}else nr=tr?Cs(a.stateNode.nextSibling):null;return!0}function a0(){for(var a=nr;a;)a=Cs(a.nextSibling)}function Ga(){nr=tr=null,St=!1}function zp(a){Ur===null?Ur=[a]:Ur.push(a)}var ZC=U.ReactCurrentBatchConfig;function yu(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var y=h.stateNode}if(!y)throw Error(r(147,a));var w=y,x=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===x?u.ref:(u=function(R){var H=w.refs;R===null?delete H[x]:H[x]=R},u._stringRef=x,u)}if(typeof a!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,a))}return a}function Lf(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function l0(a){var u=a._init;return u(a._payload)}function u0(a){function u(Z,Q){if(a){var te=Z.deletions;te===null?(Z.deletions=[Q],Z.flags|=16):te.push(Q)}}function h(Z,Q){if(!a)return null;for(;Q!==null;)u(Z,Q),Q=Q.sibling;return null}function y(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function w(Z,Q){return Z=zs(Z,Q),Z.index=0,Z.sibling=null,Z}function x(Z,Q,te){return Z.index=te,a?(te=Z.alternate,te!==null?(te=te.index,te<Q?(Z.flags|=2,Q):te):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function R(Z){return a&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,Q,te,ge){return Q===null||Q.tag!==6?(Q=Rm(te,Z.mode,ge),Q.return=Z,Q):(Q=w(Q,te),Q.return=Z,Q)}function G(Z,Q,te,ge){var Pe=te.type;return Pe===A?de(Z,Q,te.props.children,ge,te.key):Q!==null&&(Q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&l0(Pe)===Q.type)?(ge=w(Q,te.props),ge.ref=yu(Z,Q,te),ge.return=Z,ge):(ge=oh(te.type,te.key,te.props,null,Z.mode,ge),ge.ref=yu(Z,Q,te),ge.return=Z,ge)}function ne(Z,Q,te,ge){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Pm(te,Z.mode,ge),Q.return=Z,Q):(Q=w(Q,te.children||[]),Q.return=Z,Q)}function de(Z,Q,te,ge,Pe){return Q===null||Q.tag!==7?(Q=jo(te,Z.mode,ge,Pe),Q.return=Z,Q):(Q=w(Q,te),Q.return=Z,Q)}function pe(Z,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Rm(""+Q,Z.mode,te),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return te=oh(Q.type,Q.key,Q.props,null,Z.mode,te),te.ref=yu(Z,null,Q),te.return=Z,te;case O:return Q=Pm(Q,Z.mode,te),Q.return=Z,Q;case oe:var ge=Q._init;return pe(Z,ge(Q._payload),te)}if(Rn(Q)||ue(Q))return Q=jo(Q,Z.mode,te,null),Q.return=Z,Q;Lf(Z,Q)}return null}function he(Z,Q,te,ge){var Pe=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Pe!==null?null:H(Z,Q,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return te.key===Pe?G(Z,Q,te,ge):null;case O:return te.key===Pe?ne(Z,Q,te,ge):null;case oe:return Pe=te._init,he(Z,Q,Pe(te._payload),ge)}if(Rn(te)||ue(te))return Pe!==null?null:de(Z,Q,te,ge,null);Lf(Z,te)}return null}function xe(Z,Q,te,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Z=Z.get(te)||null,H(Q,Z,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case N:return Z=Z.get(ge.key===null?te:ge.key)||null,G(Q,Z,ge,Pe);case O:return Z=Z.get(ge.key===null?te:ge.key)||null,ne(Q,Z,ge,Pe);case oe:var Fe=ge._init;return xe(Z,Q,te,Fe(ge._payload),Pe)}if(Rn(ge)||ue(ge))return Z=Z.get(te)||null,de(Q,Z,ge,Pe,null);Lf(Q,ge)}return null}function Ae(Z,Q,te,ge){for(var Pe=null,Fe=null,Ve=Q,Be=Q=0,en=null;Ve!==null&&Be<te.length;Be++){Ve.index>Be?(en=Ve,Ve=null):en=Ve.sibling;var st=he(Z,Ve,te[Be],ge);if(st===null){Ve===null&&(Ve=en);break}a&&Ve&&st.alternate===null&&u(Z,Ve),Q=x(st,Q,Be),Fe===null?Pe=st:Fe.sibling=st,Fe=st,Ve=en}if(Be===te.length)return h(Z,Ve),St&&Do(Z,Be),Pe;if(Ve===null){for(;Be<te.length;Be++)Ve=pe(Z,te[Be],ge),Ve!==null&&(Q=x(Ve,Q,Be),Fe===null?Pe=Ve:Fe.sibling=Ve,Fe=Ve);return St&&Do(Z,Be),Pe}for(Ve=y(Z,Ve);Be<te.length;Be++)en=xe(Ve,Z,Be,te[Be],ge),en!==null&&(a&&en.alternate!==null&&Ve.delete(en.key===null?Be:en.key),Q=x(en,Q,Be),Fe===null?Pe=en:Fe.sibling=en,Fe=en);return a&&Ve.forEach(function($s){return u(Z,$s)}),St&&Do(Z,Be),Pe}function Re(Z,Q,te,ge){var Pe=ue(te);if(typeof Pe!="function")throw Error(r(150));if(te=Pe.call(te),te==null)throw Error(r(151));for(var Fe=Pe=null,Ve=Q,Be=Q=0,en=null,st=te.next();Ve!==null&&!st.done;Be++,st=te.next()){Ve.index>Be?(en=Ve,Ve=null):en=Ve.sibling;var $s=he(Z,Ve,st.value,ge);if($s===null){Ve===null&&(Ve=en);break}a&&Ve&&$s.alternate===null&&u(Z,Ve),Q=x($s,Q,Be),Fe===null?Pe=$s:Fe.sibling=$s,Fe=$s,Ve=en}if(st.done)return h(Z,Ve),St&&Do(Z,Be),Pe;if(Ve===null){for(;!st.done;Be++,st=te.next())st=pe(Z,st.value,ge),st!==null&&(Q=x(st,Q,Be),Fe===null?Pe=st:Fe.sibling=st,Fe=st);return St&&Do(Z,Be),Pe}for(Ve=y(Z,Ve);!st.done;Be++,st=te.next())st=xe(Ve,Z,Be,st.value,ge),st!==null&&(a&&st.alternate!==null&&Ve.delete(st.key===null?Be:st.key),Q=x(st,Q,Be),Fe===null?Pe=st:Fe.sibling=st,Fe=st);return a&&Ve.forEach(function(PA){return u(Z,PA)}),St&&Do(Z,Be),Pe}function Lt(Z,Q,te,ge){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case N:e:{for(var Pe=te.key,Fe=Q;Fe!==null;){if(Fe.key===Pe){if(Pe=te.type,Pe===A){if(Fe.tag===7){h(Z,Fe.sibling),Q=w(Fe,te.props.children),Q.return=Z,Z=Q;break e}}else if(Fe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&l0(Pe)===Fe.type){h(Z,Fe.sibling),Q=w(Fe,te.props),Q.ref=yu(Z,Fe,te),Q.return=Z,Z=Q;break e}h(Z,Fe);break}else u(Z,Fe);Fe=Fe.sibling}te.type===A?(Q=jo(te.props.children,Z.mode,ge,te.key),Q.return=Z,Z=Q):(ge=oh(te.type,te.key,te.props,null,Z.mode,ge),ge.ref=yu(Z,Q,te),ge.return=Z,Z=ge)}return R(Z);case O:e:{for(Fe=te.key;Q!==null;){if(Q.key===Fe)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){h(Z,Q.sibling),Q=w(Q,te.children||[]),Q.return=Z,Z=Q;break e}else{h(Z,Q);break}else u(Z,Q);Q=Q.sibling}Q=Pm(te,Z.mode,ge),Q.return=Z,Z=Q}return R(Z);case oe:return Fe=te._init,Lt(Z,Q,Fe(te._payload),ge)}if(Rn(te))return Ae(Z,Q,te,ge);if(ue(te))return Re(Z,Q,te,ge);Lf(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Q!==null&&Q.tag===6?(h(Z,Q.sibling),Q=w(Q,te),Q.return=Z,Z=Q):(h(Z,Q),Q=Rm(te,Z.mode,ge),Q.return=Z,Z=Q),R(Z)):h(Z,Q)}return Lt}var Ka=u0(!0),c0=u0(!1),Ff=As(null),Vf=null,Qa=null,$p=null;function Up(){$p=Qa=Vf=null}function jp(a){var u=Ff.current;wt(Ff),a._currentValue=u}function Bp(a,u,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===h)break;a=a.return}}function Ya(a,u){Vf=a,$p=Qa=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Mn=!0),a.firstContext=null)}function yr(a){var u=a._currentValue;if($p!==a)if(a={context:a,memoizedValue:u,next:null},Qa===null){if(Vf===null)throw Error(r(308));Qa=a,Vf.dependencies={lanes:0,firstContext:a}}else Qa=Qa.next=a;return u}var Mo=null;function Hp(a){Mo===null?Mo=[a]:Mo.push(a)}function f0(a,u,h,y){var w=u.interleaved;return w===null?(h.next=h,Hp(u)):(h.next=w.next,w.next=h),u.interleaved=h,Bi(a,y)}function Bi(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Os=!1;function qp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h0(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Hi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ns(a,u,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,rt&2){var w=y.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),y.pending=u,Bi(a,h)}return w=y.interleaved,w===null?(u.next=u,Hp(y)):(u.next=w.next,w.next=u),y.interleaved=u,Bi(a,h)}function zf(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,xs(a,h)}}function d0(a,u){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var w=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};x===null?w=x=R:x=x.next=R,h=h.next}while(h!==null);x===null?w=x=u:x=x.next=u}else w=x=u;h={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:x,shared:y.shared,effects:y.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function $f(a,u,h,y){var w=a.updateQueue;Os=!1;var x=w.firstBaseUpdate,R=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var G=H,ne=G.next;G.next=null,R===null?x=ne:R.next=ne,R=G;var de=a.alternate;de!==null&&(de=de.updateQueue,H=de.lastBaseUpdate,H!==R&&(H===null?de.firstBaseUpdate=ne:H.next=ne,de.lastBaseUpdate=G))}if(x!==null){var pe=w.baseState;R=0,de=ne=G=null,H=x;do{var he=H.lane,xe=H.eventTime;if((y&he)===he){de!==null&&(de=de.next={eventTime:xe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ae=a,Re=H;switch(he=u,xe=h,Re.tag){case 1:if(Ae=Re.payload,typeof Ae=="function"){pe=Ae.call(xe,pe,he);break e}pe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Re.payload,he=typeof Ae=="function"?Ae.call(xe,pe,he):Ae,he==null)break e;pe=V({},pe,he);break e;case 2:Os=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,he=w.effects,he===null?w.effects=[H]:he.push(H))}else xe={eventTime:xe,lane:he,tag:H.tag,payload:H.payload,callback:H.callback,next:null},de===null?(ne=de=xe,G=pe):de=de.next=xe,R|=he;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;he=H,H=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(de===null&&(G=pe),w.baseState=G,w.firstBaseUpdate=ne,w.lastBaseUpdate=de,u=w.shared.interleaved,u!==null){w=u;do R|=w.lane,w=w.next;while(w!==u)}else x===null&&(w.shared.lanes=0);Vo|=R,a.lanes=R,a.memoizedState=pe}}function p0(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],w=y.callback;if(w!==null){if(y.callback=null,y=h,typeof w!="function")throw Error(r(191,w));w.call(y)}}}var _u={},fi=As(_u),vu=As(_u),wu=As(_u);function Lo(a){if(a===_u)throw Error(r(174));return a}function Wp(a,u){switch(mt(wu,u),mt(vu,a),mt(fi,_u),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:le(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=le(u,a)}wt(fi),mt(fi,u)}function Xa(){wt(fi),wt(vu),wt(wu)}function m0(a){Lo(wu.current);var u=Lo(fi.current),h=le(u,a.type);u!==h&&(mt(vu,a),mt(fi,h))}function Gp(a){vu.current===a&&(wt(fi),wt(vu))}var Rt=As(0);function Uf(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Kp=[];function Qp(){for(var a=0;a<Kp.length;a++)Kp[a]._workInProgressVersionPrimary=null;Kp.length=0}var jf=U.ReactCurrentDispatcher,Yp=U.ReactCurrentBatchConfig,Fo=0,Pt=null,qt=null,Jt=null,Bf=!1,Eu=!1,xu=0,eA=0;function pn(){throw Error(r(321))}function Xp(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!$r(a[h],u[h]))return!1;return!0}function Jp(a,u,h,y,w,x){if(Fo=x,Pt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,jf.current=a===null||a.memoizedState===null?iA:sA,a=h(y,w),Eu){x=0;do{if(Eu=!1,xu=0,25<=x)throw Error(r(301));x+=1,Jt=qt=null,u.updateQueue=null,jf.current=oA,a=h(y,w)}while(Eu)}if(jf.current=Wf,u=qt!==null&&qt.next!==null,Fo=0,Jt=qt=Pt=null,Bf=!1,u)throw Error(r(300));return a}function Zp(){var a=xu!==0;return xu=0,a}function hi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Pt.memoizedState=Jt=a:Jt=Jt.next=a,Jt}function _r(){if(qt===null){var a=Pt.alternate;a=a!==null?a.memoizedState:null}else a=qt.next;var u=Jt===null?Pt.memoizedState:Jt.next;if(u!==null)Jt=u,qt=a;else{if(a===null)throw Error(r(310));qt=a,a={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?Pt.memoizedState=Jt=a:Jt=Jt.next=a}return Jt}function Tu(a,u){return typeof u=="function"?u(a):u}function em(a){var u=_r(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var y=qt,w=y.baseQueue,x=h.pending;if(x!==null){if(w!==null){var R=w.next;w.next=x.next,x.next=R}y.baseQueue=w=x,h.pending=null}if(w!==null){x=w.next,y=y.baseState;var H=R=null,G=null,ne=x;do{var de=ne.lane;if((Fo&de)===de)G!==null&&(G=G.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),y=ne.hasEagerState?ne.eagerState:a(y,ne.action);else{var pe={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};G===null?(H=G=pe,R=y):G=G.next=pe,Pt.lanes|=de,Vo|=de}ne=ne.next}while(ne!==null&&ne!==x);G===null?R=y:G.next=H,$r(y,u.memoizedState)||(Mn=!0),u.memoizedState=y,u.baseState=R,u.baseQueue=G,h.lastRenderedState=y}if(a=h.interleaved,a!==null){w=a;do x=w.lane,Pt.lanes|=x,Vo|=x,w=w.next;while(w!==a)}else w===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function tm(a){var u=_r(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var y=h.dispatch,w=h.pending,x=u.memoizedState;if(w!==null){h.pending=null;var R=w=w.next;do x=a(x,R.action),R=R.next;while(R!==w);$r(x,u.memoizedState)||(Mn=!0),u.memoizedState=x,u.baseQueue===null&&(u.baseState=x),h.lastRenderedState=x}return[x,y]}function g0(){}function y0(a,u){var h=Pt,y=_r(),w=u(),x=!$r(y.memoizedState,w);if(x&&(y.memoizedState=w,Mn=!0),y=y.queue,nm(w0.bind(null,h,y,a),[a]),y.getSnapshot!==u||x||Jt!==null&&Jt.memoizedState.tag&1){if(h.flags|=2048,Su(9,v0.bind(null,h,y,w,u),void 0,null),Zt===null)throw Error(r(349));Fo&30||_0(h,u,w)}return w}function _0(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Pt.updateQueue,u===null?(u={lastEffect:null,stores:null},Pt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function v0(a,u,h,y){u.value=h,u.getSnapshot=y,E0(u)&&x0(a)}function w0(a,u,h){return h(function(){E0(u)&&x0(a)})}function E0(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!$r(a,h)}catch{return!0}}function x0(a){var u=Bi(a,1);u!==null&&qr(u,a,1,-1)}function T0(a){var u=hi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:a},u.queue=a,a=a.dispatch=rA.bind(null,Pt,a),[u.memoizedState,a]}function Su(a,u,h,y){return a={tag:a,create:u,destroy:h,deps:y,next:null},u=Pt.updateQueue,u===null?(u={lastEffect:null,stores:null},Pt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,u.lastEffect=a)),a}function S0(){return _r().memoizedState}function Hf(a,u,h,y){var w=hi();Pt.flags|=a,w.memoizedState=Su(1|u,h,void 0,y===void 0?null:y)}function qf(a,u,h,y){var w=_r();y=y===void 0?null:y;var x=void 0;if(qt!==null){var R=qt.memoizedState;if(x=R.destroy,y!==null&&Xp(y,R.deps)){w.memoizedState=Su(u,h,x,y);return}}Pt.flags|=a,w.memoizedState=Su(1|u,h,x,y)}function b0(a,u){return Hf(8390656,8,a,u)}function nm(a,u){return qf(2048,8,a,u)}function k0(a,u){return qf(4,2,a,u)}function I0(a,u){return qf(4,4,a,u)}function C0(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function A0(a,u,h){return h=h!=null?h.concat([a]):null,qf(4,4,C0.bind(null,u,a),h)}function rm(){}function R0(a,u){var h=_r();u=u===void 0?null:u;var y=h.memoizedState;return y!==null&&u!==null&&Xp(u,y[1])?y[0]:(h.memoizedState=[a,u],a)}function P0(a,u){var h=_r();u=u===void 0?null:u;var y=h.memoizedState;return y!==null&&u!==null&&Xp(u,y[1])?y[0]:(a=a(),h.memoizedState=[a,u],a)}function O0(a,u,h){return Fo&21?($r(h,u)||(h=ko(),Pt.lanes|=h,Vo|=h,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Mn=!0),a.memoizedState=h)}function tA(a,u){var h=Je;Je=h!==0&&4>h?h:4,a(!0);var y=Yp.transition;Yp.transition={};try{a(!1),u()}finally{Je=h,Yp.transition=y}}function N0(){return _r().memoizedState}function nA(a,u,h){var y=Fs(a);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},D0(a))M0(u,h);else if(h=f0(a,u,h,y),h!==null){var w=kn();qr(h,a,y,w),L0(h,u,y)}}function rA(a,u,h){var y=Fs(a),w={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(D0(a))M0(u,w);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=u.lastRenderedReducer,x!==null))try{var R=u.lastRenderedState,H=x(R,h);if(w.hasEagerState=!0,w.eagerState=H,$r(H,R)){var G=u.interleaved;G===null?(w.next=w,Hp(u)):(w.next=G.next,G.next=w),u.interleaved=w;return}}catch{}finally{}h=f0(a,u,w,y),h!==null&&(w=kn(),qr(h,a,y,w),L0(h,u,y))}}function D0(a){var u=a.alternate;return a===Pt||u!==null&&u===Pt}function M0(a,u){Eu=Bf=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function L0(a,u,h){if(h&4194240){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,xs(a,h)}}var Wf={readContext:yr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},iA={readContext:yr,useCallback:function(a,u){return hi().memoizedState=[a,u===void 0?null:u],a},useContext:yr,useEffect:b0,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,Hf(4194308,4,C0.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Hf(4194308,4,a,u)},useInsertionEffect:function(a,u){return Hf(4,2,a,u)},useMemo:function(a,u){var h=hi();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var y=hi();return u=h!==void 0?h(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=nA.bind(null,Pt,a),[y.memoizedState,a]},useRef:function(a){var u=hi();return a={current:a},u.memoizedState=a},useState:T0,useDebugValue:rm,useDeferredValue:function(a){return hi().memoizedState=a},useTransition:function(){var a=T0(!1),u=a[0];return a=tA.bind(null,a[1]),hi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var y=Pt,w=hi();if(St){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Zt===null)throw Error(r(349));Fo&30||_0(y,u,h)}w.memoizedState=h;var x={value:h,getSnapshot:u};return w.queue=x,b0(w0.bind(null,y,x,a),[a]),y.flags|=2048,Su(9,v0.bind(null,y,x,h,u),void 0,null),h},useId:function(){var a=hi(),u=Zt.identifierPrefix;if(St){var h=ji,y=Ui;h=(y&~(1<<32-Tn(y)-1)).toString(32)+h,u=":"+u+"R"+h,h=xu++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=eA++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},sA={readContext:yr,useCallback:R0,useContext:yr,useEffect:nm,useImperativeHandle:A0,useInsertionEffect:k0,useLayoutEffect:I0,useMemo:P0,useReducer:em,useRef:S0,useState:function(){return em(Tu)},useDebugValue:rm,useDeferredValue:function(a){var u=_r();return O0(u,qt.memoizedState,a)},useTransition:function(){var a=em(Tu)[0],u=_r().memoizedState;return[a,u]},useMutableSource:g0,useSyncExternalStore:y0,useId:N0,unstable_isNewReconciler:!1},oA={readContext:yr,useCallback:R0,useContext:yr,useEffect:nm,useImperativeHandle:A0,useInsertionEffect:k0,useLayoutEffect:I0,useMemo:P0,useReducer:tm,useRef:S0,useState:function(){return tm(Tu)},useDebugValue:rm,useDeferredValue:function(a){var u=_r();return qt===null?u.memoizedState=a:O0(u,qt.memoizedState,a)},useTransition:function(){var a=tm(Tu)[0],u=_r().memoizedState;return[a,u]},useMutableSource:g0,useSyncExternalStore:y0,useId:N0,unstable_isNewReconciler:!1};function jr(a,u){if(a&&a.defaultProps){u=V({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function im(a,u,h,y){u=a.memoizedState,h=h(y,u),h=h==null?u:V({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Gf={isMounted:function(a){return(a=a._reactInternals)?Nr(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var y=kn(),w=Fs(a),x=Hi(y,w);x.payload=u,h!=null&&(x.callback=h),u=Ns(a,x,w),u!==null&&(qr(u,a,w,y),zf(u,a,w))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var y=kn(),w=Fs(a),x=Hi(y,w);x.tag=1,x.payload=u,h!=null&&(x.callback=h),u=Ns(a,x,w),u!==null&&(qr(u,a,w,y),zf(u,a,w))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=kn(),y=Fs(a),w=Hi(h,y);w.tag=2,u!=null&&(w.callback=u),u=Ns(a,w,y),u!==null&&(qr(u,a,y,h),zf(u,a,y))}};function F0(a,u,h,y,w,x,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,x,R):u.prototype&&u.prototype.isPureReactComponent?!cu(h,y)||!cu(w,x):!0}function V0(a,u,h){var y=!1,w=Rs,x=u.contextType;return typeof x=="object"&&x!==null?x=yr(x):(w=Dn(u)?Oo:dn.current,y=u.contextTypes,x=(y=y!=null)?Ha(a,w):Rs),u=new u(h,x),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Gf,a.stateNode=u,u._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=x),u}function z0(a,u,h,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==a&&Gf.enqueueReplaceState(u,u.state,null)}function sm(a,u,h,y){var w=a.stateNode;w.props=h,w.state=a.memoizedState,w.refs={},qp(a);var x=u.contextType;typeof x=="object"&&x!==null?w.context=yr(x):(x=Dn(u)?Oo:dn.current,w.context=Ha(a,x)),w.state=a.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(im(a,u,x,h),w.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Gf.enqueueReplaceState(w,w.state,null),$f(a,h,w,y),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308)}function Ja(a,u){try{var h="",y=u;do h+=ke(y),y=y.return;while(y);var w=h}catch(x){w=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:u,stack:w,digest:null}}function om(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function am(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var aA=typeof WeakMap=="function"?WeakMap:Map;function $0(a,u,h){h=Hi(-1,h),h.tag=3,h.payload={element:null};var y=u.value;return h.callback=function(){eh||(eh=!0,xm=y),am(a,u)},h}function U0(a,u,h){h=Hi(-1,h),h.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var w=u.value;h.payload=function(){return y(w)},h.callback=function(){am(a,u)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(h.callback=function(){am(a,u),typeof y!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})}),h}function j0(a,u,h){var y=a.pingCache;if(y===null){y=a.pingCache=new aA;var w=new Set;y.set(u,w)}else w=y.get(u),w===void 0&&(w=new Set,y.set(u,w));w.has(h)||(w.add(h),a=EA.bind(null,a,u,h),u.then(a,a))}function B0(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function H0(a,u,h,y,w){return a.mode&1?(a.flags|=65536,a.lanes=w,a):(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Hi(-1,1),u.tag=2,Ns(h,u,1))),h.lanes|=1),a)}var lA=U.ReactCurrentOwner,Mn=!1;function bn(a,u,h,y){u.child=a===null?c0(u,null,h,y):Ka(u,a.child,h,y)}function q0(a,u,h,y,w){h=h.render;var x=u.ref;return Ya(u,w),y=Jp(a,u,h,y,x,w),h=Zp(),a!==null&&!Mn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~w,qi(a,u,w)):(St&&h&&Mp(u),u.flags|=1,bn(a,u,y,w),u.child)}function W0(a,u,h,y,w){if(a===null){var x=h.type;return typeof x=="function"&&!Am(x)&&x.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=x,G0(a,u,x,y,w)):(a=oh(h.type,null,y,u,u.mode,w),a.ref=u.ref,a.return=u,u.child=a)}if(x=a.child,!(a.lanes&w)){var R=x.memoizedProps;if(h=h.compare,h=h!==null?h:cu,h(R,y)&&a.ref===u.ref)return qi(a,u,w)}return u.flags|=1,a=zs(x,y),a.ref=u.ref,a.return=u,u.child=a}function G0(a,u,h,y,w){if(a!==null){var x=a.memoizedProps;if(cu(x,y)&&a.ref===u.ref)if(Mn=!1,u.pendingProps=y=x,(a.lanes&w)!==0)a.flags&131072&&(Mn=!0);else return u.lanes=a.lanes,qi(a,u,w)}return lm(a,u,h,y,w)}function K0(a,u,h){var y=u.pendingProps,w=y.children,x=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(el,rr),rr|=h;else{if(!(h&1073741824))return a=x!==null?x.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,mt(el,rr),rr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=x!==null?x.baseLanes:h,mt(el,rr),rr|=y}else x!==null?(y=x.baseLanes|h,u.memoizedState=null):y=h,mt(el,rr),rr|=y;return bn(a,u,w,h),u.child}function Q0(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function lm(a,u,h,y,w){var x=Dn(h)?Oo:dn.current;return x=Ha(u,x),Ya(u,w),h=Jp(a,u,h,y,x,w),y=Zp(),a!==null&&!Mn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~w,qi(a,u,w)):(St&&y&&Mp(u),u.flags|=1,bn(a,u,h,w),u.child)}function Y0(a,u,h,y,w){if(Dn(h)){var x=!0;Pf(u)}else x=!1;if(Ya(u,w),u.stateNode===null)Qf(a,u),V0(u,h,y),sm(u,h,y,w),y=!0;else if(a===null){var R=u.stateNode,H=u.memoizedProps;R.props=H;var G=R.context,ne=h.contextType;typeof ne=="object"&&ne!==null?ne=yr(ne):(ne=Dn(h)?Oo:dn.current,ne=Ha(u,ne));var de=h.getDerivedStateFromProps,pe=typeof de=="function"||typeof R.getSnapshotBeforeUpdate=="function";pe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(H!==y||G!==ne)&&z0(u,R,y,ne),Os=!1;var he=u.memoizedState;R.state=he,$f(u,y,R,w),G=u.memoizedState,H!==y||he!==G||Nn.current||Os?(typeof de=="function"&&(im(u,h,de,y),G=u.memoizedState),(H=Os||F0(u,h,H,y,he,G,ne))?(pe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=G),R.props=y,R.state=G,R.context=ne,y=H):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{R=u.stateNode,h0(a,u),H=u.memoizedProps,ne=u.type===u.elementType?H:jr(u.type,H),R.props=ne,pe=u.pendingProps,he=R.context,G=h.contextType,typeof G=="object"&&G!==null?G=yr(G):(G=Dn(h)?Oo:dn.current,G=Ha(u,G));var xe=h.getDerivedStateFromProps;(de=typeof xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(H!==pe||he!==G)&&z0(u,R,y,G),Os=!1,he=u.memoizedState,R.state=he,$f(u,y,R,w);var Ae=u.memoizedState;H!==pe||he!==Ae||Nn.current||Os?(typeof xe=="function"&&(im(u,h,xe,y),Ae=u.memoizedState),(ne=Os||F0(u,h,ne,y,he,Ae,G)||!1)?(de||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,Ae,G),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,Ae,G)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||H===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ae),R.props=y,R.state=Ae,R.context=G,y=ne):(typeof R.componentDidUpdate!="function"||H===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),y=!1)}return um(a,u,h,y,x,w)}function um(a,u,h,y,w,x){Q0(a,u);var R=(u.flags&128)!==0;if(!y&&!R)return w&&t0(u,h,!1),qi(a,u,x);y=u.stateNode,lA.current=u;var H=R&&typeof h.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&R?(u.child=Ka(u,a.child,null,x),u.child=Ka(u,null,H,x)):bn(a,u,H,x),u.memoizedState=y.state,w&&t0(u,h,!0),u.child}function X0(a){var u=a.stateNode;u.pendingContext?Zv(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Zv(a,u.context,!1),Wp(a,u.containerInfo)}function J0(a,u,h,y,w){return Ga(),zp(w),u.flags|=256,bn(a,u,h,y),u.child}var cm={dehydrated:null,treeContext:null,retryLane:0};function fm(a){return{baseLanes:a,cachePool:null,transitions:null}}function Z0(a,u,h){var y=u.pendingProps,w=Rt.current,x=!1,R=(u.flags&128)!==0,H;if((H=R)||(H=a!==null&&a.memoizedState===null?!1:(w&2)!==0),H?(x=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(w|=1),mt(Rt,w&1),a===null)return Vp(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(R=y.children,a=y.fallback,x?(y=u.mode,x=u.child,R={mode:"hidden",children:R},!(y&1)&&x!==null?(x.childLanes=0,x.pendingProps=R):x=ah(R,y,0,null),a=jo(a,y,h,null),x.return=u,a.return=u,x.sibling=a,u.child=x,u.child.memoizedState=fm(h),u.memoizedState=cm,a):hm(u,R));if(w=a.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return uA(a,u,R,y,H,w,h);if(x){x=y.fallback,R=u.mode,w=a.child,H=w.sibling;var G={mode:"hidden",children:y.children};return!(R&1)&&u.child!==w?(y=u.child,y.childLanes=0,y.pendingProps=G,u.deletions=null):(y=zs(w,G),y.subtreeFlags=w.subtreeFlags&14680064),H!==null?x=zs(H,x):(x=jo(x,R,h,null),x.flags|=2),x.return=u,y.return=u,y.sibling=x,u.child=y,y=x,x=u.child,R=a.child.memoizedState,R=R===null?fm(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=a.childLanes&~h,u.memoizedState=cm,y}return x=a.child,a=x.sibling,y=zs(x,{mode:"visible",children:y.children}),!(u.mode&1)&&(y.lanes=h),y.return=u,y.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=y,u.memoizedState=null,y}function hm(a,u){return u=ah({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Kf(a,u,h,y){return y!==null&&zp(y),Ka(u,a.child,null,h),a=hm(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function uA(a,u,h,y,w,x,R){if(h)return u.flags&256?(u.flags&=-257,y=om(Error(r(422))),Kf(a,u,R,y)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(x=y.fallback,w=u.mode,y=ah({mode:"visible",children:y.children},w,0,null),x=jo(x,w,R,null),x.flags|=2,y.return=u,x.return=u,y.sibling=x,u.child=y,u.mode&1&&Ka(u,a.child,null,R),u.child.memoizedState=fm(R),u.memoizedState=cm,x);if(!(u.mode&1))return Kf(a,u,R,null);if(w.data==="$!"){if(y=w.nextSibling&&w.nextSibling.dataset,y)var H=y.dgst;return y=H,x=Error(r(419)),y=om(x,y,void 0),Kf(a,u,R,y)}if(H=(R&a.childLanes)!==0,Mn||H){if(y=Zt,y!==null){switch(R&-R){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(y.suspendedLanes|R)?0:w,w!==0&&w!==x.retryLane&&(x.retryLane=w,Bi(a,w),qr(y,a,w,-1))}return Cm(),y=om(Error(r(421))),Kf(a,u,R,y)}return w.data==="$?"?(u.flags|=128,u.child=a.child,u=xA.bind(null,a),w._reactRetry=u,null):(a=x.treeContext,nr=Cs(w.nextSibling),tr=u,St=!0,Ur=null,a!==null&&(mr[gr++]=Ui,mr[gr++]=ji,mr[gr++]=No,Ui=a.id,ji=a.overflow,No=u),u=hm(u,y.children),u.flags|=4096,u)}function ew(a,u,h){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Bp(a.return,u,h)}function dm(a,u,h,y,w){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:w}:(x.isBackwards=u,x.rendering=null,x.renderingStartTime=0,x.last=y,x.tail=h,x.tailMode=w)}function tw(a,u,h){var y=u.pendingProps,w=y.revealOrder,x=y.tail;if(bn(a,u,y.children,h),y=Rt.current,y&2)y=y&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ew(a,h,u);else if(a.tag===19)ew(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(mt(Rt,y),!(u.mode&1))u.memoizedState=null;else switch(w){case"forwards":for(h=u.child,w=null;h!==null;)a=h.alternate,a!==null&&Uf(a)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),dm(u,!1,w,h,x);break;case"backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(a=w.alternate,a!==null&&Uf(a)===null){u.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}dm(u,!0,h,null,x);break;case"together":dm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Qf(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function qi(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Vo|=u.lanes,!(h&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=zs(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=zs(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function cA(a,u,h){switch(u.tag){case 3:X0(u),Ga();break;case 5:m0(u);break;case 1:Dn(u.type)&&Pf(u);break;case 4:Wp(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,w=u.memoizedProps.value;mt(Ff,y._currentValue),y._currentValue=w;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(mt(Rt,Rt.current&1),u.flags|=128,null):h&u.child.childLanes?Z0(a,u,h):(mt(Rt,Rt.current&1),a=qi(a,u,h),a!==null?a.sibling:null);mt(Rt,Rt.current&1);break;case 19:if(y=(h&u.childLanes)!==0,a.flags&128){if(y)return tw(a,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(Rt,Rt.current),y)break;return null;case 22:case 23:return u.lanes=0,K0(a,u,h)}return qi(a,u,h)}var nw,pm,rw,iw;nw=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},pm=function(){},rw=function(a,u,h,y){var w=a.memoizedProps;if(w!==y){a=u.stateNode,Lo(fi.current);var x=null;switch(h){case"input":w=Cr(a,w),y=Cr(a,y),x=[];break;case"select":w=V({},w,{value:void 0}),y=V({},y,{value:void 0}),x=[];break;case"textarea":w=re(a,w),y=re(a,y),x=[];break;default:typeof w.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Cf)}Bt(h,y);var R;h=null;for(ne in w)if(!y.hasOwnProperty(ne)&&w.hasOwnProperty(ne)&&w[ne]!=null)if(ne==="style"){var H=w[ne];for(R in H)H.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?x||(x=[]):(x=x||[]).push(ne,null));for(ne in y){var G=y[ne];if(H=w!=null?w[ne]:void 0,y.hasOwnProperty(ne)&&G!==H&&(G!=null||H!=null))if(ne==="style")if(H){for(R in H)!H.hasOwnProperty(R)||G&&G.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in G)G.hasOwnProperty(R)&&H[R]!==G[R]&&(h||(h={}),h[R]=G[R])}else h||(x||(x=[]),x.push(ne,h)),h=G;else ne==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(x=x||[]).push(ne,G)):ne==="children"?typeof G!="string"&&typeof G!="number"||(x=x||[]).push(ne,""+G):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(G!=null&&ne==="onScroll"&&vt("scroll",a),x||H===G||(x=[])):(x=x||[]).push(ne,G))}h&&(x=x||[]).push("style",h);var ne=x;(u.updateQueue=ne)&&(u.flags|=4)}},iw=function(a,u,h,y){h!==y&&(u.flags|=4)};function bu(a,u){if(!St)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function mn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(u)for(var w=a.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags&14680064,y|=w.flags&14680064,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=y,a.childLanes=h,u}function fA(a,u,h){var y=u.pendingProps;switch(Lp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(u),null;case 1:return Dn(u.type)&&Rf(),mn(u),null;case 3:return y=u.stateNode,Xa(),wt(Nn),wt(dn),Qp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Mf(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Ur!==null&&(bm(Ur),Ur=null))),pm(a,u),mn(u),null;case 5:Gp(u);var w=Lo(wu.current);if(h=u.type,a!==null&&u.stateNode!=null)rw(a,u,h,y,w),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return mn(u),null}if(a=Lo(fi.current),Mf(u)){y=u.stateNode,h=u.type;var x=u.memoizedProps;switch(y[ci]=u,y[mu]=x,a=(u.mode&1)!==0,h){case"dialog":vt("cancel",y),vt("close",y);break;case"iframe":case"object":case"embed":vt("load",y);break;case"video":case"audio":for(w=0;w<hu.length;w++)vt(hu[w],y);break;case"source":vt("error",y);break;case"img":case"image":case"link":vt("error",y),vt("load",y);break;case"details":vt("toggle",y);break;case"input":Ar(y,x),vt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!x.multiple},vt("invalid",y);break;case"textarea":Ee(y,x),vt("invalid",y)}Bt(h,x),w=null;for(var R in x)if(x.hasOwnProperty(R)){var H=x[R];R==="children"?typeof H=="string"?y.textContent!==H&&(x.suppressHydrationWarning!==!0&&If(y.textContent,H,a),w=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(x.suppressHydrationWarning!==!0&&If(y.textContent,H,a),w=["children",""+H]):s.hasOwnProperty(R)&&H!=null&&R==="onScroll"&&vt("scroll",y)}switch(h){case"input":Qt(y),ys(y,x,!0);break;case"textarea":Qt(y),Oe(y);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(y.onclick=Cf)}y=w,u.updateQueue=y,y!==null&&(u.flags|=4)}else{R=w.nodeType===9?w:w.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=X(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=R.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=R.createElement(h,{is:y.is}):(a=R.createElement(h),h==="select"&&(R=a,y.multiple?R.multiple=!0:y.size&&(R.size=y.size))):a=R.createElementNS(a,h),a[ci]=u,a[mu]=y,nw(a,u,!1,!1),u.stateNode=a;e:{switch(R=cr(h,y),h){case"dialog":vt("cancel",a),vt("close",a),w=y;break;case"iframe":case"object":case"embed":vt("load",a),w=y;break;case"video":case"audio":for(w=0;w<hu.length;w++)vt(hu[w],a);w=y;break;case"source":vt("error",a),w=y;break;case"img":case"image":case"link":vt("error",a),vt("load",a),w=y;break;case"details":vt("toggle",a),w=y;break;case"input":Ar(a,y),w=Cr(a,y),vt("invalid",a);break;case"option":w=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},w=V({},y,{value:void 0}),vt("invalid",a);break;case"textarea":Ee(a,y),w=re(a,y),vt("invalid",a);break;default:w=y}Bt(h,w),H=w;for(x in H)if(H.hasOwnProperty(x)){var G=H[x];x==="style"?Yn(a,G):x==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&ze(a,G)):x==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&Qe(a,G):typeof G=="number"&&Qe(a,""+G):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?G!=null&&x==="onScroll"&&vt("scroll",a):G!=null&&F(a,x,G,R))}switch(h){case"input":Qt(a),ys(a,y,!1);break;case"textarea":Qt(a),Oe(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Le(y.value));break;case"select":a.multiple=!!y.multiple,x=y.value,x!=null?Qn(a,!!y.multiple,x,!1):y.defaultValue!=null&&Qn(a,!!y.multiple,y.defaultValue,!0);break;default:typeof w.onClick=="function"&&(a.onclick=Cf)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return mn(u),null;case 6:if(a&&u.stateNode!=null)iw(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(h=Lo(wu.current),Lo(fi.current),Mf(u)){if(y=u.stateNode,h=u.memoizedProps,y[ci]=u,(x=y.nodeValue!==h)&&(a=tr,a!==null))switch(a.tag){case 3:If(y.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&If(y.nodeValue,h,(a.mode&1)!==0)}x&&(u.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[ci]=u,u.stateNode=y}return mn(u),null;case 13:if(wt(Rt),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(St&&nr!==null&&u.mode&1&&!(u.flags&128))a0(),Ga(),u.flags|=98560,x=!1;else if(x=Mf(u),y!==null&&y.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[ci]=u}else Ga(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;mn(u),x=!1}else Ur!==null&&(bm(Ur),Ur=null),x=!0;if(!x)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(u.child.flags|=8192,u.mode&1&&(a===null||Rt.current&1?Wt===0&&(Wt=3):Cm())),u.updateQueue!==null&&(u.flags|=4),mn(u),null);case 4:return Xa(),pm(a,u),a===null&&du(u.stateNode.containerInfo),mn(u),null;case 10:return jp(u.type._context),mn(u),null;case 17:return Dn(u.type)&&Rf(),mn(u),null;case 19:if(wt(Rt),x=u.memoizedState,x===null)return mn(u),null;if(y=(u.flags&128)!==0,R=x.rendering,R===null)if(y)bu(x,!1);else{if(Wt!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(R=Uf(a),R!==null){for(u.flags|=128,bu(x,!1),y=R.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=h,h=u.child;h!==null;)x=h,a=y,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=a,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,a=R.dependencies,x.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return mt(Rt,Rt.current&1|2),u.child}a=a.sibling}x.tail!==null&&pt()>tl&&(u.flags|=128,y=!0,bu(x,!1),u.lanes=4194304)}else{if(!y)if(a=Uf(R),a!==null){if(u.flags|=128,y=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),bu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!St)return mn(u),null}else 2*pt()-x.renderingStartTime>tl&&h!==1073741824&&(u.flags|=128,y=!0,bu(x,!1),u.lanes=4194304);x.isBackwards?(R.sibling=u.child,u.child=R):(h=x.last,h!==null?h.sibling=R:u.child=R,x.last=R)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=pt(),u.sibling=null,h=Rt.current,mt(Rt,y?h&1|2:h&1),u):(mn(u),null);case 22:case 23:return Im(),y=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(u.flags|=8192),y&&u.mode&1?rr&1073741824&&(mn(u),u.subtreeFlags&6&&(u.flags|=8192)):mn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function hA(a,u){switch(Lp(u),u.tag){case 1:return Dn(u.type)&&Rf(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Xa(),wt(Nn),wt(dn),Qp(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Gp(u),null;case 13:if(wt(Rt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ga()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return wt(Rt),null;case 4:return Xa(),null;case 10:return jp(u.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Yf=!1,gn=!1,dA=typeof WeakSet=="function"?WeakSet:Set,be=null;function Za(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){Nt(a,u,y)}else h.current=null}function mm(a,u,h){try{h()}catch(y){Nt(a,u,y)}}var sw=!1;function pA(a,u){if(Ip=bs,a=Fv(),vp(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var w=y.anchorOffset,x=y.focusNode;y=y.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var R=0,H=-1,G=-1,ne=0,de=0,pe=a,he=null;t:for(;;){for(var xe;pe!==h||w!==0&&pe.nodeType!==3||(H=R+w),pe!==x||y!==0&&pe.nodeType!==3||(G=R+y),pe.nodeType===3&&(R+=pe.nodeValue.length),(xe=pe.firstChild)!==null;)he=pe,pe=xe;for(;;){if(pe===a)break t;if(he===h&&++ne===w&&(H=R),he===x&&++de===y&&(G=R),(xe=pe.nextSibling)!==null)break;pe=he,he=pe.parentNode}pe=xe}h=H===-1||G===-1?null:{start:H,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Cp={focusedElem:a,selectionRange:h},bs=!1,be=u;be!==null;)if(u=be,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,be=a;else for(;be!==null;){u=be;try{var Ae=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Re=Ae.memoizedProps,Lt=Ae.memoizedState,Z=u.stateNode,Q=Z.getSnapshotBeforeUpdate(u.elementType===u.type?Re:jr(u.type,Re),Lt);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var te=u.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){Nt(u,u.return,ge)}if(a=u.sibling,a!==null){a.return=u.return,be=a;break}be=u.return}return Ae=sw,sw=!1,Ae}function ku(a,u,h){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var w=y=y.next;do{if((w.tag&a)===a){var x=w.destroy;w.destroy=void 0,x!==void 0&&mm(u,h,x)}w=w.next}while(w!==y)}}function Xf(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var y=h.create;h.destroy=y()}h=h.next}while(h!==u)}}function gm(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function ow(a){var u=a.alternate;u!==null&&(a.alternate=null,ow(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ci],delete u[mu],delete u[Op],delete u[YC],delete u[XC])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function aw(a){return a.tag===5||a.tag===3||a.tag===4}function lw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||aw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ym(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Cf));else if(y!==4&&(a=a.child,a!==null))for(ym(a,u,h),a=a.sibling;a!==null;)ym(a,u,h),a=a.sibling}function _m(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(_m(a,u,h),a=a.sibling;a!==null;)_m(a,u,h),a=a.sibling}var an=null,Br=!1;function Ds(a,u,h){for(h=h.child;h!==null;)uw(a,u,h),h=h.sibling}function uw(a,u,h){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(So,h)}catch{}switch(h.tag){case 5:gn||Za(h,u);case 6:var y=an,w=Br;an=null,Ds(a,u,h),an=y,Br=w,an!==null&&(Br?(a=an,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):an.removeChild(h.stateNode));break;case 18:an!==null&&(Br?(a=an,h=h.stateNode,a.nodeType===8?Pp(a.parentNode,h):a.nodeType===1&&Pp(a,h),Vr(a)):Pp(an,h.stateNode));break;case 4:y=an,w=Br,an=h.stateNode.containerInfo,Br=!0,Ds(a,u,h),an=y,Br=w;break;case 0:case 11:case 14:case 15:if(!gn&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){w=y=y.next;do{var x=w,R=x.destroy;x=x.tag,R!==void 0&&(x&2||x&4)&&mm(h,u,R),w=w.next}while(w!==y)}Ds(a,u,h);break;case 1:if(!gn&&(Za(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(H){Nt(h,u,H)}Ds(a,u,h);break;case 21:Ds(a,u,h);break;case 22:h.mode&1?(gn=(y=gn)||h.memoizedState!==null,Ds(a,u,h),gn=y):Ds(a,u,h);break;default:Ds(a,u,h)}}function cw(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new dA),u.forEach(function(y){var w=TA.bind(null,a,y);h.has(y)||(h.add(y),y.then(w,w))})}}function Hr(a,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];try{var x=a,R=u,H=R;e:for(;H!==null;){switch(H.tag){case 5:an=H.stateNode,Br=!1;break e;case 3:an=H.stateNode.containerInfo,Br=!0;break e;case 4:an=H.stateNode.containerInfo,Br=!0;break e}H=H.return}if(an===null)throw Error(r(160));uw(x,R,w),an=null,Br=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(ne){Nt(w,u,ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)fw(u,a),u=u.sibling}function fw(a,u){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Hr(u,a),di(a),y&4){try{ku(3,a,a.return),Xf(3,a)}catch(Re){Nt(a,a.return,Re)}try{ku(5,a,a.return)}catch(Re){Nt(a,a.return,Re)}}break;case 1:Hr(u,a),di(a),y&512&&h!==null&&Za(h,h.return);break;case 5:if(Hr(u,a),di(a),y&512&&h!==null&&Za(h,h.return),a.flags&32){var w=a.stateNode;try{Qe(w,"")}catch(Re){Nt(a,a.return,Re)}}if(y&4&&(w=a.stateNode,w!=null)){var x=a.memoizedProps,R=h!==null?h.memoizedProps:x,H=a.type,G=a.updateQueue;if(a.updateQueue=null,G!==null)try{H==="input"&&x.type==="radio"&&x.name!=null&&ti(w,x),cr(H,R);var ne=cr(H,x);for(R=0;R<G.length;R+=2){var de=G[R],pe=G[R+1];de==="style"?Yn(w,pe):de==="dangerouslySetInnerHTML"?ze(w,pe):de==="children"?Qe(w,pe):F(w,de,pe,ne)}switch(H){case"input":ni(w,x);break;case"textarea":Ce(w,x);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!x.multiple;var xe=x.value;xe!=null?Qn(w,!!x.multiple,xe,!1):he!==!!x.multiple&&(x.defaultValue!=null?Qn(w,!!x.multiple,x.defaultValue,!0):Qn(w,!!x.multiple,x.multiple?[]:"",!1))}w[mu]=x}catch(Re){Nt(a,a.return,Re)}}break;case 6:if(Hr(u,a),di(a),y&4){if(a.stateNode===null)throw Error(r(162));w=a.stateNode,x=a.memoizedProps;try{w.nodeValue=x}catch(Re){Nt(a,a.return,Re)}}break;case 3:if(Hr(u,a),di(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Vr(u.containerInfo)}catch(Re){Nt(a,a.return,Re)}break;case 4:Hr(u,a),di(a);break;case 13:Hr(u,a),di(a),w=a.child,w.flags&8192&&(x=w.memoizedState!==null,w.stateNode.isHidden=x,!x||w.alternate!==null&&w.alternate.memoizedState!==null||(Em=pt())),y&4&&cw(a);break;case 22:if(de=h!==null&&h.memoizedState!==null,a.mode&1?(gn=(ne=gn)||de,Hr(u,a),gn=ne):Hr(u,a),di(a),y&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!de&&a.mode&1)for(be=a,de=a.child;de!==null;){for(pe=be=de;be!==null;){switch(he=be,xe=he.child,he.tag){case 0:case 11:case 14:case 15:ku(4,he,he.return);break;case 1:Za(he,he.return);var Ae=he.stateNode;if(typeof Ae.componentWillUnmount=="function"){y=he,h=he.return;try{u=y,Ae.props=u.memoizedProps,Ae.state=u.memoizedState,Ae.componentWillUnmount()}catch(Re){Nt(y,h,Re)}}break;case 5:Za(he,he.return);break;case 22:if(he.memoizedState!==null){pw(pe);continue}}xe!==null?(xe.return=he,be=xe):pw(pe)}de=de.sibling}e:for(de=null,pe=a;;){if(pe.tag===5){if(de===null){de=pe;try{w=pe.stateNode,ne?(x=w.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(H=pe.stateNode,G=pe.memoizedProps.style,R=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=Yt("display",R))}catch(Re){Nt(a,a.return,Re)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=ne?"":pe.memoizedProps}catch(Re){Nt(a,a.return,Re)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===a)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===a)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===a)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Hr(u,a),di(a),y&4&&cw(a);break;case 21:break;default:Hr(u,a),di(a)}}function di(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(aw(h)){var y=h;break e}h=h.return}throw Error(r(160))}switch(y.tag){case 5:var w=y.stateNode;y.flags&32&&(Qe(w,""),y.flags&=-33);var x=lw(a);_m(a,x,w);break;case 3:case 4:var R=y.stateNode.containerInfo,H=lw(a);ym(a,H,R);break;default:throw Error(r(161))}}catch(G){Nt(a,a.return,G)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function mA(a,u,h){be=a,hw(a)}function hw(a,u,h){for(var y=(a.mode&1)!==0;be!==null;){var w=be,x=w.child;if(w.tag===22&&y){var R=w.memoizedState!==null||Yf;if(!R){var H=w.alternate,G=H!==null&&H.memoizedState!==null||gn;H=Yf;var ne=gn;if(Yf=R,(gn=G)&&!ne)for(be=w;be!==null;)R=be,G=R.child,R.tag===22&&R.memoizedState!==null?mw(w):G!==null?(G.return=R,be=G):mw(w);for(;x!==null;)be=x,hw(x),x=x.sibling;be=w,Yf=H,gn=ne}dw(a)}else w.subtreeFlags&8772&&x!==null?(x.return=w,be=x):dw(a)}}function dw(a){for(;be!==null;){var u=be;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:gn||Xf(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!gn)if(h===null)y.componentDidMount();else{var w=u.elementType===u.type?h.memoizedProps:jr(u.type,h.memoizedProps);y.componentDidUpdate(w,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var x=u.updateQueue;x!==null&&p0(u,x,y);break;case 3:var R=u.updateQueue;if(R!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}p0(u,R,h)}break;case 5:var H=u.stateNode;if(h===null&&u.flags&4){h=H;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ne=u.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Vr(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gn||u.flags&512&&gm(u)}catch(he){Nt(u,u.return,he)}}if(u===a){be=null;break}if(h=u.sibling,h!==null){h.return=u.return,be=h;break}be=u.return}}function pw(a){for(;be!==null;){var u=be;if(u===a){be=null;break}var h=u.sibling;if(h!==null){h.return=u.return,be=h;break}be=u.return}}function mw(a){for(;be!==null;){var u=be;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Xf(4,u)}catch(G){Nt(u,h,G)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var w=u.return;try{y.componentDidMount()}catch(G){Nt(u,w,G)}}var x=u.return;try{gm(u)}catch(G){Nt(u,x,G)}break;case 5:var R=u.return;try{gm(u)}catch(G){Nt(u,R,G)}}}catch(G){Nt(u,u.return,G)}if(u===a){be=null;break}var H=u.sibling;if(H!==null){H.return=u.return,be=H;break}be=u.return}}var gA=Math.ceil,Jf=U.ReactCurrentDispatcher,vm=U.ReactCurrentOwner,vr=U.ReactCurrentBatchConfig,rt=0,Zt=null,$t=null,ln=0,rr=0,el=As(0),Wt=0,Iu=null,Vo=0,Zf=0,wm=0,Cu=null,Ln=null,Em=0,tl=1/0,Wi=null,eh=!1,xm=null,Ms=null,th=!1,Ls=null,nh=0,Au=0,Tm=null,rh=-1,ih=0;function kn(){return rt&6?pt():rh!==-1?rh:rh=pt()}function Fs(a){return a.mode&1?rt&2&&ln!==0?ln&-ln:ZC.transition!==null?(ih===0&&(ih=ko()),ih):(a=Je,a!==0||(a=window.event,a=a===void 0?16:ru(a.type)),a):1}function qr(a,u,h,y){if(50<Au)throw Au=0,Tm=null,Error(r(185));Es(a,h,y),(!(rt&2)||a!==Zt)&&(a===Zt&&(!(rt&2)&&(Zf|=h),Wt===4&&Vs(a,ln)),Fn(a,y),h===1&&rt===0&&!(u.mode&1)&&(tl=pt()+500,Of&&Ps()))}function Fn(a,u){var h=a.callbackNode;Di(a,u);var y=bo(a,a===Zt?ln:0);if(y===0)h!==null&&Jl(h),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(h!=null&&Jl(h),u===1)a.tag===0?JC(yw.bind(null,a)):n0(yw.bind(null,a)),KC(function(){!(rt&6)&&Ps()}),h=null;else{switch(Ts(y)){case 1:h=To;break;case 4:h=_s;break;case 16:h=hr;break;case 536870912:h=rf;break;default:h=hr}h=bw(h,gw.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function gw(a,u){if(rh=-1,ih=0,rt&6)throw Error(r(327));var h=a.callbackNode;if(nl()&&a.callbackNode!==h)return null;var y=bo(a,a===Zt?ln:0);if(y===0)return null;if(y&30||y&a.expiredLanes||u)u=sh(a,y);else{u=y;var w=rt;rt|=2;var x=vw();(Zt!==a||ln!==u)&&(Wi=null,tl=pt()+500,$o(a,u));do try{vA();break}catch(H){_w(a,H)}while(!0);Up(),Jf.current=x,rt=w,$t!==null?u=0:(Zt=null,ln=0,u=Wt)}if(u!==0){if(u===2&&(w=Jn(a),w!==0&&(y=w,u=Sm(a,w))),u===1)throw h=Iu,$o(a,0),Vs(a,y),Fn(a,pt()),h;if(u===6)Vs(a,y);else{if(w=a.current.alternate,!(y&30)&&!yA(w)&&(u=sh(a,y),u===2&&(x=Jn(a),x!==0&&(y=x,u=Sm(a,x))),u===1))throw h=Iu,$o(a,0),Vs(a,y),Fn(a,pt()),h;switch(a.finishedWork=w,a.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Uo(a,Ln,Wi);break;case 3:if(Vs(a,y),(y&130023424)===y&&(u=Em+500-pt(),10<u)){if(bo(a,0)!==0)break;if(w=a.suspendedLanes,(w&y)!==y){kn(),a.pingedLanes|=a.suspendedLanes&w;break}a.timeoutHandle=Rp(Uo.bind(null,a,Ln,Wi),u);break}Uo(a,Ln,Wi);break;case 4:if(Vs(a,y),(y&4194240)===y)break;for(u=a.eventTimes,w=-1;0<y;){var R=31-Tn(y);x=1<<R,R=u[R],R>w&&(w=R),y&=~x}if(y=w,y=pt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*gA(y/1960))-y,10<y){a.timeoutHandle=Rp(Uo.bind(null,a,Ln,Wi),y);break}Uo(a,Ln,Wi);break;case 5:Uo(a,Ln,Wi);break;default:throw Error(r(329))}}}return Fn(a,pt()),a.callbackNode===h?gw.bind(null,a):null}function Sm(a,u){var h=Cu;return a.current.memoizedState.isDehydrated&&($o(a,u).flags|=256),a=sh(a,u),a!==2&&(u=Ln,Ln=h,u!==null&&bm(u)),a}function bm(a){Ln===null?Ln=a:Ln.push.apply(Ln,a)}function yA(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var w=h[y],x=w.getSnapshot;w=w.value;try{if(!$r(x(),w))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Vs(a,u){for(u&=~wm,u&=~Zf,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-Tn(u),y=1<<h;a[h]=-1,u&=~y}}function yw(a){if(rt&6)throw Error(r(327));nl();var u=bo(a,0);if(!(u&1))return Fn(a,pt()),null;var h=sh(a,u);if(a.tag!==0&&h===2){var y=Jn(a);y!==0&&(u=y,h=Sm(a,y))}if(h===1)throw h=Iu,$o(a,0),Vs(a,u),Fn(a,pt()),h;if(h===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Uo(a,Ln,Wi),Fn(a,pt()),null}function km(a,u){var h=rt;rt|=1;try{return a(u)}finally{rt=h,rt===0&&(tl=pt()+500,Of&&Ps())}}function zo(a){Ls!==null&&Ls.tag===0&&!(rt&6)&&nl();var u=rt;rt|=1;var h=vr.transition,y=Je;try{if(vr.transition=null,Je=1,a)return a()}finally{Je=y,vr.transition=h,rt=u,!(rt&6)&&Ps()}}function Im(){rr=el.current,wt(el)}function $o(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,GC(h)),$t!==null)for(h=$t.return;h!==null;){var y=h;switch(Lp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Rf();break;case 3:Xa(),wt(Nn),wt(dn),Qp();break;case 5:Gp(y);break;case 4:Xa();break;case 13:wt(Rt);break;case 19:wt(Rt);break;case 10:jp(y.type._context);break;case 22:case 23:Im()}h=h.return}if(Zt=a,$t=a=zs(a.current,null),ln=rr=u,Wt=0,Iu=null,wm=Zf=Vo=0,Ln=Cu=null,Mo!==null){for(u=0;u<Mo.length;u++)if(h=Mo[u],y=h.interleaved,y!==null){h.interleaved=null;var w=y.next,x=h.pending;if(x!==null){var R=x.next;x.next=w,y.next=R}h.pending=y}Mo=null}return a}function _w(a,u){do{var h=$t;try{if(Up(),jf.current=Wf,Bf){for(var y=Pt.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}Bf=!1}if(Fo=0,Jt=qt=Pt=null,Eu=!1,xu=0,vm.current=null,h===null||h.return===null){Wt=1,Iu=u,$t=null;break}e:{var x=a,R=h.return,H=h,G=u;if(u=ln,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ne=G,de=H,pe=de.tag;if(!(de.mode&1)&&(pe===0||pe===11||pe===15)){var he=de.alternate;he?(de.updateQueue=he.updateQueue,de.memoizedState=he.memoizedState,de.lanes=he.lanes):(de.updateQueue=null,de.memoizedState=null)}var xe=B0(R);if(xe!==null){xe.flags&=-257,H0(xe,R,H,x,u),xe.mode&1&&j0(x,ne,u),u=xe,G=ne;var Ae=u.updateQueue;if(Ae===null){var Re=new Set;Re.add(G),u.updateQueue=Re}else Ae.add(G);break e}else{if(!(u&1)){j0(x,ne,u),Cm();break e}G=Error(r(426))}}else if(St&&H.mode&1){var Lt=B0(R);if(Lt!==null){!(Lt.flags&65536)&&(Lt.flags|=256),H0(Lt,R,H,x,u),zp(Ja(G,H));break e}}x=G=Ja(G,H),Wt!==4&&(Wt=2),Cu===null?Cu=[x]:Cu.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,u&=-u,x.lanes|=u;var Z=$0(x,G,u);d0(x,Z);break e;case 1:H=G;var Q=x.type,te=x.stateNode;if(!(x.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Ms===null||!Ms.has(te)))){x.flags|=65536,u&=-u,x.lanes|=u;var ge=U0(x,H,u);d0(x,ge);break e}}x=x.return}while(x!==null)}Ew(h)}catch(Pe){u=Pe,$t===h&&h!==null&&($t=h=h.return);continue}break}while(!0)}function vw(){var a=Jf.current;return Jf.current=Wf,a===null?Wf:a}function Cm(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||!(Vo&268435455)&&!(Zf&268435455)||Vs(Zt,ln)}function sh(a,u){var h=rt;rt|=2;var y=vw();(Zt!==a||ln!==u)&&(Wi=null,$o(a,u));do try{_A();break}catch(w){_w(a,w)}while(!0);if(Up(),rt=h,Jf.current=y,$t!==null)throw Error(r(261));return Zt=null,ln=0,Wt}function _A(){for(;$t!==null;)ww($t)}function vA(){for(;$t!==null&&!tf();)ww($t)}function ww(a){var u=Sw(a.alternate,a,rr);a.memoizedProps=a.pendingProps,u===null?Ew(a):$t=u,vm.current=null}function Ew(a){var u=a;do{var h=u.alternate;if(a=u.return,u.flags&32768){if(h=hA(h,u),h!==null){h.flags&=32767,$t=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Wt=6,$t=null;return}}else if(h=fA(h,u,rr),h!==null){$t=h;return}if(u=u.sibling,u!==null){$t=u;return}$t=u=a}while(u!==null);Wt===0&&(Wt=5)}function Uo(a,u,h){var y=Je,w=vr.transition;try{vr.transition=null,Je=1,wA(a,u,h,y)}finally{vr.transition=w,Je=y}return null}function wA(a,u,h,y){do nl();while(Ls!==null);if(rt&6)throw Error(r(327));h=a.finishedWork;var w=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var x=h.lanes|h.childLanes;if(ht(a,x),a===Zt&&($t=Zt=null,ln=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||th||(th=!0,bw(hr,function(){return nl(),null})),x=(h.flags&15990)!==0,h.subtreeFlags&15990||x){x=vr.transition,vr.transition=null;var R=Je;Je=1;var H=rt;rt|=4,vm.current=null,pA(a,h),fw(h,a),$C(Cp),bs=!!Ip,Cp=Ip=null,a.current=h,mA(h),fp(),rt=H,Je=R,vr.transition=x}else a.current=h;if(th&&(th=!1,Ls=a,nh=w),x=a.pendingLanes,x===0&&(Ms=null),sf(h.stateNode),Fn(a,pt()),u!==null)for(y=a.onRecoverableError,h=0;h<u.length;h++)w=u[h],y(w.value,{componentStack:w.stack,digest:w.digest});if(eh)throw eh=!1,a=xm,xm=null,a;return nh&1&&a.tag!==0&&nl(),x=a.pendingLanes,x&1?a===Tm?Au++:(Au=0,Tm=a):Au=0,Ps(),null}function nl(){if(Ls!==null){var a=Ts(nh),u=vr.transition,h=Je;try{if(vr.transition=null,Je=16>a?16:a,Ls===null)var y=!1;else{if(a=Ls,Ls=null,nh=0,rt&6)throw Error(r(331));var w=rt;for(rt|=4,be=a.current;be!==null;){var x=be,R=x.child;if(be.flags&16){var H=x.deletions;if(H!==null){for(var G=0;G<H.length;G++){var ne=H[G];for(be=ne;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:ku(8,de,x)}var pe=de.child;if(pe!==null)pe.return=de,be=pe;else for(;be!==null;){de=be;var he=de.sibling,xe=de.return;if(ow(de),de===ne){be=null;break}if(he!==null){he.return=xe,be=he;break}be=xe}}}var Ae=x.alternate;if(Ae!==null){var Re=Ae.child;if(Re!==null){Ae.child=null;do{var Lt=Re.sibling;Re.sibling=null,Re=Lt}while(Re!==null)}}be=x}}if(x.subtreeFlags&2064&&R!==null)R.return=x,be=R;else e:for(;be!==null;){if(x=be,x.flags&2048)switch(x.tag){case 0:case 11:case 15:ku(9,x,x.return)}var Z=x.sibling;if(Z!==null){Z.return=x.return,be=Z;break e}be=x.return}}var Q=a.current;for(be=Q;be!==null;){R=be;var te=R.child;if(R.subtreeFlags&2064&&te!==null)te.return=R,be=te;else e:for(R=Q;be!==null;){if(H=be,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:Xf(9,H)}}catch(Pe){Nt(H,H.return,Pe)}if(H===R){be=null;break e}var ge=H.sibling;if(ge!==null){ge.return=H.return,be=ge;break e}be=H.return}}if(rt=w,Ps(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(So,a)}catch{}y=!0}return y}finally{Je=h,vr.transition=u}}return!1}function xw(a,u,h){u=Ja(h,u),u=$0(a,u,1),a=Ns(a,u,1),u=kn(),a!==null&&(Es(a,1,u),Fn(a,u))}function Nt(a,u,h){if(a.tag===3)xw(a,a,h);else for(;u!==null;){if(u.tag===3){xw(u,a,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ms===null||!Ms.has(y))){a=Ja(h,a),a=U0(u,a,1),u=Ns(u,a,1),a=kn(),u!==null&&(Es(u,1,a),Fn(u,a));break}}u=u.return}}function EA(a,u,h){var y=a.pingCache;y!==null&&y.delete(u),u=kn(),a.pingedLanes|=a.suspendedLanes&h,Zt===a&&(ln&h)===h&&(Wt===4||Wt===3&&(ln&130023424)===ln&&500>pt()-Em?$o(a,0):wm|=h),Fn(a,u)}function Tw(a,u){u===0&&(a.mode&1?(u=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):u=1);var h=kn();a=Bi(a,u),a!==null&&(Es(a,u,h),Fn(a,h))}function xA(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),Tw(a,h)}function TA(a,u){var h=0;switch(a.tag){case 13:var y=a.stateNode,w=a.memoizedState;w!==null&&(h=w.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),Tw(a,h)}var Sw;Sw=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Nn.current)Mn=!0;else{if(!(a.lanes&h)&&!(u.flags&128))return Mn=!1,cA(a,u,h);Mn=!!(a.flags&131072)}else Mn=!1,St&&u.flags&1048576&&r0(u,Df,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Qf(a,u),a=u.pendingProps;var w=Ha(u,dn.current);Ya(u,h),w=Jp(null,u,y,a,w,h);var x=Zp();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Dn(y)?(x=!0,Pf(u)):x=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,qp(u),w.updater=Gf,u.stateNode=w,w._reactInternals=u,sm(u,y,a,h),u=um(null,u,y,!0,x,h)):(u.tag=0,St&&x&&Mp(u),bn(null,u,w,h),u=u.child),u;case 16:y=u.elementType;e:{switch(Qf(a,u),a=u.pendingProps,w=y._init,y=w(y._payload),u.type=y,w=u.tag=bA(y),a=jr(y,a),w){case 0:u=lm(null,u,y,a,h);break e;case 1:u=Y0(null,u,y,a,h);break e;case 11:u=q0(null,u,y,a,h);break e;case 14:u=W0(null,u,y,jr(y.type,a),h);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:jr(y,w),lm(a,u,y,w,h);case 1:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:jr(y,w),Y0(a,u,y,w,h);case 3:e:{if(X0(u),a===null)throw Error(r(387));y=u.pendingProps,x=u.memoizedState,w=x.element,h0(a,u),$f(u,y,null,h);var R=u.memoizedState;if(y=R.element,x.isDehydrated)if(x={element:y,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},u.updateQueue.baseState=x,u.memoizedState=x,u.flags&256){w=Ja(Error(r(423)),u),u=J0(a,u,y,h,w);break e}else if(y!==w){w=Ja(Error(r(424)),u),u=J0(a,u,y,h,w);break e}else for(nr=Cs(u.stateNode.containerInfo.firstChild),tr=u,St=!0,Ur=null,h=c0(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ga(),y===w){u=qi(a,u,h);break e}bn(a,u,y,h)}u=u.child}return u;case 5:return m0(u),a===null&&Vp(u),y=u.type,w=u.pendingProps,x=a!==null?a.memoizedProps:null,R=w.children,Ap(y,w)?R=null:x!==null&&Ap(y,x)&&(u.flags|=32),Q0(a,u),bn(a,u,R,h),u.child;case 6:return a===null&&Vp(u),null;case 13:return Z0(a,u,h);case 4:return Wp(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=Ka(u,null,y,h):bn(a,u,y,h),u.child;case 11:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:jr(y,w),q0(a,u,y,w,h);case 7:return bn(a,u,u.pendingProps,h),u.child;case 8:return bn(a,u,u.pendingProps.children,h),u.child;case 12:return bn(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(y=u.type._context,w=u.pendingProps,x=u.memoizedProps,R=w.value,mt(Ff,y._currentValue),y._currentValue=R,x!==null)if($r(x.value,R)){if(x.children===w.children&&!Nn.current){u=qi(a,u,h);break e}}else for(x=u.child,x!==null&&(x.return=u);x!==null;){var H=x.dependencies;if(H!==null){R=x.child;for(var G=H.firstContext;G!==null;){if(G.context===y){if(x.tag===1){G=Hi(-1,h&-h),G.tag=2;var ne=x.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?G.next=G:(G.next=de.next,de.next=G),ne.pending=G}}x.lanes|=h,G=x.alternate,G!==null&&(G.lanes|=h),Bp(x.return,h,u),H.lanes|=h;break}G=G.next}}else if(x.tag===10)R=x.type===u.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(r(341));R.lanes|=h,H=R.alternate,H!==null&&(H.lanes|=h),Bp(R,h,u),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===u){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}bn(a,u,w.children,h),u=u.child}return u;case 9:return w=u.type,y=u.pendingProps.children,Ya(u,h),w=yr(w),y=y(w),u.flags|=1,bn(a,u,y,h),u.child;case 14:return y=u.type,w=jr(y,u.pendingProps),w=jr(y.type,w),W0(a,u,y,w,h);case 15:return G0(a,u,u.type,u.pendingProps,h);case 17:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:jr(y,w),Qf(a,u),u.tag=1,Dn(y)?(a=!0,Pf(u)):a=!1,Ya(u,h),V0(u,y,w),sm(u,y,w,h),um(null,u,y,!0,a,h);case 19:return tw(a,u,h);case 22:return K0(a,u,h)}throw Error(r(156,u.tag))};function bw(a,u){return Ta(a,u)}function SA(a,u,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,u,h,y){return new SA(a,u,h,y)}function Am(a){return a=a.prototype,!(!a||!a.isReactComponent)}function bA(a){if(typeof a=="function")return Am(a)?1:0;if(a!=null){if(a=a.$$typeof,a===j)return 11;if(a===ie)return 14}return 2}function zs(a,u){var h=a.alternate;return h===null?(h=wr(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function oh(a,u,h,y,w,x){var R=2;if(y=a,typeof a=="function")Am(a)&&(R=1);else if(typeof a=="string")R=5;else e:switch(a){case A:return jo(h.children,w,x,u);case C:R=8,w|=8;break;case D:return a=wr(12,h,u,w|2),a.elementType=D,a.lanes=x,a;case M:return a=wr(13,h,u,w),a.elementType=M,a.lanes=x,a;case q:return a=wr(19,h,u,w),a.elementType=q,a.lanes=x,a;case ce:return ah(h,w,x,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:R=10;break e;case L:R=9;break e;case j:R=11;break e;case ie:R=14;break e;case oe:R=16,y=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=wr(R,h,u,w),u.elementType=a,u.type=y,u.lanes=x,u}function jo(a,u,h,y){return a=wr(7,a,y,u),a.lanes=h,a}function ah(a,u,h,y){return a=wr(22,a,y,u),a.elementType=ce,a.lanes=h,a.stateNode={isHidden:!1},a}function Rm(a,u,h){return a=wr(6,a,null,u),a.lanes=h,a}function Pm(a,u,h){return u=wr(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function kA(a,u,h,y,w){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=y,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Om(a,u,h,y,w,x,R,H,G){return a=new kA(a,u,h,H,G),u===1?(u=1,x===!0&&(u|=8)):u=0,x=wr(3,null,null,u),a.current=x,x.stateNode=a,x.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(x),a}function IA(a,u,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:a,containerInfo:u,implementation:h}}function kw(a){if(!a)return Rs;a=a._reactInternals;e:{if(Nr(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Dn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var h=a.type;if(Dn(h))return e0(a,h,u)}return u}function Iw(a,u,h,y,w,x,R,H,G){return a=Om(h,y,!0,a,w,x,R,H,G),a.context=kw(null),h=a.current,y=kn(),w=Fs(h),x=Hi(y,w),x.callback=u??null,Ns(h,x,w),a.current.lanes=w,Es(a,w,y),Fn(a,y),a}function lh(a,u,h,y){var w=u.current,x=kn(),R=Fs(w);return h=kw(h),u.context===null?u.context=h:u.pendingContext=h,u=Hi(x,R),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Ns(w,u,R),a!==null&&(qr(a,w,R,x),zf(a,w,R)),R}function uh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Cw(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Nm(a,u){Cw(a,u),(a=a.alternate)&&Cw(a,u)}var Aw=typeof reportError=="function"?reportError:function(a){console.error(a)};function Dm(a){this._internalRoot=a}ch.prototype.render=Dm.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));lh(a,u,null,null)},ch.prototype.unmount=Dm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;zo(function(){lh(null,a,null,null)}),u[zi]=null}};function ch(a){this._internalRoot=a}ch.prototype.unstable_scheduleHydration=function(a){if(a){var u=cf();a={blockedOn:null,target:a,priority:u};for(var h=0;h<oi.length&&u!==0&&u<oi[h].priority;h++);oi.splice(h,0,a),h===0&&df(a)}};function Mm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function fh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function CA(a,u,h,y,w){if(w){if(typeof y=="function"){var x=y;y=function(){var ne=uh(R);x.call(ne)}}var R=Iw(u,y,a,0,null,!1,!1,"",Rw);return a._reactRootContainer=R,a[zi]=R.current,du(a.nodeType===8?a.parentNode:a),zo(),R}for(;w=a.lastChild;)a.removeChild(w);if(typeof y=="function"){var H=y;y=function(){var ne=uh(G);H.call(ne)}}var G=Om(a,0,!1,null,null,!1,!1,"",Rw);return a._reactRootContainer=G,a[zi]=G.current,du(a.nodeType===8?a.parentNode:a),zo(function(){lh(u,G,h,y)}),G}function hh(a,u,h,y,w){var x=h._reactRootContainer;if(x){var R=x;if(typeof w=="function"){var H=w;w=function(){var G=uh(R);H.call(G)}}lh(u,R,a,w)}else R=CA(h,u,a,w,y);return uh(R)}lf=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=vs(u.pendingLanes);h!==0&&(xs(u,h|1),Fn(u,pt()),!(rt&6)&&(tl=pt()+500,Ps()))}break;case 13:zo(function(){var y=Bi(a,1);if(y!==null){var w=kn();qr(y,a,1,w)}}),Nm(a,1)}},ka=function(a){if(a.tag===13){var u=Bi(a,134217728);if(u!==null){var h=kn();qr(u,a,134217728,h)}Nm(a,134217728)}},uf=function(a){if(a.tag===13){var u=Fs(a),h=Bi(a,u);if(h!==null){var y=kn();qr(h,a,u,y)}Nm(a,u)}},cf=function(){return Je},ff=function(a,u){var h=Je;try{return Je=a,u()}finally{Je=h}},ya=function(a,u,h){switch(u){case"input":if(ni(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==a&&y.form===a.form){var w=Af(y);if(!w)throw Error(r(90));ei(y),ni(y,w)}}}break;case"textarea":Ce(a,h);break;case"select":u=h.value,u!=null&&Qn(a,!!h.multiple,u,!1)}},vo=km,Kl=zo;var AA={usingClientEntryPoint:!1,Events:[gu,ja,Af,ii,Gl,km]},Ru={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RA={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Xl(a),a===null?null:a.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{So=dh.inject(RA),Xn=dh}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA,Vn.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mm(u))throw Error(r(200));return IA(a,u,null,h)},Vn.createRoot=function(a,u){if(!Mm(a))throw Error(r(299));var h=!1,y="",w=Aw;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),u=Om(a,1,!1,null,null,h,!1,y,w),a[zi]=u.current,du(a.nodeType===8?a.parentNode:a),new Dm(u)},Vn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Xl(u),a=a===null?null:a.stateNode,a},Vn.flushSync=function(a){return zo(a)},Vn.hydrate=function(a,u,h){if(!fh(u))throw Error(r(200));return hh(null,a,u,!0,h)},Vn.hydrateRoot=function(a,u,h){if(!Mm(a))throw Error(r(405));var y=h!=null&&h.hydratedSources||null,w=!1,x="",R=Aw;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),u=Iw(u,null,a,1,h??null,w,!1,x,R),a[zi]=u.current,du(a),y)for(a=0;a<y.length;a++)h=y[a],w=h._getVersion,w=w(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,w]:u.mutableSourceEagerHydrationData.push(h,w);return new ch(u)},Vn.render=function(a,u,h){if(!fh(u))throw Error(r(200));return hh(null,a,u,!1,h)},Vn.unmountComponentAtNode=function(a){if(!fh(a))throw Error(r(40));return a._reactRootContainer?(zo(function(){hh(null,null,a,!1,function(){a._reactRootContainer=null,a[zi]=null})}),!0):!1},Vn.unstable_batchedUpdates=km,Vn.unstable_renderSubtreeIntoContainer=function(a,u,h,y){if(!fh(h))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return hh(a,u,h,!1,y)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var Vw;function $A(){if(Vw)return Vm.exports;Vw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vm.exports=zA(),Vm.exports}var zw;function UA(){if(zw)return ph;zw=1;var n=$A();return ph.createRoot=n.createRoot,ph.hydrateRoot=n.hydrateRoot,ph}var jA=UA(),Ou={},$w;function BA(){if($w)return Ou;$w=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=l,Ou.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,v){const S=new o,k=_.length;if(k<2)return S;const I=(v==null?void 0:v.decode)||m;let T=0;do{const P=_.indexOf("=",T);if(P===-1)break;const F=_.indexOf(";",T),U=F===-1?k:F;if(P>U){T=_.lastIndexOf(";",P-1)+1;continue}const N=c(_,T,P),O=f(_,P,N),A=_.slice(N,O);if(S[A]===void 0){let C=c(_,P+1,U),D=f(_,U,C);const $=I(_.slice(C,D));S[A]=$}T=U+1}while(T<k);return S}function c(_,v,S){do{const k=_.charCodeAt(v);if(k!==32&&k!==9)return v}while(++v<S);return S}function f(_,v,S){for(;v>S;){const k=_.charCodeAt(--v);if(k!==32&&k!==9)return v+1}return S}function d(_,v,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=k(v);if(!e.test(I))throw new TypeError(`argument val is invalid: ${v}`);let T=_+"="+I;if(!S)return T;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);T+="; Max-Age="+S.maxAge}if(S.domain){if(!r.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);T+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);T+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);T+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(T+="; HttpOnly"),S.secure&&(T+="; Secure"),S.partitioned&&(T+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return T}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return s.call(_)==="[object Date]"}return Ou}BA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uw="popstate";function HA(n={}){function e(i,s){let{pathname:o,search:l,hash:c}=i.location;return Fg("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:pc(s)}return WA(e,r,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qA(){return Math.random().toString(36).substring(2,10)}function jw(n,e){return{usr:n.state,key:n.key,idx:e}}function Fg(n,e,r=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:r,key:e&&e.key||i||qA()}}function pc({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ml(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function WA(n,e,r,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let I=m(),T=I==null?null:I-d;d=I,f&&f({action:c,location:k.location,delta:T})}function _(I,T){c="PUSH";let P=Fg(k.location,I,T);d=m()+1;let F=jw(P,d),U=k.createHref(P);try{l.pushState(F,"",U)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(U)}o&&f&&f({action:c,location:k.location,delta:1})}function v(I,T){c="REPLACE";let P=Fg(k.location,I,T);d=m();let F=jw(P,d),U=k.createHref(P);l.replaceState(F,"",U),o&&f&&f({action:c,location:k.location,delta:0})}function S(I){let T=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof I=="string"?I:pc(I);return P=P.replace(/ $/,"%20"),Ct(T,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,T)}let k={get action(){return c},get location(){return n(s,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Uw,g),f=I,()=>{s.removeEventListener(Uw,g),f=null}},createHref(I){return e(s,I)},createURL:S,encodeLocation(I){let T=S(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:v,go(I){return l.go(I)}};return k}function jT(n,e,r="/"){return GA(n,e,r,!1)}function GA(n,e,r,i){let s=typeof e=="string"?Ml(e):e,o=oo(s.pathname||"/",r);if(o==null)return null;let l=BT(n);KA(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=s2(o);c=r2(l[f],d,i)}return c}function BT(n,e=[],r=[],i=""){let s=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Ct(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=as([i,f.relativePath]),m=r.concat(f);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),BT(o.children,e,m,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:t2(d,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let f of HT(o.path))s(o,l,f)}),e}function HT(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=HT(i.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function KA(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:n2(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var QA=/^:[\w-]+$/,YA=3,XA=2,JA=1,ZA=10,e2=-2,Bw=n=>n==="*";function t2(n,e){let r=n.split("/"),i=r.length;return r.some(Bw)&&(i+=e2),e&&(i+=XA),r.filter(s=>!Bw(s)).reduce((s,o)=>s+(QA.test(o)?YA:o===""?JA:ZA),i)}function n2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function r2(n,e,r=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),_=f.route;if(!g&&d&&r&&!i[i.length-1].route.index&&(g=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:as([o,g.pathname]),pathnameBase:u2(as([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=as([o,g.pathnameBase]))}return l}function ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=i2(n.path,n.caseSensitive,n.end),s=e.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:g},_)=>{if(m==="*"){let S=c[_]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=c[_];return g&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function i2(n,e=!1,r=!0){Qr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function s2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function o2(n,e="/"){let{pathname:r,search:i="",hash:s=""}=typeof n=="string"?Ml(n):n;return{pathname:r?r.startsWith("/")?r:a2(r,e):e,search:c2(i),hash:f2(s)}}function a2(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Um(n,e,r,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Qy(n){let e=l2(n);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Yy(n,e,r,i=!1){let s;typeof n=="string"?s=Ml(n):(s={...n},Ct(!s.pathname||!s.pathname.includes("?"),Um("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),Um("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),Um("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=r;else{let g=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;s.pathname=_.join("/")}c=g>=0?e[g]:"/"}let f=o2(s,c),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var as=n=>n.join("/").replace(/\/\/+/g,"/"),u2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,f2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var d2=["GET",...qT];new Set(d2);var Ll=K.createContext(null);Ll.displayName="DataRouter";var Pd=K.createContext(null);Pd.displayName="DataRouterState";var WT=K.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var p2=K.createContext(new Map);p2.displayName="Fetchers";var m2=K.createContext(null);m2.displayName="Await";var Xr=K.createContext(null);Xr.displayName="Navigation";var Nc=K.createContext(null);Nc.displayName="Location";var Pi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Xy=K.createContext(null);Xy.displayName="RouteError";function g2(n,{relative:e}={}){Ct(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=K.useContext(Xr),{hash:s,pathname:o,search:l}=Dc(n,{relative:e}),c=o;return r!=="/"&&(c=o==="/"?r:as([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Fl(){return K.useContext(Nc)!=null}function po(){return Ct(Fl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Nc).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KT(n){K.useContext(Xr).static||K.useLayoutEffect(n)}function Jy(){let{isDataRoute:n}=K.useContext(Pi);return n?A2():y2()}function y2(){Ct(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Ll),{basename:e,navigator:r}=K.useContext(Xr),{matches:i}=K.useContext(Pi),{pathname:s}=po(),o=JSON.stringify(Qy(i)),l=K.useRef(!1);return KT(()=>{l.current=!0}),K.useCallback((f,d={})=>{if(Qr(l.current,GT),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=Yy(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,s,n])}K.createContext(null);function Dc(n,{relative:e}={}){let{matches:r}=K.useContext(Pi),{pathname:i}=po(),s=JSON.stringify(Qy(r));return K.useMemo(()=>Yy(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function _2(n,e){return QT(n,e)}function QT(n,e,r,i){var T;Ct(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=K.useContext(Xr),{matches:o}=K.useContext(Pi),l=o[o.length-1],c=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";YT(f,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=po(),_;if(e){let P=typeof e=="string"?Ml(e):e;Ct(d==="/"||((T=P.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=g;let v=_.pathname||"/",S=v;if(d!=="/"){let P=d.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=jT(n,{pathname:S});Qr(m||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Qr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=T2(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:as([d,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:as([d,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,r,i);return e&&I?K.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function v2(){let n=C2(),e=h2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),r?K.createElement("pre",{style:s},r):null,l)}var w2=K.createElement(v2,null),E2=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Pi.Provider,{value:this.props.routeContext},K.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x2({routeContext:n,match:e,children:r}){let i=K.useContext(Ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Pi.Provider,{value:n},r)}function T2(n,e=[],r=null,i=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let s=n,o=r==null?void 0:r.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(r)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:m,errors:g}=r,_=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,m)=>{let g,_=!1,v=null,S=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||w2,l&&(c<0&&m===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):c===m&&(_=!0,S=d.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,m+1)),I=()=>{let T;return g?T=v:_?T=S:d.route.Component?T=K.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=f,K.createElement(x2,{match:d,routeContext:{outlet:f,matches:k,isDataRoute:r!=null},children:T})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?K.createElement(E2,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):I()},null)}function Zy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(n){let e=K.useContext(Ll);return Ct(e,Zy(n)),e}function b2(n){let e=K.useContext(Pd);return Ct(e,Zy(n)),e}function k2(n){let e=K.useContext(Pi);return Ct(e,Zy(n)),e}function e_(n){let e=k2(n),r=e.matches[e.matches.length-1];return Ct(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function I2(){return e_("useRouteId")}function C2(){var i;let n=K.useContext(Xy),e=b2("useRouteError"),r=e_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[r]}function A2(){let{router:n}=S2("useNavigate"),e=e_("useNavigate"),r=K.useRef(!1);return KT(()=>{r.current=!0}),K.useCallback(async(s,o={})=>{Qr(r.current,GT),r.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Hw={};function YT(n,e,r){!e&&!Hw[n]&&(Hw[n]=!0,Qr(!1,r))}K.memo(R2);function R2({routes:n,future:e,state:r}){return QT(n,void 0,r,e)}function P2({to:n,replace:e,state:r,relative:i}){Ct(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=K.useContext(Xr);Qr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=K.useContext(Pi),{pathname:l}=po(),c=Jy(),f=Yy(n,Qy(o),l,i==="path"),d=JSON.stringify(f);return K.useEffect(()=>{c(JSON.parse(d),{replace:e,state:r,relative:i})},[c,d,i,e,r]),null}function Mh(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:n="/",children:e=null,location:r,navigationType:i="POP",navigator:s,static:o=!1}){Ct(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof r=="string"&&(r=Ml(r));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:_="default"}=r,v=K.useMemo(()=>{let S=oo(f,l);return S==null?null:{location:{pathname:S,search:d,hash:m,state:g,key:_},navigationType:i}},[l,f,d,m,g,_,i]);return Qr(v!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:K.createElement(Xr.Provider,{value:c},K.createElement(Nc.Provider,{children:e,value:v}))}function N2({children:n,location:e}){return _2(Vg(n),e)}function Vg(n,e=[]){let r=[];return K.Children.forEach(n,(i,s)=>{if(!K.isValidElement(i))return;let o=[...e,s];if(i.type===K.Fragment){r.push.apply(r,Vg(i.props.children,o));return}Ct(i.type===Mh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Vg(i.props.children,o)),r.push(l)}),r}var Lh="get",Fh="application/x-www-form-urlencoded";function Od(n){return n!=null&&typeof n.tagName=="string"}function D2(n){return Od(n)&&n.tagName.toLowerCase()==="button"}function M2(n){return Od(n)&&n.tagName.toLowerCase()==="form"}function L2(n){return Od(n)&&n.tagName.toLowerCase()==="input"}function F2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V2(n,e){return n.button===0&&(!e||e==="_self")&&!F2(n)}var mh=null;function z2(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(n){return n!=null&&!$2.has(n)?(Qr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):n}function U2(n,e){let r,i,s,o,l;if(M2(n)){let c=n.getAttribute("action");i=c?oo(c,e):null,r=n.getAttribute("method")||Lh,s=jm(n.getAttribute("enctype"))||Fh,o=new FormData(n)}else if(D2(n)||L2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?oo(f,e):null,r=n.getAttribute("formmethod")||c.getAttribute("method")||Lh,s=jm(n.getAttribute("formenctype"))||jm(c.getAttribute("enctype"))||Fh,o=new FormData(c,n),!z2()){let{name:d,type:m,value:g}=n;if(m==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,g)}}else{if(Od(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lh,i=null,s=Fh,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:r.toLowerCase(),encType:s,formData:o,body:l}}function t_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function j2(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function H2(n,e,r){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await j2(o,r);return l.links?l.links():[]}return[]}));return K2(i.flat(1).filter(B2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qw(n,e,r,i,s,o){let l=(f,d)=>r[d]?f.route.id!==r[d].route.id:!0,c=(f,d)=>{var m;return r[d].pathname!==f.pathname||((m=r[d].route.path)==null?void 0:m.endsWith("*"))&&r[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var g;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function q2(n,e){return W2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function W2(n){return[...new Set(n)]}function G2(n){let e={},r=Object.keys(n).sort();for(let i of r)e[i]=n[i];return e}function K2(n,e){let r=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(G2(s));return r.has(o)||(r.add(o),i.push({key:o,link:s})),i},[])}function Q2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Y2(){let n=K.useContext(Ll);return t_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function X2(){let n=K.useContext(Pd);return t_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var n_=K.createContext(void 0);n_.displayName="FrameworkContext";function XT(){let n=K.useContext(n_);return t_(n,"You must render this element inside a <HydratedRouter> element"),n}function J2(n,e){let r=K.useContext(n_),[i,s]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=T=>{T.forEach(P=>{l(P.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),K.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),l(!1)};return r?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Nu(c,v),onBlur:Nu(f,S),onMouseEnter:Nu(d,v),onMouseLeave:Nu(m,S),onTouchStart:Nu(g,v)}]:[!1,_,{}]}function Nu(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function Z2({page:n,...e}){let{router:r}=Y2(),i=K.useMemo(()=>jT(r.routes,n,r.basename),[r.routes,n,r.basename]);return i?K.createElement(tR,{page:n,matches:i,...e}):null}function eR(n){let{manifest:e,routeModules:r}=XT(),[i,s]=K.useState([]);return K.useEffect(()=>{let o=!1;return H2(n,e,r).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,r]),i}function tR({page:n,matches:e,...r}){let i=po(),{manifest:s,routeModules:o}=XT(),{loaderData:l,matches:c}=X2(),f=K.useMemo(()=>qw(n,e,c,s,i,"data"),[n,e,c,s,i]),d=K.useMemo(()=>qw(n,e,c,s,i,"assets"),[n,e,c,s,i]),m=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,S=!1;if(e.forEach(I=>{var P;let T=s.routes[I.route.id];!T||!T.hasLoader||(!f.some(F=>F.route.id===I.route.id)&&I.route.id in l&&((P=o[I.route.id])!=null&&P.shouldRevalidate)||T.hasClientLoader?S=!0:v.add(I.route.id))}),v.size===0)return[];let k=Q2(n);return S&&v.size>0&&k.searchParams.set("_routes",e.filter(I=>v.has(I.route.id)).map(I=>I.route.id).join(",")),[k.pathname+k.search]},[l,i,s,f,e,n,o]),g=K.useMemo(()=>q2(d,s),[d,s]),_=eR(d);return K.createElement(K.Fragment,null,m.map(v=>K.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>K.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),_.map(({key:v,link:S})=>K.createElement("link",{key:v,...S})))}function nR(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.1.3")}catch{}function rR({basename:n,children:e,window:r}){let i=K.useRef();i.current==null&&(i.current=HA({window:r,v5Compat:!0}));let s=i.current,[o,l]=K.useState({action:s.action,location:s.location}),c=K.useCallback(f=>{K.startTransition(()=>l(f))},[l]);return K.useLayoutEffect(()=>s.listen(c),[s,c]),K.createElement(O2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eS=K.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:c,target:f,to:d,preventScrollReset:m,viewTransition:g,..._},v){let{basename:S}=K.useContext(Xr),k=typeof d=="string"&&ZT.test(d),I,T=!1;if(typeof d=="string"&&k&&(I=d,JT))try{let D=new URL(window.location.href),$=d.startsWith("//")?new URL(D.protocol+d):new URL(d),L=oo($.pathname,S);$.origin===D.origin&&L!=null?d=L+$.search+$.hash:T=!0}catch{Qr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=g2(d,{relative:s}),[F,U,N]=J2(i,_),O=oR(d,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:g});function A(D){e&&e(D),D.defaultPrevented||O(D)}let C=K.createElement("a",{..._,...N,href:I||P,onClick:T||o?e:A,ref:nR(v,U),target:f,"data-discover":!k&&r==="render"?"true":void 0});return F&&!k?K.createElement(K.Fragment,null,C,K.createElement(Z2,{page:P})):C});eS.displayName="Link";var r_=K.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:f,...d},m){let g=Dc(l,{relative:d.relative}),_=po(),v=K.useContext(Pd),{navigator:S,basename:k}=K.useContext(Xr),I=v!=null&&fR(g)&&c===!0,T=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,P=_.pathname,F=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(P=P.toLowerCase(),F=F?F.toLowerCase():null,T=T.toLowerCase()),F&&k&&(F=oo(F,k)||F);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=P===T||!s&&P.startsWith(T)&&P.charAt(U)==="/",O=F!=null&&(F===T||!s&&F.startsWith(T)&&F.charAt(T.length)==="/"),A={isActive:N,isPending:O,isTransitioning:I},C=N?e:void 0,D;typeof i=="function"?D=i(A):D=[i,N?"active":null,O?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(A):o;return K.createElement(eS,{...d,"aria-current":C,className:D,ref:m,style:$,to:l,viewTransition:c},typeof f=="function"?f(A):f)});r_.displayName="NavLink";var iR=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:s,state:o,method:l=Lh,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,..._},v)=>{let S=uR(),k=cR(c,{relative:d}),I=l.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&ZT.test(c),P=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,N=(U==null?void 0:U.getAttribute("formmethod"))||l;S(U||F.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:s,state:o,relative:d,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:v,method:I,action:k,onSubmit:i?f:P,..._,"data-discover":!T&&n==="render"?"true":void 0})});iR.displayName="Form";function sR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(n){let e=K.useContext(Ll);return Ct(e,sR(n)),e}function oR(n,{target:e,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Jy(),f=po(),d=Dc(n,{relative:o});return K.useCallback(m=>{if(V2(m,e)){m.preventDefault();let g=r!==void 0?r:pc(f)===pc(d);c(n,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[f,c,d,r,i,e,n,s,o,l])}var aR=0,lR=()=>`__${String(++aR)}__`;function uR(){let{router:n}=tS("useSubmit"),{basename:e}=K.useContext(Xr),r=I2();return K.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:f,body:d}=U2(i,e);if(s.navigate===!1){let m=s.fetcherKey||lR();await n.fetch(m,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,r])}function cR(n,{relative:e}={}){let{basename:r}=K.useContext(Xr),i=K.useContext(Pi);Ct(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Dc(n||".",{relative:e})},l=po();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:as([r,o.pathname])),pc(o)}function fR(n,e={}){let r=K.useContext(WT);Ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tS("useViewTransitionState"),s=Dc(n,{relative:e.relative});if(!r.isTransitioning)return!1;let o=oo(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=oo(r.nextLocation.pathname,i)||r.nextLocation.pathname;return ed(s.pathname,l)!=null||ed(s.pathname,o)!=null}new TextEncoder;var hR=function(e){return dR(e)&&!pR(e)};function dR(n){return!!n&&typeof n=="object"}function pR(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||yR(n)}var mR=typeof Symbol=="function"&&Symbol.for,gR=mR?Symbol.for("react.element"):60103;function yR(n){return n.$$typeof===gR}function _R(n){return Array.isArray(n)?[]:{}}function td(n,e){return e.clone!==!1&&e.isMergeableObject(n)?mc(_R(n),n,e):n}function vR(n,e,r){return n.concat(e).map(function(i){return td(i,r)})}function wR(n,e,r){var i={};return r.isMergeableObject(n)&&Object.keys(n).forEach(function(s){i[s]=td(n[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!n[s]?i[s]=td(e[s],r):i[s]=mc(n[s],e[s],r)}),i}function mc(n,e,r){r=r||{},r.arrayMerge=r.arrayMerge||vR,r.isMergeableObject=r.isMergeableObject||hR;var i=Array.isArray(e),s=Array.isArray(n),o=i===s;return o?i?r.arrayMerge(n,e,r):wR(n,e,r):td(e,r)}mc.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return mc(i,s,r)},{})};var zg=mc,nS=typeof global=="object"&&global&&global.Object===Object&&global,ER=typeof self=="object"&&self&&self.Object===Object&&self,Jr=nS||ER||Function("return this")(),ao=Jr.Symbol,rS=Object.prototype,xR=rS.hasOwnProperty,TR=rS.toString,Du=ao?ao.toStringTag:void 0;function SR(n){var e=xR.call(n,Du),r=n[Du];try{n[Du]=void 0;var i=!0}catch{}var s=TR.call(n);return i&&(e?n[Du]=r:delete n[Du]),s}var bR=Object.prototype,kR=bR.toString;function IR(n){return kR.call(n)}var CR="[object Null]",AR="[object Undefined]",Ww=ao?ao.toStringTag:void 0;function la(n){return n==null?n===void 0?AR:CR:Ww&&Ww in Object(n)?SR(n):IR(n)}function iS(n,e){return function(r){return n(e(r))}}var i_=iS(Object.getPrototypeOf,Object);function ua(n){return n!=null&&typeof n=="object"}var RR="[object Object]",PR=Function.prototype,OR=Object.prototype,sS=PR.toString,NR=OR.hasOwnProperty,DR=sS.call(Object);function Gw(n){if(!ua(n)||la(n)!=RR)return!1;var e=i_(n);if(e===null)return!0;var r=NR.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&sS.call(r)==DR}function MR(){this.__data__=[],this.size=0}function oS(n,e){return n===e||n!==n&&e!==e}function Nd(n,e){for(var r=n.length;r--;)if(oS(n[r][0],e))return r;return-1}var LR=Array.prototype,FR=LR.splice;function VR(n){var e=this.__data__,r=Nd(e,n);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():FR.call(e,r,1),--this.size,!0}function zR(n){var e=this.__data__,r=Nd(e,n);return r<0?void 0:e[r][1]}function $R(n){return Nd(this.__data__,n)>-1}function UR(n,e){var r=this.__data__,i=Nd(r,n);return i<0?(++this.size,r.push([n,e])):r[i][1]=e,this}function ms(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}ms.prototype.clear=MR;ms.prototype.delete=VR;ms.prototype.get=zR;ms.prototype.has=$R;ms.prototype.set=UR;function jR(){this.__data__=new ms,this.size=0}function BR(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}function HR(n){return this.__data__.get(n)}function qR(n){return this.__data__.has(n)}function cs(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var WR="[object AsyncFunction]",GR="[object Function]",KR="[object GeneratorFunction]",QR="[object Proxy]";function aS(n){if(!cs(n))return!1;var e=la(n);return e==GR||e==KR||e==WR||e==QR}var Bm=Jr["__core-js_shared__"],Kw=function(){var n=/[^.]+$/.exec(Bm&&Bm.keys&&Bm.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function YR(n){return!!Kw&&Kw in n}var XR=Function.prototype,JR=XR.toString;function ca(n){if(n!=null){try{return JR.call(n)}catch{}try{return n+""}catch{}}return""}var ZR=/[\\^$.*+?()[\]{}|]/g,eP=/^\[object .+?Constructor\]$/,tP=Function.prototype,nP=Object.prototype,rP=tP.toString,iP=nP.hasOwnProperty,sP=RegExp("^"+rP.call(iP).replace(ZR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oP(n){if(!cs(n)||YR(n))return!1;var e=aS(n)?sP:eP;return e.test(ca(n))}function aP(n,e){return n==null?void 0:n[e]}function fa(n,e){var r=aP(n,e);return oP(r)?r:void 0}var gc=fa(Jr,"Map"),yc=fa(Object,"create");function lP(){this.__data__=yc?yc(null):{},this.size=0}function uP(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var cP="__lodash_hash_undefined__",fP=Object.prototype,hP=fP.hasOwnProperty;function dP(n){var e=this.__data__;if(yc){var r=e[n];return r===cP?void 0:r}return hP.call(e,n)?e[n]:void 0}var pP=Object.prototype,mP=pP.hasOwnProperty;function gP(n){var e=this.__data__;return yc?e[n]!==void 0:mP.call(e,n)}var yP="__lodash_hash_undefined__";function _P(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=yc&&e===void 0?yP:e,this}function ta(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}ta.prototype.clear=lP;ta.prototype.delete=uP;ta.prototype.get=dP;ta.prototype.has=gP;ta.prototype.set=_P;function vP(){this.size=0,this.__data__={hash:new ta,map:new(gc||ms),string:new ta}}function wP(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Dd(n,e){var r=n.__data__;return wP(e)?r[typeof e=="string"?"string":"hash"]:r.map}function EP(n){var e=Dd(this,n).delete(n);return this.size-=e?1:0,e}function xP(n){return Dd(this,n).get(n)}function TP(n){return Dd(this,n).has(n)}function SP(n,e){var r=Dd(this,n),i=r.size;return r.set(n,e),this.size+=r.size==i?0:1,this}function mo(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}mo.prototype.clear=vP;mo.prototype.delete=EP;mo.prototype.get=xP;mo.prototype.has=TP;mo.prototype.set=SP;var bP=200;function kP(n,e){var r=this.__data__;if(r instanceof ms){var i=r.__data__;if(!gc||i.length<bP-1)return i.push([n,e]),this.size=++r.size,this;r=this.__data__=new mo(i)}return r.set(n,e),this.size=r.size,this}function Vl(n){var e=this.__data__=new ms(n);this.size=e.size}Vl.prototype.clear=jR;Vl.prototype.delete=BR;Vl.prototype.get=HR;Vl.prototype.has=qR;Vl.prototype.set=kP;function IP(n,e){for(var r=-1,i=n==null?0:n.length;++r<i&&e(n[r],r,n)!==!1;);return n}var Qw=function(){try{var n=fa(Object,"defineProperty");return n({},"",{}),n}catch{}}();function lS(n,e,r){e=="__proto__"&&Qw?Qw(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}var CP=Object.prototype,AP=CP.hasOwnProperty;function uS(n,e,r){var i=n[e];(!(AP.call(n,e)&&oS(i,r))||r===void 0&&!(e in n))&&lS(n,e,r)}function Md(n,e,r,i){var s=!r;r||(r={});for(var o=-1,l=e.length;++o<l;){var c=e[o],f=void 0;f===void 0&&(f=n[c]),s?lS(r,c,f):uS(r,c,f)}return r}function RP(n,e){for(var r=-1,i=Array(n);++r<n;)i[r]=e(r);return i}var PP="[object Arguments]";function Yw(n){return ua(n)&&la(n)==PP}var cS=Object.prototype,OP=cS.hasOwnProperty,NP=cS.propertyIsEnumerable,DP=Yw(function(){return arguments}())?Yw:function(n){return ua(n)&&OP.call(n,"callee")&&!NP.call(n,"callee")},Mc=Array.isArray;function MP(){return!1}var fS=typeof ar=="object"&&ar&&!ar.nodeType&&ar,Xw=fS&&typeof lr=="object"&&lr&&!lr.nodeType&&lr,LP=Xw&&Xw.exports===fS,Jw=LP?Jr.Buffer:void 0,FP=Jw?Jw.isBuffer:void 0,hS=FP||MP,VP=9007199254740991,zP=/^(?:0|[1-9]\d*)$/;function $P(n,e){var r=typeof n;return e=e??VP,!!e&&(r=="number"||r!="symbol"&&zP.test(n))&&n>-1&&n%1==0&&n<e}var UP=9007199254740991;function dS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=UP}var jP="[object Arguments]",BP="[object Array]",HP="[object Boolean]",qP="[object Date]",WP="[object Error]",GP="[object Function]",KP="[object Map]",QP="[object Number]",YP="[object Object]",XP="[object RegExp]",JP="[object Set]",ZP="[object String]",eO="[object WeakMap]",tO="[object ArrayBuffer]",nO="[object DataView]",rO="[object Float32Array]",iO="[object Float64Array]",sO="[object Int8Array]",oO="[object Int16Array]",aO="[object Int32Array]",lO="[object Uint8Array]",uO="[object Uint8ClampedArray]",cO="[object Uint16Array]",fO="[object Uint32Array]",xt={};xt[rO]=xt[iO]=xt[sO]=xt[oO]=xt[aO]=xt[lO]=xt[uO]=xt[cO]=xt[fO]=!0;xt[jP]=xt[BP]=xt[tO]=xt[HP]=xt[nO]=xt[qP]=xt[WP]=xt[GP]=xt[KP]=xt[QP]=xt[YP]=xt[XP]=xt[JP]=xt[ZP]=xt[eO]=!1;function hO(n){return ua(n)&&dS(n.length)&&!!xt[la(n)]}function s_(n){return function(e){return n(e)}}var pS=typeof ar=="object"&&ar&&!ar.nodeType&&ar,tc=pS&&typeof lr=="object"&&lr&&!lr.nodeType&&lr,dO=tc&&tc.exports===pS,Hm=dO&&nS.process,Tl=function(){try{var n=tc&&tc.require&&tc.require("util").types;return n||Hm&&Hm.binding&&Hm.binding("util")}catch{}}(),Zw=Tl&&Tl.isTypedArray,pO=Zw?s_(Zw):hO,mO=Object.prototype,gO=mO.hasOwnProperty;function mS(n,e){var r=Mc(n),i=!r&&DP(n),s=!r&&!i&&hS(n),o=!r&&!i&&!s&&pO(n),l=r||i||s||o,c=l?RP(n.length,String):[],f=c.length;for(var d in n)(e||gO.call(n,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||$P(d,f)))&&c.push(d);return c}var yO=Object.prototype;function o_(n){var e=n&&n.constructor,r=typeof e=="function"&&e.prototype||yO;return n===r}var _O=iS(Object.keys,Object),vO=Object.prototype,wO=vO.hasOwnProperty;function EO(n){if(!o_(n))return _O(n);var e=[];for(var r in Object(n))wO.call(n,r)&&r!="constructor"&&e.push(r);return e}function gS(n){return n!=null&&dS(n.length)&&!aS(n)}function a_(n){return gS(n)?mS(n):EO(n)}function xO(n,e){return n&&Md(e,a_(e),n)}function TO(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e}var SO=Object.prototype,bO=SO.hasOwnProperty;function kO(n){if(!cs(n))return TO(n);var e=o_(n),r=[];for(var i in n)i=="constructor"&&(e||!bO.call(n,i))||r.push(i);return r}function l_(n){return gS(n)?mS(n,!0):kO(n)}function IO(n,e){return n&&Md(e,l_(e),n)}var yS=typeof ar=="object"&&ar&&!ar.nodeType&&ar,e1=yS&&typeof lr=="object"&&lr&&!lr.nodeType&&lr,CO=e1&&e1.exports===yS,t1=CO?Jr.Buffer:void 0,n1=t1?t1.allocUnsafe:void 0;function AO(n,e){if(e)return n.slice();var r=n.length,i=n1?n1(r):new n.constructor(r);return n.copy(i),i}function _S(n,e){var r=-1,i=n.length;for(e||(e=Array(i));++r<i;)e[r]=n[r];return e}function RO(n,e){for(var r=-1,i=n==null?0:n.length,s=0,o=[];++r<i;){var l=n[r];e(l,r,n)&&(o[s++]=l)}return o}function vS(){return[]}var PO=Object.prototype,OO=PO.propertyIsEnumerable,r1=Object.getOwnPropertySymbols,u_=r1?function(n){return n==null?[]:(n=Object(n),RO(r1(n),function(e){return OO.call(n,e)}))}:vS;function NO(n,e){return Md(n,u_(n),e)}function wS(n,e){for(var r=-1,i=e.length,s=n.length;++r<i;)n[s+r]=e[r];return n}var DO=Object.getOwnPropertySymbols,ES=DO?function(n){for(var e=[];n;)wS(e,u_(n)),n=i_(n);return e}:vS;function MO(n,e){return Md(n,ES(n),e)}function xS(n,e,r){var i=e(n);return Mc(n)?i:wS(i,r(n))}function LO(n){return xS(n,a_,u_)}function FO(n){return xS(n,l_,ES)}var $g=fa(Jr,"DataView"),Ug=fa(Jr,"Promise"),jg=fa(Jr,"Set"),Bg=fa(Jr,"WeakMap"),i1="[object Map]",VO="[object Object]",s1="[object Promise]",o1="[object Set]",a1="[object WeakMap]",l1="[object DataView]",zO=ca($g),$O=ca(gc),UO=ca(Ug),jO=ca(jg),BO=ca(Bg),Ji=la;($g&&Ji(new $g(new ArrayBuffer(1)))!=l1||gc&&Ji(new gc)!=i1||Ug&&Ji(Ug.resolve())!=s1||jg&&Ji(new jg)!=o1||Bg&&Ji(new Bg)!=a1)&&(Ji=function(n){var e=la(n),r=e==VO?n.constructor:void 0,i=r?ca(r):"";if(i)switch(i){case zO:return l1;case $O:return i1;case UO:return s1;case jO:return o1;case BO:return a1}return e});var HO=Object.prototype,qO=HO.hasOwnProperty;function WO(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&qO.call(n,"index")&&(r.index=n.index,r.input=n.input),r}var u1=Jr.Uint8Array;function c_(n){var e=new n.constructor(n.byteLength);return new u1(e).set(new u1(n)),e}function GO(n,e){var r=e?c_(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}var KO=/\w*$/;function QO(n){var e=new n.constructor(n.source,KO.exec(n));return e.lastIndex=n.lastIndex,e}var c1=ao?ao.prototype:void 0,f1=c1?c1.valueOf:void 0;function YO(n){return f1?Object(f1.call(n)):{}}function XO(n,e){var r=e?c_(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}var JO="[object Boolean]",ZO="[object Date]",eN="[object Map]",tN="[object Number]",nN="[object RegExp]",rN="[object Set]",iN="[object String]",sN="[object Symbol]",oN="[object ArrayBuffer]",aN="[object DataView]",lN="[object Float32Array]",uN="[object Float64Array]",cN="[object Int8Array]",fN="[object Int16Array]",hN="[object Int32Array]",dN="[object Uint8Array]",pN="[object Uint8ClampedArray]",mN="[object Uint16Array]",gN="[object Uint32Array]";function yN(n,e,r){var i=n.constructor;switch(e){case oN:return c_(n);case JO:case ZO:return new i(+n);case aN:return GO(n,r);case lN:case uN:case cN:case fN:case hN:case dN:case pN:case mN:case gN:return XO(n,r);case eN:return new i;case tN:case iN:return new i(n);case nN:return QO(n);case rN:return new i;case sN:return YO(n)}}var h1=Object.create,_N=function(){function n(){}return function(e){if(!cs(e))return{};if(h1)return h1(e);n.prototype=e;var r=new n;return n.prototype=void 0,r}}();function vN(n){return typeof n.constructor=="function"&&!o_(n)?_N(i_(n)):{}}var wN="[object Map]";function EN(n){return ua(n)&&Ji(n)==wN}var d1=Tl&&Tl.isMap,xN=d1?s_(d1):EN,TN="[object Set]";function SN(n){return ua(n)&&Ji(n)==TN}var p1=Tl&&Tl.isSet,bN=p1?s_(p1):SN,kN=1,IN=2,CN=4,TS="[object Arguments]",AN="[object Array]",RN="[object Boolean]",PN="[object Date]",ON="[object Error]",SS="[object Function]",NN="[object GeneratorFunction]",DN="[object Map]",MN="[object Number]",bS="[object Object]",LN="[object RegExp]",FN="[object Set]",VN="[object String]",zN="[object Symbol]",$N="[object WeakMap]",UN="[object ArrayBuffer]",jN="[object DataView]",BN="[object Float32Array]",HN="[object Float64Array]",qN="[object Int8Array]",WN="[object Int16Array]",GN="[object Int32Array]",KN="[object Uint8Array]",QN="[object Uint8ClampedArray]",YN="[object Uint16Array]",XN="[object Uint32Array]",gt={};gt[TS]=gt[AN]=gt[UN]=gt[jN]=gt[RN]=gt[PN]=gt[BN]=gt[HN]=gt[qN]=gt[WN]=gt[GN]=gt[DN]=gt[MN]=gt[bS]=gt[LN]=gt[FN]=gt[VN]=gt[zN]=gt[KN]=gt[QN]=gt[YN]=gt[XN]=!0;gt[ON]=gt[SS]=gt[$N]=!1;function nc(n,e,r,i,s,o){var l,c=e&kN,f=e&IN,d=e&CN;if(l!==void 0)return l;if(!cs(n))return n;var m=Mc(n);if(m){if(l=WO(n),!c)return _S(n,l)}else{var g=Ji(n),_=g==SS||g==NN;if(hS(n))return AO(n,c);if(g==bS||g==TS||_&&!s){if(l=f||_?{}:vN(n),!c)return f?MO(n,IO(l,n)):NO(n,xO(l,n))}else{if(!gt[g])return s?n:{};l=yN(n,g,c)}}o||(o=new Vl);var v=o.get(n);if(v)return v;o.set(n,l),bN(n)?n.forEach(function(I){l.add(nc(I,e,r,I,n,o))}):xN(n)&&n.forEach(function(I,T){l.set(T,nc(I,e,r,T,n,o))});var S=d?f?FO:LO:f?l_:a_,k=m?void 0:S(n);return IP(k||n,function(I,T){k&&(T=I,I=n[T]),uS(l,T,nc(I,e,r,T,n,o))}),l}var JN=1,ZN=4;function qu(n){return nc(n,JN|ZN)}var qm,m1;function eD(){if(m1)return qm;m1=1;var n=Array.isArray,e=Object.keys,r=Object.prototype.hasOwnProperty,i=typeof Element<"u";function s(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){var c=n(o),f=n(l),d,m,g;if(c&&f){if(m=o.length,m!=l.length)return!1;for(d=m;d--!==0;)if(!s(o[d],l[d]))return!1;return!0}if(c!=f)return!1;var _=o instanceof Date,v=l instanceof Date;if(_!=v)return!1;if(_&&v)return o.getTime()==l.getTime();var S=o instanceof RegExp,k=l instanceof RegExp;if(S!=k)return!1;if(S&&k)return o.toString()==l.toString();var I=e(o);if(m=I.length,m!==e(l).length)return!1;for(d=m;d--!==0;)if(!r.call(l,I[d]))return!1;if(i&&o instanceof Element&&l instanceof Element)return o===l;for(d=m;d--!==0;)if(g=I[d],!(g==="_owner"&&o.$$typeof)&&!s(o[g],l[g]))return!1;return!0}return o!==o&&l!==l}return qm=function(l,c){try{return s(l,c)}catch(f){if(f.message&&f.message.match(/stack|recursion/i)||f.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",f.name,f.message),!1;throw f}},qm}var tD=eD();const qs=aa(tD);var nD=4;function g1(n){return nc(n,nD)}function kS(n,e){for(var r=-1,i=n==null?0:n.length,s=Array(i);++r<i;)s[r]=e(n[r],r,n);return s}var rD="[object Symbol]";function Ld(n){return typeof n=="symbol"||ua(n)&&la(n)==rD}var iD="Expected a function";function f_(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(iD);var r=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=r.cache;if(o.has(s))return o.get(s);var l=n.apply(this,i);return r.cache=o.set(s,l)||o,l};return r.cache=new(f_.Cache||mo),r}f_.Cache=mo;var sD=500;function oD(n){var e=f_(n,function(i){return r.size===sD&&r.clear(),i}),r=e.cache;return e}var aD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lD=/\\(\\)?/g,uD=oD(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(aD,function(r,i,s,o){e.push(s?o.replace(lD,"$1"):i||r)}),e});function cD(n){if(typeof n=="string"||Ld(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var y1=ao?ao.prototype:void 0,_1=y1?y1.toString:void 0;function IS(n){if(typeof n=="string")return n;if(Mc(n))return kS(n,IS)+"";if(Ld(n))return _1?_1.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function fD(n){return n==null?"":IS(n)}function CS(n){return Mc(n)?kS(n,cD):Ld(n)?[n]:_S(uD(fD(n)))}var Wm={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function hD(){if(v1)return at;v1=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,T=n?Symbol.for("react.responder"):60118,P=n?Symbol.for("react.scope"):60119;function F(N){if(typeof N=="object"&&N!==null){var O=N.$$typeof;switch(O){case e:switch(N=N.type,N){case f:case d:case i:case o:case s:case g:return N;default:switch(N=N&&N.$$typeof,N){case c:case m:case S:case v:case l:return N;default:return O}}case r:return O}}}function U(N){return F(N)===d}return at.AsyncMode=f,at.ConcurrentMode=d,at.ContextConsumer=c,at.ContextProvider=l,at.Element=e,at.ForwardRef=m,at.Fragment=i,at.Lazy=S,at.Memo=v,at.Portal=r,at.Profiler=o,at.StrictMode=s,at.Suspense=g,at.isAsyncMode=function(N){return U(N)||F(N)===f},at.isConcurrentMode=U,at.isContextConsumer=function(N){return F(N)===c},at.isContextProvider=function(N){return F(N)===l},at.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},at.isForwardRef=function(N){return F(N)===m},at.isFragment=function(N){return F(N)===i},at.isLazy=function(N){return F(N)===S},at.isMemo=function(N){return F(N)===v},at.isPortal=function(N){return F(N)===r},at.isProfiler=function(N){return F(N)===o},at.isStrictMode=function(N){return F(N)===s},at.isSuspense=function(N){return F(N)===g},at.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===i||N===d||N===o||N===s||N===g||N===_||typeof N=="object"&&N!==null&&(N.$$typeof===S||N.$$typeof===v||N.$$typeof===l||N.$$typeof===c||N.$$typeof===m||N.$$typeof===I||N.$$typeof===T||N.$$typeof===P||N.$$typeof===k)},at.typeOf=F,at}var w1;function dD(){return w1||(w1=1,Wm.exports=hD()),Wm.exports}var Gm,E1;function pD(){if(E1)return Gm;E1=1;var n=dD(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=s;function l(S){return n.isMemo(S)?s:o[S.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,_=Object.prototype;function v(S,k,I){if(typeof k!="string"){if(_){var T=g(k);T&&T!==_&&v(S,T,I)}var P=f(k);d&&(P=P.concat(d(k)));for(var F=l(S),U=l(k),N=0;N<P.length;++N){var O=P[N];if(!r[O]&&!(I&&I[O])&&!(U&&U[O])&&!(F&&F[O])){var A=m(k,O);try{c(S,O,A)}catch{}}}}return S}return Gm=v,Gm}var mD=pD();const gD=aa(mD);function ut(){return ut=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ut.apply(this,arguments)}function AS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Xs(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function x1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Fd=K.createContext(void 0);Fd.displayName="FormikContext";var yD=Fd.Provider,_D=Fd.Consumer;function RS(){var n=K.useContext(Fd);return n}var T1=function(e){return Array.isArray(e)&&e.length===0},un=function(e){return typeof e=="function"},Lc=function(e){return e!==null&&typeof e=="object"},vD=function(e){return String(Math.floor(Number(e)))===e},Km=function(e){return Object.prototype.toString.call(e)==="[object String]"},PS=function(e){return K.Children.count(e)===0},Qm=function(e){return Lc(e)&&un(e.then)};function bt(n,e,r,i){i===void 0&&(i=0);for(var s=CS(e);n&&i<s.length;)n=n[s[i++]];return i!==s.length&&!n||n===void 0?r:n}function Ei(n,e,r){for(var i=g1(n),s=i,o=0,l=CS(e);o<l.length-1;o++){var c=l[o],f=bt(n,l.slice(0,o+1));if(f&&(Lc(f)||Array.isArray(f)))s=s[c]=g1(f);else{var d=l[o+1];s=s[c]=vD(d)&&Number(d)>=0?[]:{}}}return(o===0?n:s)[l[o]]===r?n:(r===void 0?delete s[l[o]]:s[l[o]]=r,o===0&&r===void 0&&delete i[l[o]],i)}function OS(n,e,r,i){r===void 0&&(r=new WeakMap),i===void 0&&(i={});for(var s=0,o=Object.keys(n);s<o.length;s++){var l=o[s],c=n[l];Lc(c)?r.get(c)||(r.set(c,!0),i[l]=Array.isArray(c)?[]:{},OS(c,e,r,i[l])):i[l]=e}return i}function wD(n,e){switch(e.type){case"SET_VALUES":return ut({},n,{values:e.payload});case"SET_TOUCHED":return ut({},n,{touched:e.payload});case"SET_ERRORS":return qs(n.errors,e.payload)?n:ut({},n,{errors:e.payload});case"SET_STATUS":return ut({},n,{status:e.payload});case"SET_ISSUBMITTING":return ut({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ut({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return ut({},n,{values:Ei(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ut({},n,{touched:Ei(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ut({},n,{errors:Ei(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ut({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return ut({},n,{touched:OS(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return ut({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ut({},n,{isSubmitting:!1});default:return n}}var Bo={},gh={};function ED(n){var e=n.validateOnChange,r=e===void 0?!0:e,i=n.validateOnBlur,s=i===void 0?!0:i,o=n.validateOnMount,l=o===void 0?!1:o,c=n.isInitialValid,f=n.enableReinitialize,d=f===void 0?!1:f,m=n.onSubmit,g=Xs(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),_=ut({validateOnChange:r,validateOnBlur:s,validateOnMount:l,onSubmit:m},g),v=K.useRef(_.initialValues),S=K.useRef(_.initialErrors||Bo),k=K.useRef(_.initialTouched||gh),I=K.useRef(_.initialStatus),T=K.useRef(!1),P=K.useRef({});K.useEffect(function(){return T.current=!0,function(){T.current=!1}},[]);var F=K.useState(0),U=F[1],N=K.useRef({values:qu(_.initialValues),errors:qu(_.initialErrors)||Bo,touched:qu(_.initialTouched)||gh,status:qu(_.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=N.current,A=K.useCallback(function(re){var Ee=N.current;N.current=wD(Ee,re),Ee!==N.current&&U(function(Ce){return Ce+1})},[]),C=K.useCallback(function(re,Ee){return new Promise(function(Ce,Oe){var X=_.validate(re,Ee);X==null?Ce(Bo):Qm(X)?X.then(function(le){Ce(le||Bo)},function(le){Oe(le)}):Ce(X)})},[_.validate]),D=K.useCallback(function(re,Ee){var Ce=_.validationSchema,Oe=un(Ce)?Ce(Ee):Ce,X=Ee&&Oe.validateAt?Oe.validateAt(Ee,re):SD(re,Oe);return new Promise(function(le,Te){X.then(function(){le(Bo)},function(ze){ze.name==="ValidationError"?le(TD(ze)):Te(ze)})})},[_.validationSchema]),$=K.useCallback(function(re,Ee){return new Promise(function(Ce){return Ce(P.current[re].validate(Ee))})},[]),L=K.useCallback(function(re){var Ee=Object.keys(P.current).filter(function(Oe){return un(P.current[Oe].validate)}),Ce=Ee.length>0?Ee.map(function(Oe){return $(Oe,bt(re,Oe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ce).then(function(Oe){return Oe.reduce(function(X,le,Te){return le==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||le&&(X=Ei(X,Ee[Te],le)),X},{})})},[$]),j=K.useCallback(function(re){return Promise.all([L(re),_.validationSchema?D(re):{},_.validate?C(re):{}]).then(function(Ee){var Ce=Ee[0],Oe=Ee[1],X=Ee[2],le=zg.all([Ce,Oe,X],{arrayMerge:bD});return le})},[_.validate,_.validationSchema,L,C,D]),M=Er(function(re){return re===void 0&&(re=O.values),A({type:"SET_ISVALIDATING",payload:!0}),j(re).then(function(Ee){return T.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:Ee})),Ee})});K.useEffect(function(){l&&T.current===!0&&qs(v.current,_.initialValues)&&M(v.current)},[l,M]);var q=K.useCallback(function(re){var Ee=re&&re.values?re.values:v.current,Ce=re&&re.errors?re.errors:S.current?S.current:_.initialErrors||{},Oe=re&&re.touched?re.touched:k.current?k.current:_.initialTouched||{},X=re&&re.status?re.status:I.current?I.current:_.initialStatus;v.current=Ee,S.current=Ce,k.current=Oe,I.current=X;var le=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:Ce,touched:Oe,status:X,values:Ee,isValidating:!!re&&!!re.isValidating,submitCount:re&&re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(_.onReset){var Te=_.onReset(O.values,Gn);Qm(Te)?Te.then(le):le()}else le()},[_.initialErrors,_.initialStatus,_.initialTouched,_.onReset]);K.useEffect(function(){T.current===!0&&!qs(v.current,_.initialValues)&&d&&(v.current=_.initialValues,q(),l&&M(v.current))},[d,_.initialValues,q,l,M]),K.useEffect(function(){d&&T.current===!0&&!qs(S.current,_.initialErrors)&&(S.current=_.initialErrors||Bo,A({type:"SET_ERRORS",payload:_.initialErrors||Bo}))},[d,_.initialErrors]),K.useEffect(function(){d&&T.current===!0&&!qs(k.current,_.initialTouched)&&(k.current=_.initialTouched||gh,A({type:"SET_TOUCHED",payload:_.initialTouched||gh}))},[d,_.initialTouched]),K.useEffect(function(){d&&T.current===!0&&!qs(I.current,_.initialStatus)&&(I.current=_.initialStatus,A({type:"SET_STATUS",payload:_.initialStatus}))},[d,_.initialStatus,_.initialTouched]);var ie=Er(function(re){if(P.current[re]&&un(P.current[re].validate)){var Ee=bt(O.values,re),Ce=P.current[re].validate(Ee);return Qm(Ce)?(A({type:"SET_ISVALIDATING",payload:!0}),Ce.then(function(Oe){return Oe}).then(function(Oe){A({type:"SET_FIELD_ERROR",payload:{field:re,value:Oe}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:re,value:Ce}}),Promise.resolve(Ce))}else if(_.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),D(O.values,re).then(function(Oe){return Oe}).then(function(Oe){A({type:"SET_FIELD_ERROR",payload:{field:re,value:bt(Oe,re)}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),oe=K.useCallback(function(re,Ee){var Ce=Ee.validate;P.current[re]={validate:Ce}},[]),ce=K.useCallback(function(re){delete P.current[re]},[]),se=Er(function(re,Ee){A({type:"SET_TOUCHED",payload:re});var Ce=Ee===void 0?s:Ee;return Ce?M(O.values):Promise.resolve()}),ue=K.useCallback(function(re){A({type:"SET_ERRORS",payload:re})},[]),V=Er(function(re,Ee){var Ce=un(re)?re(O.values):re;A({type:"SET_VALUES",payload:Ce});var Oe=Ee===void 0?r:Ee;return Oe?M(Ce):Promise.resolve()}),W=K.useCallback(function(re,Ee){A({type:"SET_FIELD_ERROR",payload:{field:re,value:Ee}})},[]),ee=Er(function(re,Ee,Ce){A({type:"SET_FIELD_VALUE",payload:{field:re,value:Ee}});var Oe=Ce===void 0?r:Ce;return Oe?M(Ei(O.values,re,Ee)):Promise.resolve()}),B=K.useCallback(function(re,Ee){var Ce=Ee,Oe=re,X;if(!Km(re)){re.persist&&re.persist();var le=re.target?re.target:re.currentTarget,Te=le.type,ze=le.name,Qe=le.id,At=le.value,nn=le.checked;le.outerHTML;var Yt=le.options,Yn=le.multiple;Ce=Ee||ze||Qe,Oe=/number|range/.test(Te)?(X=parseFloat(At),isNaN(X)?"":X):/checkbox/.test(Te)?ID(bt(O.values,Ce),nn,At):Yt&&Yn?kD(Yt):At}Ce&&ee(Ce,Oe)},[ee,O.values]),ve=Er(function(re){if(Km(re))return function(Ee){return B(Ee,re)};B(re)}),ke=Er(function(re,Ee,Ce){Ee===void 0&&(Ee=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:re,value:Ee}});var Oe=Ce===void 0?s:Ce;return Oe?M(O.values):Promise.resolve()}),Ie=K.useCallback(function(re,Ee){re.persist&&re.persist();var Ce=re.target,Oe=Ce.name,X=Ce.id;Ce.outerHTML;var le=Ee||Oe||X;ke(le,!0)},[ke]),Me=Er(function(re){if(Km(re))return function(Ee){return Ie(Ee,re)};Ie(re)}),Le=K.useCallback(function(re){un(re)?A({type:"SET_FORMIK_STATE",payload:re}):A({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),Ke=K.useCallback(function(re){A({type:"SET_STATUS",payload:re})},[]),ct=K.useCallback(function(re){A({type:"SET_ISSUBMITTING",payload:re})},[]),Qt=Er(function(){return A({type:"SUBMIT_ATTEMPT"}),M().then(function(re){var Ee=re instanceof Error,Ce=!Ee&&Object.keys(re).length===0;if(Ce){var Oe;try{if(Oe=Cr(),Oe===void 0)return}catch(X){throw X}return Promise.resolve(Oe).then(function(X){return T.current&&A({type:"SUBMIT_SUCCESS"}),X}).catch(function(X){if(T.current)throw A({type:"SUBMIT_FAILURE"}),X})}else if(T.current&&(A({type:"SUBMIT_FAILURE"}),Ee))throw re})}),ei=Er(function(re){re&&re.preventDefault&&un(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&un(re.stopPropagation)&&re.stopPropagation(),Qt().catch(function(Ee){console.warn("Warning: An unhandled error was caught from submitForm()",Ee)})}),Gn={resetForm:q,validateForm:M,validateField:ie,setErrors:ue,setFieldError:W,setFieldTouched:ke,setFieldValue:ee,setStatus:Ke,setSubmitting:ct,setTouched:se,setValues:V,setFormikState:Le,submitForm:Qt},Cr=Er(function(){return m(O.values,Gn)}),Ar=Er(function(re){re&&re.preventDefault&&un(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&un(re.stopPropagation)&&re.stopPropagation(),q()}),ti=K.useCallback(function(re){return{value:bt(O.values,re),error:bt(O.errors,re),touched:!!bt(O.touched,re),initialValue:bt(v.current,re),initialTouched:!!bt(k.current,re),initialError:bt(S.current,re)}},[O.errors,O.touched,O.values]),ni=K.useCallback(function(re){return{setValue:function(Ce,Oe){return ee(re,Ce,Oe)},setTouched:function(Ce,Oe){return ke(re,Ce,Oe)},setError:function(Ce){return W(re,Ce)}}},[ee,ke,W]),ys=K.useCallback(function(re){var Ee=Lc(re),Ce=Ee?re.name:re,Oe=bt(O.values,Ce),X={name:Ce,value:Oe,onChange:ve,onBlur:Me};if(Ee){var le=re.type,Te=re.value,ze=re.as,Qe=re.multiple;le==="checkbox"?Te===void 0?X.checked=!!Oe:(X.checked=!!(Array.isArray(Oe)&&~Oe.indexOf(Te)),X.value=Te):le==="radio"?(X.checked=Oe===Te,X.value=Te):ze==="select"&&Qe&&(X.value=X.value||[],X.multiple=!0)}return X},[Me,ve,O.values]),Kn=K.useMemo(function(){return!qs(v.current,O.values)},[v.current,O.values]),Rn=K.useMemo(function(){return typeof c<"u"?Kn?O.errors&&Object.keys(O.errors).length===0:c!==!1&&un(c)?c(_):c:O.errors&&Object.keys(O.errors).length===0},[c,Kn,O.errors,_]),Qn=ut({},O,{initialValues:v.current,initialErrors:S.current,initialTouched:k.current,initialStatus:I.current,handleBlur:Me,handleChange:ve,handleReset:Ar,handleSubmit:ei,resetForm:q,setErrors:ue,setFormikState:Le,setFieldTouched:ke,setFieldValue:ee,setFieldError:W,setStatus:Ke,setSubmitting:ct,setTouched:se,setValues:V,submitForm:Qt,validateForm:M,validateField:ie,isValid:Rn,dirty:Kn,unregisterField:ce,registerField:oe,getFieldProps:ys,getFieldMeta:ti,getFieldHelpers:ni,validateOnBlur:s,validateOnChange:r,validateOnMount:l});return Qn}function xD(n){var e=ED(n),r=n.component,i=n.children,s=n.render,o=n.innerRef;return K.useImperativeHandle(o,function(){return e}),K.createElement(yD,{value:e},r?K.createElement(r,e):s?s(e):i?un(i)?i(e):PS(i)?null:K.Children.only(i):null)}function TD(n){var e={};if(n.inner){if(n.inner.length===0)return Ei(e,n.path,n.message);for(var s=n.inner,r=Array.isArray(s),i=0,s=r?s:s[Symbol.iterator]();;){var o;if(r){if(i>=s.length)break;o=s[i++]}else{if(i=s.next(),i.done)break;o=i.value}var l=o;bt(e,l.path)||(e=Ei(e,l.path,l.message))}}return e}function SD(n,e,r,i){r===void 0&&(r=!1);var s=Hg(n);return e[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Hg(n){var e=Array.isArray(n)?[]:{};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=String(r);Array.isArray(n[i])===!0?e[i]=n[i].map(function(s){return Array.isArray(s)===!0||Gw(s)?Hg(s):s!==""?s:void 0}):Gw(n[i])?e[i]=Hg(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function bD(n,e,r){var i=n.slice();return e.forEach(function(o,l){if(typeof i[l]>"u"){var c=r.clone!==!1,f=c&&r.isMergeableObject(o);i[l]=f?zg(Array.isArray(o)?[]:{},o,r):o}else r.isMergeableObject(o)?i[l]=zg(n[l],o,r):n.indexOf(o)===-1&&i.push(o)}),i}function kD(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function ID(n,e,r){if(typeof n=="boolean")return!!e;var i=[],s=!1,o=-1;if(Array.isArray(n))i=n,o=n.indexOf(r),s=o>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!s?i.concat(r):s?i.slice(0,o).concat(i.slice(o+1)):i}var CD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?K.useLayoutEffect:K.useEffect;function Er(n){var e=K.useRef(n);return CD(function(){e.current=n}),K.useCallback(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.current.apply(void 0,i)},[])}function S1(n){var e=n.validate,r=n.name,i=n.render,s=n.children,o=n.as,l=n.component,c=n.className,f=Xs(n,["validate","name","render","children","as","component","className"]),d=RS(),m=Xs(d,["validate","validationSchema"]),g=m.registerField,_=m.unregisterField;K.useEffect(function(){return g(r,{validate:e}),function(){_(r)}},[g,_,r,e]);var v=m.getFieldProps(ut({name:r},f)),S=m.getFieldMeta(r),k={field:v,form:m};if(i)return i(ut({},k,{meta:S}));if(un(s))return s(ut({},k,{meta:S}));if(l){if(typeof l=="string"){var I=f.innerRef,T=Xs(f,["innerRef"]);return K.createElement(l,ut({ref:I},v,T,{className:c}),s)}return K.createElement(l,ut({field:v,form:m},f,{className:c}),s)}var P=o||"input";if(typeof P=="string"){var F=f.innerRef,U=Xs(f,["innerRef"]);return K.createElement(P,ut({ref:F},v,U,{className:c}),s)}return K.createElement(P,ut({},v,f,{className:c}),s)}var NS=K.forwardRef(function(n,e){var r=n.action,i=Xs(n,["action"]),s=r??"#",o=RS(),l=o.handleReset,c=o.handleSubmit;return K.createElement("form",ut({onSubmit:c,ref:e,onReset:l,action:s},i))});NS.displayName="Form";function AD(n){var e=function(s){return K.createElement(_D,null,function(o){return K.createElement(n,ut({},s,{formik:o}))})},r=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return e.WrappedComponent=n,e.displayName="FormikConnect("+r+")",gD(e,n)}var RD=function(e,r,i){var s=na(e),o=s[r];return s.splice(r,1),s.splice(i,0,o),s},PD=function(e,r,i){var s=na(e),o=s[r];return s[r]=s[i],s[i]=o,s},Ym=function(e,r,i){var s=na(e);return s.splice(r,0,i),s},OD=function(e,r,i){var s=na(e);return s[r]=i,s},na=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,s){return s>i?s:i},0);return Array.from(ut({},e,{length:r+1}))}else return[]},b1=function(e,r){var i=typeof e=="function"?e:r;return function(s){if(Array.isArray(s)||Lc(s)){var o=na(s);return i(o)}return s}},ND=function(n){AS(e,n);function e(i){var s;return s=n.call(this,i)||this,s.updateArrayField=function(o,l,c){var f=s.props,d=f.name,m=f.formik.setFormikState;m(function(g){var _=b1(c,o),v=b1(l,o),S=Ei(g.values,d,o(bt(g.values,d))),k=c?_(bt(g.errors,d)):void 0,I=l?v(bt(g.touched,d)):void 0;return T1(k)&&(k=void 0),T1(I)&&(I=void 0),ut({},g,{values:S,errors:c?Ei(g.errors,d,k):g.errors,touched:l?Ei(g.touched,d,I):g.touched})})},s.push=function(o){return s.updateArrayField(function(l){return[].concat(na(l),[qu(o)])},!1,!1)},s.handlePush=function(o){return function(){return s.push(o)}},s.swap=function(o,l){return s.updateArrayField(function(c){return PD(c,o,l)},!0,!0)},s.handleSwap=function(o,l){return function(){return s.swap(o,l)}},s.move=function(o,l){return s.updateArrayField(function(c){return RD(c,o,l)},!0,!0)},s.handleMove=function(o,l){return function(){return s.move(o,l)}},s.insert=function(o,l){return s.updateArrayField(function(c){return Ym(c,o,l)},function(c){return Ym(c,o,null)},function(c){return Ym(c,o,null)})},s.handleInsert=function(o,l){return function(){return s.insert(o,l)}},s.replace=function(o,l){return s.updateArrayField(function(c){return OD(c,o,l)},!1,!1)},s.handleReplace=function(o,l){return function(){return s.replace(o,l)}},s.unshift=function(o){var l=-1;return s.updateArrayField(function(c){var f=c?[o].concat(c):[o];return l=f.length,f},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),l},s.handleUnshift=function(o){return function(){return s.unshift(o)}},s.handleRemove=function(o){return function(){return s.remove(o)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(x1(s)),s.pop=s.pop.bind(x1(s)),s}var r=e.prototype;return r.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!qs(bt(s.formik.values,s.name),bt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(s){var o;return this.updateArrayField(function(l){var c=l?na(l):[];return o||(o=c[s]),un(c.splice)&&c.splice(s,1),un(c.every)&&c.every(function(f){return f===void 0})?[]:c},!0,!0),o},r.pop=function(){var s;return this.updateArrayField(function(o){var l=o.slice();return s||(s=l&&l.pop&&l.pop()),l},!0,!0),s},r.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,l=o.component,c=o.render,f=o.children,d=o.name,m=o.formik,g=Xs(m,["validate","validationSchema"]),_=ut({},s,{form:g,name:d});return l?K.createElement(l,_):c?c(_):f?typeof f=="function"?f(_):PS(f)?null:K.Children.only(f):null},e}(K.Component);ND.defaultProps={validateOnChange:!0};var DD=function(n){AS(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(s){return bt(this.props.formik.errors,this.props.name)!==bt(s.formik.errors,this.props.name)||bt(this.props.formik.touched,this.props.name)!==bt(s.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(s).length},r.render=function(){var s=this.props,o=s.component,l=s.formik,c=s.render,f=s.children,d=s.name,m=Xs(s,["component","formik","render","children","name"]),g=bt(l.touched,d),_=bt(l.errors,d);return g&&_?c?un(c)?c(_):null:f?un(f)?f(_):null:o?K.createElement(o,m,_):_:null},e}(K.Component),k1=AD(DD),Xm,I1;function MD(){if(I1)return Xm;I1=1;function n(T){this._maxSize=T,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(T){return this._values[T]},n.prototype.set=function(T,P){return this._size>=this._maxSize&&this.clear(),T in this._values||this._size++,this._values[T]=P};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,c=new n(l),f=new n(l),d=new n(l);Xm={Cache:n,split:g,normalizePath:m,setter:function(T){var P=m(T);return f.get(T)||f.set(T,function(U,N){for(var O=0,A=P.length,C=U;O<A-1;){var D=P[O];if(D==="__proto__"||D==="constructor"||D==="prototype")return U;C=C[P[O++]]}C[P[O]]=N})},getter:function(T,P){var F=m(T);return d.get(T)||d.set(T,function(N){for(var O=0,A=F.length;O<A;)if(N!=null||!P)N=N[F[O++]];else return;return N})},join:function(T){return T.reduce(function(P,F){return P+(v(F)||r.test(F)?"["+F+"]":(P?".":"")+F)},"")},forEach:function(T,P,F){_(Array.isArray(T)?T:g(T),P,F)}};function m(T){return c.get(T)||c.set(T,g(T).map(function(P){return P.replace(o,"$2")}))}function g(T){return T.match(e)||[""]}function _(T,P,F){var U=T.length,N,O,A,C;for(O=0;O<U;O++)N=T[O],N&&(I(N)&&(N='"'+N+'"'),C=v(N),A=!C&&/^\d+$/.test(N),P.call(F,N,C,A,O,T))}function v(T){return typeof T=="string"&&T&&["'",'"'].indexOf(T.charAt(0))!==-1}function S(T){return T.match(i)&&!T.match(r)}function k(T){return s.test(T)}function I(T){return!v(T)&&(S(T)||k(T))}return Xm}var Yo=MD(),Jm,C1;function LD(){if(C1)return Jm;C1=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=m=>m.match(n)||[],r=m=>m[0].toUpperCase()+m.slice(1),i=(m,g)=>e(m).join(g).toLowerCase(),s=m=>e(m).reduce((g,_)=>`${g}${g?_[0].toUpperCase()+_.slice(1).toLowerCase():_.toLowerCase()}`,"");return Jm={words:e,upperFirst:r,camelCase:s,pascalCase:m=>r(s(m)),snakeCase:m=>i(m,"_"),kebabCase:m=>i(m,"-"),sentenceCase:m=>r(i(m," ")),titleCase:m=>e(m).map(r).join(" ")},Jm}var Zm=LD(),yh={exports:{}},A1;function FD(){if(A1)return yh.exports;A1=1,yh.exports=function(s){return n(e(s),s)},yh.exports.array=n;function n(s,o){var l=s.length,c=new Array(l),f={},d=l,m=r(o),g=i(s);for(o.forEach(function(v){if(!g.has(v[0])||!g.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)f[d]||_(s[d],d,new Set);return c;function _(v,S,k){if(k.has(v)){var I;try{I=", node was:"+JSON.stringify(v)}catch{I=""}throw new Error("Cyclic dependency"+I)}if(!g.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!f[S]){f[S]=!0;var T=m.get(v)||new Set;if(T=Array.from(T),S=T.length){k.add(v);do{var P=T[--S];_(P,g.get(P),k)}while(S);k.delete(v)}c[--l]=v}}}function e(s){for(var o=new Set,l=0,c=s.length;l<c;l++){var f=s[l];o.add(f[0]),o.add(f[1])}return Array.from(o)}function r(s){for(var o=new Map,l=0,c=s.length;l<c;l++){var f=s[l];o.has(f[0])||o.set(f[0],new Set),o.has(f[1])||o.set(f[1],new Set),o.get(f[0]).add(f[1])}return o}function i(s){for(var o=new Map,l=0,c=s.length;l<c;l++)o.set(s[l],l);return o}return yh.exports}var VD=FD();const zD=aa(VD),$D=Object.prototype.toString,UD=Error.prototype.toString,jD=RegExp.prototype.toString,BD=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",HD=/^Symbol\((.*)\)(.*)$/;function qD(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function R1(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const r=typeof n;if(r==="number")return qD(n);if(r==="string")return e?`"${n}"`:n;if(r==="function")return"[Function "+(n.name||"anonymous")+"]";if(r==="symbol")return BD.call(n).replace(HD,"Symbol($1)");const i=$D.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+UD.call(n)+"]":i==="RegExp"?jD.call(n):null}function eo(n,e){let r=R1(n,e);return r!==null?r:JSON.stringify(n,function(i,s){let o=R1(this[i],e);return o!==null?o:s},2)}function DS(n){return n==null?[]:[].concat(n)}let MS,LS,FS,WD=/\$\{\s*(\w+)\s*\}/g;MS=Symbol.toStringTag;class P1{constructor(e,r,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[MS]="Error",this.name="ValidationError",this.value=r,this.path=i,this.type=s,this.errors=[],this.inner=[],DS(e).forEach(o=>{if(jn.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}LS=Symbol.hasInstance;FS=Symbol.toStringTag;class jn extends Error{static formatError(e,r){const i=r.label||r.path||"this";return r=Object.assign({},r,{path:i,originalPath:r.path}),typeof e=="string"?e.replace(WD,(s,o)=>eo(r[o])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,i,s,o){const l=new P1(e,r,i,s);if(o)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[FS]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,jn)}static[LS](e){return P1[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let gi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:r,originalValue:i})=>{const s=i!=null&&i!==r?` (cast from the value \`${eo(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${eo(r,!0)}\``+s:`${n} must match the configured type. The validated value was: \`${eo(r,!0)}\``+s}},zn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},GD={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},qg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},KD={isValue:"${path} field must be ${value}"},Vh={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},QD={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},YD={notType:n=>{const{path:e,value:r,spec:i}=n,s=i.types.length;if(Array.isArray(r)){if(r.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${eo(r,!0)}\``;if(r.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${eo(r,!0)}\``}return jn.formatError(gi.notType,n)}};Object.assign(Object.create(null),{mixed:gi,string:zn,number:GD,date:qg,object:Vh,array:QD,boolean:KD,tuple:YD});const h_=n=>n&&n.__isYupSchema__;class nd{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:o}=r,l=typeof i=="function"?i:(...c)=>c.every(f=>f===i);return new nd(e,(c,f)=>{var d;let m=l(...c)?s:o;return(d=m==null?void 0:m(f))!=null?d:f})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let i=this.refs.map(o=>o.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(i,e,r);if(s===void 0||s===e)return e;if(!h_(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const _h={context:"$",value:"."};class ha{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===_h.context,this.isValue=this.key[0]===_h.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?_h.context:this.isValue?_h.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Yo.getter(this.path,!0),this.map=r.map}getValue(e,r,i){let s=this.isContext?i:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ha.prototype.__isYupRef=!0;const Go=n=>n==null;function rl(n){function e({value:r,path:i="",options:s,originalValue:o,schema:l},c,f){const{name:d,test:m,params:g,message:_,skipAbsent:v}=n;let{parent:S,context:k,abortEarly:I=l.spec.abortEarly,disableStackTrace:T=l.spec.disableStackTrace}=s;function P(L){return ha.isRef(L)?L.getValue(r,S,k):L}function F(L={}){const j=Object.assign({value:r,originalValue:o,label:l.spec.label,path:L.path||i,spec:l.spec,disableStackTrace:L.disableStackTrace||T},g,L.params);for(const q of Object.keys(j))j[q]=P(j[q]);const M=new jn(jn.formatError(L.message||_,j),r,j.path,L.type||d,j.disableStackTrace);return M.params=j,M}const U=I?c:f;let N={path:i,parent:S,type:d,from:s.from,createError:F,resolve:P,options:s,originalValue:o,schema:l};const O=L=>{jn.isError(L)?U(L):L?f(null):U(F())},A=L=>{jn.isError(L)?U(L):c(L)};if(v&&Go(r))return O(!0);let D;try{var $;if(D=m.call(N,r,N),typeof(($=D)==null?void 0:$.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(O,A)}}catch(L){A(L);return}O(D)}return e.OPTIONS=n,e}function XD(n,e,r,i=r){let s,o,l;return e?(Yo.forEach(e,(c,f,d)=>{let m=f?c.slice(1,c.length-1):c;n=n.resolve({context:i,parent:s,value:r});let g=n.type==="tuple",_=d?parseInt(m,10):0;if(n.innerType||g){if(g&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(r&&_>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[_],n=g?n.spec.types[_]:n.innerType}if(!d){if(!n.fields||!n.fields[m])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${l} which is a type: "${n.type}")`);s=r,r=r&&r[m],n=n.fields[m]}o=m,l=f?"["+c+"]":"."+c}),{schema:n,parent:s,parentPath:o}):{parent:s,parentPath:e,schema:n}}class rd extends Set{describe(){const e=[];for(const r of this.values())e.push(ha.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const i of this.values())r.push(e(i));return r}clone(){return new rd(this.values())}merge(e,r){const i=this.clone();return e.forEach(s=>i.add(s)),r.forEach(s=>i.delete(s)),i}}function fl(n,e=new Map){if(h_(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let r;if(n instanceof Date)r=new Date(n.getTime()),e.set(n,r);else if(n instanceof RegExp)r=new RegExp(n),e.set(n,r);else if(Array.isArray(n)){r=new Array(n.length),e.set(n,r);for(let i=0;i<n.length;i++)r[i]=fl(n[i],e)}else if(n instanceof Map){r=new Map,e.set(n,r);for(const[i,s]of n.entries())r.set(i,fl(s,e))}else if(n instanceof Set){r=new Set,e.set(n,r);for(const i of n)r.add(fl(i,e))}else if(n instanceof Object){r={},e.set(n,r);for(const[i,s]of Object.entries(n))r[i]=fl(s,e)}else throw Error(`Unable to clone ${n}`);return r}let ki=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new rd,this._blacklist=new rd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(gi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=fl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=r,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,i=e.clone();const s=Object.assign({},r.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},r.internalTests,i.internalTests),i._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),i.tests=r.tests,i.exclusiveTests=r.exclusiveTests,i.withMutation(o=>{e.tests.forEach(l=>{o.test(l.OPTIONS)})}),i.transforms=[...r.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let i=r.conditions;r=r.clone(),r.conditions=[],r=i.reduce((s,o)=>o.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,i,s,o;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,r={}){let i=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",o=i._cast(e,r);if(r.assert!==!1&&!i.isType(o)){if(s&&Go(o))return o;let l=eo(e),c=eo(o);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${l} 
`+(c!==l?`result of cast: ${c}`:""))}return o}_cast(e,r){let i=e===void 0?e:this.transforms.reduce((s,o)=>o.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(r)),i}_validate(e,r={},i,s){let{path:o,originalValue:l=e,strict:c=this.spec.strict}=r,f=e;c||(f=this._cast(f,Object.assign({assert:!1},r)));let d=[];for(let m of Object.values(this.internalTests))m&&d.push(m);this.runTests({path:o,value:f,originalValue:l,options:r,tests:d},i,m=>{if(m.length)return s(m,f);this.runTests({path:o,value:f,originalValue:l,options:r,tests:this.tests},i,s)})}runTests(e,r,i){let s=!1,{tests:o,value:l,originalValue:c,path:f,options:d}=e,m=k=>{s||(s=!0,r(k,l))},g=k=>{s||(s=!0,i(k,l))},_=o.length,v=[];if(!_)return g([]);let S={value:l,originalValue:c,path:f,options:d,schema:this};for(let k=0;k<o.length;k++){const I=o[k];I(S,m,function(P){P&&(Array.isArray(P)?v.push(...P):v.push(P)),--_<=0&&g(v)})}}asNestedTest({key:e,index:r,parent:i,parentPath:s,originalParent:o,options:l}){const c=e??r;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const f=typeof c=="number";let d=i[c];const m=Object.assign({},l,{strict:!0,parent:i,value:d,originalValue:o[c],key:void 0,[f?"index":"key"]:c,path:f||c.includes(".")?`${s||""}[${f?c:`"${c}"`}]`:(s?`${s}.`:"")+e});return(g,_,v)=>this.resolve(m)._validate(d,m,_,v)}validate(e,r){var i;let s=this.resolve(Object.assign({},r,{value:e})),o=(i=r==null?void 0:r.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((l,c)=>s._validate(e,r,(f,d)=>{jn.isError(f)&&(f.value=d),c(f)},(f,d)=>{f.length?c(new jn(f,d,void 0,void 0,o)):l(d)}))}validateSync(e,r){var i;let s=this.resolve(Object.assign({},r,{value:e})),o,l=(i=r==null?void 0:r.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},r,{sync:!0}),(c,f)=>{throw jn.isError(c)&&(c.value=f),c},(c,f)=>{if(c.length)throw new jn(c,e,void 0,void 0,l);o=f}),o}isValid(e,r){return this.validate(e,r).then(()=>!0,i=>{if(jn.isError(i))return!1;throw i})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(i){if(jn.isError(i))return!1;throw i}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):fl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const i=this.clone({nullable:e});return i.internalTests.nullable=rl({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,r){const i=this.clone({optional:e});return i.internalTests.optionality=rl({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=gi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=gi.notNull){return this.nullability(!1,e)}required(e=gi.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=gi.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=rl(r),o=r.exclusive||r.name&&i.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(i.exclusiveTests[r.name]=!!r.exclusive),i.tests=i.tests.filter(l=>!(l.OPTIONS.name===r.name&&(o||l.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let i=this.clone(),s=DS(e).map(o=>new ha(o));return s.forEach(o=>{o.isSibling&&i.deps.push(o.key)}),i.conditions.push(typeof r=="function"?new nd(s,r):nd.fromOptions(s,r)),i}typeError(e){let r=this.clone();return r.internalTests.typeError=rl({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=gi.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=rl({message:r,name:"oneOf",skipAbsent:!0,test(s){let o=this.schema._whitelist,l=o.resolveAll(this.resolve);return l.includes(s)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:l}})}}),i}notOneOf(e,r=gi.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=rl({message:r,name:"notOneOf",test(s){let o=this.schema._blacklist,l=o.resolveAll(this.resolve);return l.includes(s)?this.createError({params:{values:Array.from(o).join(", "),resolved:l}}):!0}}),i}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:o,nullable:l}=r.spec;return{meta:s,label:i,optional:o,nullable:l,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(f=>({name:f.OPTIONS.name,params:f.OPTIONS.params})).filter((f,d,m)=>m.findIndex(g=>g.name===f.name)===d)}}};ki.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])ki.prototype[`${n}At`]=function(e,r,i={}){const{parent:s,parentPath:o,schema:l}=XD(this,e,r,i.context);return l[n](s&&s[o],Object.assign({},i,{parent:s,path:e}))};for(const n of["equals","is"])ki.prototype[n]=ki.prototype.oneOf;for(const n of["not","nope"])ki.prototype[n]=ki.prototype.notOneOf;const JD=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ZD(n){const e=Wg(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function Wg(n){var e,r;const i=JD.exec(n);return i?{year:Gi(i[1]),month:Gi(i[2],1)-1,day:Gi(i[3],1),hour:Gi(i[4]),minute:Gi(i[5]),second:Gi(i[6]),millisecond:i[7]?Gi(i[7].substring(0,3)):0,precision:(e=(r=i[7])==null?void 0:r.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Gi(i[10]),minuteOffset:Gi(i[11])}:null}function Gi(n,e=0){return Number(n)||e}let eM=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tM=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,nM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,rM="^\\d{4}-\\d{2}-\\d{2}",iM="\\d{2}:\\d{2}:\\d{2}",sM="(([+-]\\d{2}(:?\\d{2})?)|Z)",oM=new RegExp(`${rM}T${iM}(\\.\\d+)?${sM}$`),aM=n=>Go(n)||n===n.trim(),lM={}.toString();function Gg(){return new VS}class VS extends ki{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===lM?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||gi.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=zn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,r=zn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,r=zn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,r){let i=!1,s,o;return r&&(typeof r=="object"?{excludeEmptyString:i=!1,message:s,name:o}=r:s=r),this.test({name:o||"matches",message:s||zn.matches,params:{regex:e},skipAbsent:!0,test:l=>l===""&&i||l.search(e)!==-1})}email(e=zn.email){return this.matches(eM,{name:"email",message:e,excludeEmptyString:!0})}url(e=zn.url){return this.matches(tM,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zn.uuid){return this.matches(nM,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",i,s;return e&&(typeof e=="object"?{message:r="",allowOffset:i=!1,precision:s=void 0}=e:r=e),this.matches(oM,{name:"datetime",message:r||zn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||zn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:o=>{if(!o||i)return!0;const l=Wg(o);return l?!!l.z:!1}}).test({name:"datetime_precision",message:r||zn.datetime_precision,params:{precision:s},skipAbsent:!0,test:o=>{if(!o||s==null)return!0;const l=Wg(o);return l?l.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:aM})}lowercase(e=zn.lowercase){return this.transform(r=>Go(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Go(r)||r===r.toLowerCase()})}uppercase(e=zn.uppercase){return this.transform(r=>Go(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Go(r)||r===r.toUpperCase()})}}Gg.prototype=VS.prototype;let uM=new Date(""),cM=n=>Object.prototype.toString.call(n)==="[object Date]";class Vd extends ki{constructor(){super({type:"date",check(e){return cM(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=ZD(e),isNaN(e)?Vd.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let i;if(ha.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,r=qg.min){let i=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,r=qg.max){let i=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}Vd.INVALID_DATE=uM;Vd.prototype;function fM(n,e=[]){let r=[],i=new Set,s=new Set(e.map(([l,c])=>`${l}-${c}`));function o(l,c){let f=Yo.split(l)[0];i.add(f),s.has(`${c}-${f}`)||r.push([c,f])}for(const l of Object.keys(n)){let c=n[l];i.add(l),ha.isRef(c)&&c.isSibling?o(c.path,l):h_(c)&&"deps"in c&&c.deps.forEach(f=>o(f,l))}return zD.array(Array.from(i),r).reverse()}function O1(n,e){let r=1/0;return n.some((i,s)=>{var o;if((o=e.path)!=null&&o.includes(i))return r=s,!0}),r}function zS(n){return(e,r)=>O1(n,e)-O1(n,r)}const hM=(n,e,r)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return r.isType(i)?i:n};function zh(n){if("fields"in n){const e={};for(const[r,i]of Object.entries(n.fields))e[r]=zh(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=zh(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(zh)}):"optional"in n?n.optional():n}const dM=(n,e)=>{const r=[...Yo.normalizePath(e)];if(r.length===1)return r[0]in n;let i=r.pop(),s=Yo.getter(Yo.join(r),!0)(n);return!!(s&&i in s)};let N1=n=>Object.prototype.toString.call(n)==="[object Object]";function D1(n,e){let r=Object.keys(n.fields);return Object.keys(e).filter(i=>r.indexOf(i)===-1)}const pM=zS([]);function $S(n){return new US(n)}class US extends ki{constructor(e){super({type:"object",check(r){return N1(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=pM,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var i;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let o=this.fields,l=(i=r.stripUnknown)!=null?i:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(s).filter(g=>!this._nodes.includes(g))),f={},d=Object.assign({},r,{parent:f,__validating:r.__validating||!1}),m=!1;for(const g of c){let _=o[g],v=g in s;if(_){let S,k=s[g];d.path=(r.path?`${r.path}.`:"")+g,_=_.resolve({value:k,context:r.context,parent:f});let I=_ instanceof ki?_.spec:void 0,T=I==null?void 0:I.strict;if(I!=null&&I.strip){m=m||g in s;continue}S=!r.__validating||!T?_.cast(s[g],d):s[g],S!==void 0&&(f[g]=S)}else v&&!l&&(f[g]=s[g]);(v!==g in f||f[g]!==s[g])&&(m=!0)}return m?f:s}_validate(e,r={},i,s){let{from:o=[],originalValue:l=e,recursive:c=this.spec.recursive}=r;r.from=[{schema:this,value:l},...o],r.__validating=!0,r.originalValue=l,super._validate(e,r,i,(f,d)=>{if(!c||!N1(d)){s(f,d);return}l=l||d;let m=[];for(let g of this._nodes){let _=this.fields[g];!_||ha.isRef(_)||m.push(_.asNestedTest({options:r,key:g,parent:d,parentPath:r.path,originalParent:l}))}this.runTests({tests:m,value:d,originalValue:l,options:r},i,g=>{s(g.sort(this._sortErrors).concat(f),d)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),i=r.fields;for(let[s,o]of Object.entries(this.fields)){const l=i[s];i[s]=l===void 0?o:l}return r.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(i=>{var s;const o=this.fields[i];let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r[i]=o&&"getDefault"in o?o.getDefault(l):void 0}),r}setFields(e,r){let i=this.clone();return i.fields=e,i._nodes=fM(e,r),i._sortErrors=zS(Object.keys(e)),r&&(i._excludedEdges=r),i}shape(e,r=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...i._excludedEdges,...r]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[r,i]of Object.entries(this.fields))e[r]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return zh(this)}pick(e){const r={};for(const i of e)this.fields[i]&&(r[i]=this.fields[i]);return this.setFields(r,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const r=[];for(const i of Object.keys(this.fields))e.includes(i)||r.push(i);return this.pick(r)}from(e,r,i){let s=Yo.getter(e,!0);return this.transform(o=>{if(!o)return o;let l=o;return dM(o,e)&&(l=Object.assign({},o),i||delete l[e],l[r]=s(o)),l})}json(){return this.transform(hM)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Vh.exact,test(r){if(r==null)return!0;const i=D1(this.schema,r);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Vh.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const o=D1(this.schema,s);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,r=Vh.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const i={};for(const s of Object.keys(r))i[e(s)]=r[s];return i})}camelCase(){return this.transformKeys(Zm.camelCase)}snakeCase(){return this.transformKeys(Zm.snakeCase)}constantCase(){return this.transformKeys(e=>Zm.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[o,l]of Object.entries(r.fields)){var s;let c=e;(s=c)!=null&&s.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[o]})),i.fields[o]=l.describe(c)}return i}}$S.prototype=US.prototype;var M1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(n){const e=[];let r=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},mM=function(n){const e=[];let r=0,i=0;for(;r<n.length;){const s=n[r++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[r++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[r++],l=n[r++],c=n[r++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[r++],l=n[r++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,v=d&63;f||(v=64,l||(_=64)),i.push(r[m],r[g],r[_],r[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=r[n.charAt(s++)],c=s<n.length?r[n.charAt(s)]:0;++s;const d=s<n.length?r[n.charAt(s)]:64;++s;const g=s<n.length?r[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||g==null)throw new gM;const _=o<<2|c>>4;if(i.push(_),d!==64){const v=c<<4&240|d>>2;if(i.push(v),g!==64){const S=d<<6&192|g;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yM=function(n){const e=jS(n);return BS.encodeByteArray(e,!0)},id=function(n){return yM(n).replace(/\./g,"")},HS=function(n){try{return BS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=()=>_M().__FIREBASE_DEFAULTS__,wM=()=>{if(typeof process>"u"||typeof M1>"u")return;const n=M1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HS(n[1]);return e&&JSON.parse(e)},zd=()=>{try{return vM()||wM()||EM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qS=n=>{var e,r;return(r=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},xM=n=>{const e=qS(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},WS=()=>{var n;return(n=zd())===null||n===void 0?void 0:n.config},GS=n=>{var e;return(e=zd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[id(JSON.stringify(r)),id(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function kM(){var n;const e=(n=zd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PM(){return!kM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OM(){try{return typeof indexedDB=="object"}catch{return!1}}function NM(){return new Promise((n,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="FirebaseError";class gs extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=DM,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?MM(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new gs(s,c,i)}}function MM(n,e){return n.replace(LM,(r,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const LM=/\{\$([^}]+)}/g;function FM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sd(n,e){if(n===e)return!0;const r=Object.keys(n),i=Object.keys(e);for(const s of r){if(!i.includes(s))return!1;const o=n[s],l=e[s];if(L1(o)&&L1(l)){if(!sd(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!r.includes(s))return!1;return!0}function L1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){const e=[];for(const[r,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Gu(n){const e=n.indexOf("?");if(!e)return"";const r=n.indexOf("#",e);return n.substring(e,r>0?r:void 0)}function VM(n,e){const r=new zM(n,e);return r.subscribe.bind(r)}class zM{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,i){let s;if(e===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");$M(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:i},s.next===void 0&&(s.next=eg),s.error===void 0&&(s.error=eg),s.complete===void 0&&(s.complete=eg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $M(n,e){if(typeof n!="object"||n===null)return!1;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n){return n&&n._delegate?n._delegate:n}class ra{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new TM;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BM(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,r){var i;const s=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const s of i)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jM(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jM(n){return n===qo?void 0:n}function BM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new UM(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const qM={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},WM=Xe.INFO,GM={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},KM=(n,e,...r)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=GM[e];if(s)console[s](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=WM,this._logHandler=KM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const QM=(n,e)=>e.some(r=>n instanceof r);let F1,V1;function YM(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XM(){return V1||(V1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,Kg=new WeakMap,QS=new WeakMap,tg=new WeakMap,p_=new WeakMap;function JM(n){const e=new Promise((r,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{r(to(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&KS.set(r,n)}).catch(()=>{}),p_.set(e,n),e}function ZM(n){if(Kg.has(n))return;const e=new Promise((r,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{r(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Kg.set(n,e)}let Qg={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return Kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QS.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return to(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eL(n){Qg=n(Qg)}function tL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=n.call(ng(this),e,...r);return QS.set(i,e.sort?e.sort():[e]),to(i)}:XM().includes(n)?function(...e){return n.apply(ng(this),e),to(KS.get(this))}:function(...e){return to(n.apply(ng(this),e))}}function nL(n){return typeof n=="function"?tL(n):(n instanceof IDBTransaction&&ZM(n),QM(n,YM())?new Proxy(n,Qg):n)}function to(n){if(n instanceof IDBRequest)return JM(n);if(tg.has(n))return tg.get(n);const e=nL(n);return e!==n&&(tg.set(n,e),p_.set(e,n)),e}const ng=n=>p_.get(n);function rL(n,e,{blocked:r,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=to(l);return i&&l.addEventListener("upgradeneeded",f=>{i(to(l.result),f.oldVersion,f.newVersion,to(l.transaction),f)}),r&&l.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const iL=["get","getKey","getAll","getAllKeys","count"],sL=["put","add","delete","clear"],rg=new Map;function z1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=sL.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(s||iL.includes(r)))return;const o=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),s&&f.done]))[0]};return rg.set(e,o),o}eL(n=>({...n,get:(e,r,i)=>z1(e,r)||n.get(e,r,i),has:(e,r)=>!!z1(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(aL(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function aL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yg="@firebase/app",$1="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new d_("@firebase/app"),lL="@firebase/app-compat",uL="@firebase/analytics-compat",cL="@firebase/analytics",fL="@firebase/app-check-compat",hL="@firebase/app-check",dL="@firebase/auth",pL="@firebase/auth-compat",mL="@firebase/database",gL="@firebase/data-connect",yL="@firebase/database-compat",_L="@firebase/functions",vL="@firebase/functions-compat",wL="@firebase/installations",EL="@firebase/installations-compat",xL="@firebase/messaging",TL="@firebase/messaging-compat",SL="@firebase/performance",bL="@firebase/performance-compat",kL="@firebase/remote-config",IL="@firebase/remote-config-compat",CL="@firebase/storage",AL="@firebase/storage-compat",RL="@firebase/firestore",PL="@firebase/vertexai",OL="@firebase/firestore-compat",NL="firebase",DL="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",ML={[Yg]:"fire-core",[lL]:"fire-core-compat",[cL]:"fire-analytics",[uL]:"fire-analytics-compat",[hL]:"fire-app-check",[fL]:"fire-app-check-compat",[dL]:"fire-auth",[pL]:"fire-auth-compat",[mL]:"fire-rtdb",[gL]:"fire-data-connect",[yL]:"fire-rtdb-compat",[_L]:"fire-fn",[vL]:"fire-fn-compat",[wL]:"fire-iid",[EL]:"fire-iid-compat",[xL]:"fire-fcm",[TL]:"fire-fcm-compat",[SL]:"fire-perf",[bL]:"fire-perf-compat",[kL]:"fire-rc",[IL]:"fire-rc-compat",[CL]:"fire-gcs",[AL]:"fire-gcs-compat",[RL]:"fire-fst",[OL]:"fire-fst-compat",[PL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map,LL=new Map,Jg=new Map;function U1(n,e){try{n.container.addComponent(e)}catch(r){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function Sl(n){const e=n.name;if(Jg.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(const r of od.values())U1(r,n);for(const r of LL.values())U1(r,n);return!0}function m_(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function es(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Fc("app","Firebase",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=DL;function YS(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw no.create("bad-app-name",{appName:String(s)});if(r||(r=WS()),!r)throw no.create("no-options");const o=od.get(s);if(o){if(sd(r,o.options)&&sd(i,o.config))return o;throw no.create("duplicate-app",{appName:s})}const l=new HM(s);for(const f of Jg.values())l.addComponent(f);const c=new VL(r,i,l);return od.set(s,c),c}function XS(n=Xg){const e=od.get(n);if(!e&&n===Xg&&WS())return YS();if(!e)throw no.create("no-app",{appName:n});return e}function ro(n,e,r){var i;let s=(i=ML[n])!==null&&i!==void 0?i:n;r&&(s+=`-${r}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}Sl(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebase-heartbeat-database",$L=1,_c="firebase-heartbeat-store";let ig=null;function JS(){return ig||(ig=rL(zL,$L,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_c)}catch(r){console.warn(r)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),ig}async function UL(n){try{const r=(await JS()).transaction(_c),i=await r.objectStore(_c).get(ZS(n));return await r.done,i}catch(e){if(e instanceof gs)fs.warn(e.message);else{const r=no.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(r.message)}}}async function j1(n,e){try{const i=(await JS()).transaction(_c,"readwrite");await i.objectStore(_c).put(e,ZS(n)),await i.done}catch(r){if(r instanceof gs)fs.warn(r.message);else{const i=no.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fs.warn(i.message)}}}function ZS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,BL=30*24*60*60*1e3;class HL{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new WL(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=B1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=BL}),this._storage.overwrite(this._heartbeatsCache))}catch(i){fs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=B1(),{heartbeatsToSend:i,unsentEntries:s}=qL(this._heartbeatsCache.heartbeats),o=id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return fs.warn(r),""}}}function B1(){return new Date().toISOString().substring(0,10)}function qL(n,e=jL){const r=[];let i=n.slice();for(const s of n){const o=r.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),H1(r)>e){o.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),H1(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class WL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OM()?NM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await UL(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H1(n){return id(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){Sl(new ra("platform-logger",e=>new oL(e),"PRIVATE")),Sl(new ra("heartbeat",e=>new HL(e),"PRIVATE")),ro(Yg,$1,n),ro(Yg,$1,"esm2017"),ro("fire-js","")}GL("");var KL="firebase",QL="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(KL,QL,"app");var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,eb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function D(){}D.prototype=C.prototype,A.D=C.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function($,L,j){for(var M=Array(arguments.length-2),q=2;q<arguments.length;q++)M[q-2]=arguments[q];return C.prototype[L].apply($,M)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,C,D){D||(D=0);var $=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)$[L]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(L=0;16>L;++L)$[L]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=A.g[0],D=A.g[1],L=A.g[2];var j=A.g[3],M=C+(j^D&(L^j))+$[0]+3614090360&4294967295;C=D+(M<<7&4294967295|M>>>25),M=j+(L^C&(D^L))+$[1]+3905402710&4294967295,j=C+(M<<12&4294967295|M>>>20),M=L+(D^j&(C^D))+$[2]+606105819&4294967295,L=j+(M<<17&4294967295|M>>>15),M=D+(C^L&(j^C))+$[3]+3250441966&4294967295,D=L+(M<<22&4294967295|M>>>10),M=C+(j^D&(L^j))+$[4]+4118548399&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(L^C&(D^L))+$[5]+1200080426&4294967295,j=C+(M<<12&4294967295|M>>>20),M=L+(D^j&(C^D))+$[6]+2821735955&4294967295,L=j+(M<<17&4294967295|M>>>15),M=D+(C^L&(j^C))+$[7]+4249261313&4294967295,D=L+(M<<22&4294967295|M>>>10),M=C+(j^D&(L^j))+$[8]+1770035416&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(L^C&(D^L))+$[9]+2336552879&4294967295,j=C+(M<<12&4294967295|M>>>20),M=L+(D^j&(C^D))+$[10]+4294925233&4294967295,L=j+(M<<17&4294967295|M>>>15),M=D+(C^L&(j^C))+$[11]+2304563134&4294967295,D=L+(M<<22&4294967295|M>>>10),M=C+(j^D&(L^j))+$[12]+1804603682&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(L^C&(D^L))+$[13]+4254626195&4294967295,j=C+(M<<12&4294967295|M>>>20),M=L+(D^j&(C^D))+$[14]+2792965006&4294967295,L=j+(M<<17&4294967295|M>>>15),M=D+(C^L&(j^C))+$[15]+1236535329&4294967295,D=L+(M<<22&4294967295|M>>>10),M=C+(L^j&(D^L))+$[1]+4129170786&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^L&(C^D))+$[6]+3225465664&4294967295,j=C+(M<<9&4294967295|M>>>23),M=L+(C^D&(j^C))+$[11]+643717713&4294967295,L=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(L^j))+$[0]+3921069994&4294967295,D=L+(M<<20&4294967295|M>>>12),M=C+(L^j&(D^L))+$[5]+3593408605&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^L&(C^D))+$[10]+38016083&4294967295,j=C+(M<<9&4294967295|M>>>23),M=L+(C^D&(j^C))+$[15]+3634488961&4294967295,L=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(L^j))+$[4]+3889429448&4294967295,D=L+(M<<20&4294967295|M>>>12),M=C+(L^j&(D^L))+$[9]+568446438&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^L&(C^D))+$[14]+3275163606&4294967295,j=C+(M<<9&4294967295|M>>>23),M=L+(C^D&(j^C))+$[3]+4107603335&4294967295,L=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(L^j))+$[8]+1163531501&4294967295,D=L+(M<<20&4294967295|M>>>12),M=C+(L^j&(D^L))+$[13]+2850285829&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^L&(C^D))+$[2]+4243563512&4294967295,j=C+(M<<9&4294967295|M>>>23),M=L+(C^D&(j^C))+$[7]+1735328473&4294967295,L=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(L^j))+$[12]+2368359562&4294967295,D=L+(M<<20&4294967295|M>>>12),M=C+(D^L^j)+$[5]+4294588738&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^L)+$[8]+2272392833&4294967295,j=C+(M<<11&4294967295|M>>>21),M=L+(j^C^D)+$[11]+1839030562&4294967295,L=j+(M<<16&4294967295|M>>>16),M=D+(L^j^C)+$[14]+4259657740&4294967295,D=L+(M<<23&4294967295|M>>>9),M=C+(D^L^j)+$[1]+2763975236&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^L)+$[4]+1272893353&4294967295,j=C+(M<<11&4294967295|M>>>21),M=L+(j^C^D)+$[7]+4139469664&4294967295,L=j+(M<<16&4294967295|M>>>16),M=D+(L^j^C)+$[10]+3200236656&4294967295,D=L+(M<<23&4294967295|M>>>9),M=C+(D^L^j)+$[13]+681279174&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^L)+$[0]+3936430074&4294967295,j=C+(M<<11&4294967295|M>>>21),M=L+(j^C^D)+$[3]+3572445317&4294967295,L=j+(M<<16&4294967295|M>>>16),M=D+(L^j^C)+$[6]+76029189&4294967295,D=L+(M<<23&4294967295|M>>>9),M=C+(D^L^j)+$[9]+3654602809&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^L)+$[12]+3873151461&4294967295,j=C+(M<<11&4294967295|M>>>21),M=L+(j^C^D)+$[15]+530742520&4294967295,L=j+(M<<16&4294967295|M>>>16),M=D+(L^j^C)+$[2]+3299628645&4294967295,D=L+(M<<23&4294967295|M>>>9),M=C+(L^(D|~j))+$[0]+4096336452&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~L))+$[7]+1126891415&4294967295,j=C+(M<<10&4294967295|M>>>22),M=L+(C^(j|~D))+$[14]+2878612391&4294967295,L=j+(M<<15&4294967295|M>>>17),M=D+(j^(L|~C))+$[5]+4237533241&4294967295,D=L+(M<<21&4294967295|M>>>11),M=C+(L^(D|~j))+$[12]+1700485571&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~L))+$[3]+2399980690&4294967295,j=C+(M<<10&4294967295|M>>>22),M=L+(C^(j|~D))+$[10]+4293915773&4294967295,L=j+(M<<15&4294967295|M>>>17),M=D+(j^(L|~C))+$[1]+2240044497&4294967295,D=L+(M<<21&4294967295|M>>>11),M=C+(L^(D|~j))+$[8]+1873313359&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~L))+$[15]+4264355552&4294967295,j=C+(M<<10&4294967295|M>>>22),M=L+(C^(j|~D))+$[6]+2734768916&4294967295,L=j+(M<<15&4294967295|M>>>17),M=D+(j^(L|~C))+$[13]+1309151649&4294967295,D=L+(M<<21&4294967295|M>>>11),M=C+(L^(D|~j))+$[4]+4149444226&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~L))+$[11]+3174756917&4294967295,j=C+(M<<10&4294967295|M>>>22),M=L+(C^(j|~D))+$[2]+718787259&4294967295,L=j+(M<<15&4294967295|M>>>17),M=D+(j^(L|~C))+$[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+j&4294967295}i.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var D=C-this.blockSize,$=this.B,L=this.h,j=0;j<C;){if(L==0)for(;j<=D;)s(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<C;)if($[L++]=A.charCodeAt(j++),L==this.blockSize){s(this,$),L=0;break}}else for(;j<C;)if($[L++]=A[j++],L==this.blockSize){s(this,$),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var D=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=D&255,D/=256;for(this.u(A),A=Array(16),C=D=0;4>C;++C)for(var $=0;32>$;$+=8)A[D++]=this.g[C]>>>$&255;return A};function o(A,C){var D=c;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=C(A)}function l(A,C){this.h=C;for(var D=[],$=!0,L=A.length-1;0<=L;L--){var j=A[L]|0;$&&j==C||(D[L]=j,$=!1)}this.g=D}var c={};function f(A){return-128<=A&&128>A?o(A,function(C){return new l([C|0],0>C?-1:0)}):new l([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return I(d(-A));for(var C=[],D=1,$=0;A>=D;$++)C[$]=A/D|0,D*=4294967296;return new l(C,0)}function m(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return I(m(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(C,8)),$=g,L=0;L<A.length;L+=8){var j=Math.min(8,A.length-L),M=parseInt(A.substring(L,L+j),C);8>j?(j=d(Math.pow(C,j)),$=$.j(j).add(d(M))):($=$.j(D),$=$.add(d(M)))}return $}var g=f(0),_=f(1),v=f(16777216);n=l.prototype,n.m=function(){if(k(this))return-I(this).m();for(var A=0,C=1,D=0;D<this.g.length;D++){var $=this.i(D);A+=(0<=$?$:4294967296+$)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(k(this))return"-"+I(this).toString(A);for(var C=d(Math.pow(A,6)),D=this,$="";;){var L=U(D,C).g;D=T(D,L.j(C));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=L,S(D))return j+$;for(;6>j.length;)j="0"+j;$=j+$}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function k(A){return A.h==-1}n.l=function(A){return A=T(this,A),k(A)?-1:S(A)?0:1};function I(A){for(var C=A.g.length,D=[],$=0;$<C;$++)D[$]=~A.g[$];return new l(D,~A.h).add(_)}n.abs=function(){return k(this)?I(this):this},n.add=function(A){for(var C=Math.max(this.g.length,A.g.length),D=[],$=0,L=0;L<=C;L++){var j=$+(this.i(L)&65535)+(A.i(L)&65535),M=(j>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);$=M>>>16,j&=65535,M&=65535,D[L]=M<<16|j}return new l(D,D[D.length-1]&-2147483648?-1:0)};function T(A,C){return A.add(I(C))}n.j=function(A){if(S(this)||S(A))return g;if(k(this))return k(A)?I(this).j(I(A)):I(I(this).j(A));if(k(A))return I(this.j(I(A)));if(0>this.l(v)&&0>A.l(v))return d(this.m()*A.m());for(var C=this.g.length+A.g.length,D=[],$=0;$<2*C;$++)D[$]=0;for($=0;$<this.g.length;$++)for(var L=0;L<A.g.length;L++){var j=this.i($)>>>16,M=this.i($)&65535,q=A.i(L)>>>16,ie=A.i(L)&65535;D[2*$+2*L]+=M*ie,P(D,2*$+2*L),D[2*$+2*L+1]+=j*ie,P(D,2*$+2*L+1),D[2*$+2*L+1]+=M*q,P(D,2*$+2*L+1),D[2*$+2*L+2]+=j*q,P(D,2*$+2*L+2)}for($=0;$<C;$++)D[$]=D[2*$+1]<<16|D[2*$];for($=C;$<2*C;$++)D[$]=0;return new l(D,0)};function P(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function F(A,C){this.g=A,this.h=C}function U(A,C){if(S(C))throw Error("division by zero");if(S(A))return new F(g,g);if(k(A))return C=U(I(A),C),new F(I(C.g),I(C.h));if(k(C))return C=U(A,I(C)),new F(I(C.g),C.h);if(30<A.g.length){if(k(A)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var D=_,$=C;0>=$.l(A);)D=N(D),$=N($);var L=O(D,1),j=O($,1);for($=O($,2),D=O(D,2);!S($);){var M=j.add($);0>=M.l(A)&&(L=L.add(D),j=M),$=O($,1),D=O(D,1)}return C=T(A,L.j(C)),new F(L,C)}for(L=g;0<=A.l(C);){for(D=Math.max(1,Math.floor(A.m()/C.m())),$=Math.ceil(Math.log(D)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),j=d(D),M=j.j(C);k(M)||0<M.l(A);)D-=$,j=d(D),M=j.j(C);S(j)&&(j=_),L=L.add(j),A=T(A,M)}return new F(L,A)}n.A=function(A){return U(this,A).h},n.and=function(A){for(var C=Math.max(this.g.length,A.g.length),D=[],$=0;$<C;$++)D[$]=this.i($)&A.i($);return new l(D,this.h&A.h)},n.or=function(A){for(var C=Math.max(this.g.length,A.g.length),D=[],$=0;$<C;$++)D[$]=this.i($)|A.i($);return new l(D,this.h|A.h)},n.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),D=[],$=0;$<C;$++)D[$]=this.i($)^A.i($);return new l(D,this.h^A.h)};function N(A){for(var C=A.g.length+1,D=[],$=0;$<C;$++)D[$]=A.i($)<<1|A.i($-1)>>>31;return new l(D,A.h)}function O(A,C){var D=C>>5;C%=32;for(var $=A.g.length-D,L=[],j=0;j<$;j++)L[j]=0<C?A.i(j+D)>>>C|A.i(j+D+1)<<32-C:A.i(j+D);return new l(L,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eb=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,io=l}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tb,Ku,nb,$h,Zg,rb,ib,sb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,b){return p==Array.prototype||p==Object.prototype||(p[E]=b.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var E=0;E<p.length;++E){var b=p[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=r(this);function s(p,E){if(E)e:{var b=i;p=p.split(".");for(var z=0;z<p.length-1;z++){var J=p[z];if(!(J in b))break e;b=b[J]}p=p[p.length-1],z=b[p],E=E(z),E!=z&&E!=null&&e(b,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var b=0,z=!1,J={next:function(){if(!z&&b<p.length){var ae=b++;return{value:E(ae,p[ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function m(p,E,b){return p.call.apply(p.bind,arguments)}function g(p,E,b){if(!p)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,z),p.apply(E,J)}}return function(){return p.apply(E,arguments)}}function _(p,E,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function v(p,E){var b=Array.prototype.slice.call(arguments,1);return function(){var z=b.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function S(p,E){function b(){}b.prototype=E.prototype,p.aa=E.prototype,p.prototype=new b,p.prototype.constructor=p,p.Qb=function(z,J,ae){for(var _e=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)_e[lt-2]=arguments[lt];return E.prototype[J].apply(z,_e)}}function k(p){const E=p.length;if(0<E){const b=Array(E);for(let z=0;z<E;z++)b[z]=p[z];return b}return[]}function I(p,E){for(let b=1;b<arguments.length;b++){const z=arguments[b];if(f(z)){const J=p.length||0,ae=z.length||0;p.length=J+ae;for(let _e=0;_e<ae;_e++)p[J+_e]=z[_e]}else p.push(z)}}class T{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function P(p){return/^[\s\xa0]*$/.test(p)}function F(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var N=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function O(p,E,b){for(const z in p)E.call(b,p[z],z,p)}function A(p,E){for(const b in p)E.call(void 0,p[b],b,p)}function C(p){const E={};for(const b in p)E[b]=p[b];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(p,E){let b,z;for(let J=1;J<arguments.length;J++){z=arguments[J];for(b in z)p[b]=z[b];for(let ae=0;ae<D.length;ae++)b=D[ae],Object.prototype.hasOwnProperty.call(z,b)&&(p[b]=z[b])}}function L(p){var E=1;p=p.split(":");const b=[];for(;0<E&&p.length;)b.push(p.shift()),E--;return p.length&&b.push(p.join(":")),b}function j(p){c.setTimeout(()=>{throw p},0)}function M(){var p=ue;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class q{constructor(){this.h=this.g=null}add(E,b){const z=ie.get();z.set(E,b),this.h?this.h.next=z:this.g=z,this.h=z}}var ie=new T(()=>new oe,p=>p.reset());class oe{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,se=!1,ue=new q,V=()=>{const p=c.Promise.resolve(void 0);ce=()=>{p.then(W)}};var W=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(b){j(b)}var E=ie;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}se=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const b=()=>{};c.addEventListener("test",b,E),c.removeEventListener("test",b,E)}catch{}return p}();function ke(p,E){if(B.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var b=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(N){e:{try{U(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else b=="mouseover"?E=p.fromElement:b=="mouseout"&&(E=p.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ie[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}S(ke,B);var Ie={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ke(p,E,b,z,J){this.listener=p,this.proxy=null,this.src=E,this.type=b,this.capture=!!z,this.ha=J,this.key=++Le,this.da=this.fa=!1}function ct(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Qt(p){this.src=p,this.g={},this.h=0}Qt.prototype.add=function(p,E,b,z,J){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var _e=Gn(p,E,z,J);return-1<_e?(E=p[_e],b||(E.fa=!1)):(E=new Ke(E,this.src,ae,!!z,J),E.fa=b,p.push(E)),E};function ei(p,E){var b=E.type;if(b in p.g){var z=p.g[b],J=Array.prototype.indexOf.call(z,E,void 0),ae;(ae=0<=J)&&Array.prototype.splice.call(z,J,1),ae&&(ct(E),p.g[b].length==0&&(delete p.g[b],p.h--))}}function Gn(p,E,b,z){for(var J=0;J<p.length;++J){var ae=p[J];if(!ae.da&&ae.listener==E&&ae.capture==!!b&&ae.ha==z)return J}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Ar={};function ti(p,E,b,z,J){if(Array.isArray(E)){for(var ae=0;ae<E.length;ae++)ti(p,E[ae],b,z,J);return null}return b=Oe(b),p&&p[Me]?p.K(E,b,d(z)?!!z.capture:!1,J):ni(p,E,b,!1,z,J)}function ni(p,E,b,z,J,ae){if(!E)throw Error("Invalid event type");var _e=d(J)?!!J.capture:!!J,lt=Ee(p);if(lt||(p[Cr]=lt=new Qt(p)),b=lt.add(E,b,z,_e,ae),b.proxy)return b;if(z=ys(),b.proxy=z,z.src=p,z.listener=b,p.addEventListener)ve||(J=_e),J===void 0&&(J=!1),p.addEventListener(E.toString(),z,J);else if(p.attachEvent)p.attachEvent(Qn(E.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ys(){function p(b){return E.call(p.src,p.listener,b)}const E=re;return p}function Kn(p,E,b,z,J){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)Kn(p,E[ae],b,z,J);else z=d(z)?!!z.capture:!!z,b=Oe(b),p&&p[Me]?(p=p.i,E=String(E).toString(),E in p.g&&(ae=p.g[E],b=Gn(ae,b,z,J),-1<b&&(ct(ae[b]),Array.prototype.splice.call(ae,b,1),ae.length==0&&(delete p.g[E],p.h--)))):p&&(p=Ee(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Gn(E,b,z,J)),(b=-1<p?E[p]:null)&&Rn(b))}function Rn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Me])ei(E.i,p);else{var b=p.type,z=p.proxy;E.removeEventListener?E.removeEventListener(b,z,p.capture):E.detachEvent?E.detachEvent(Qn(b),z):E.addListener&&E.removeListener&&E.removeListener(z),(b=Ee(E))?(ei(b,p),b.h==0&&(b.src=null,E[Cr]=null)):ct(p)}}}function Qn(p){return p in Ar?Ar[p]:Ar[p]="on"+p}function re(p,E){if(p.da)p=!0;else{E=new ke(E,this);var b=p.listener,z=p.ha||p.src;p.fa&&Rn(p),p=b.call(z,E)}return p}function Ee(p){return p=p[Cr],p instanceof Qt?p:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(p){return typeof p=="function"?p:(p[Ce]||(p[Ce]=function(E){return p.handleEvent(E)}),p[Ce])}function X(){ee.call(this),this.i=new Qt(this),this.M=this,this.F=null}S(X,ee),X.prototype[Me]=!0,X.prototype.removeEventListener=function(p,E,b,z){Kn(this,p,E,b,z)};function le(p,E){var b,z=p.F;if(z)for(b=[];z;z=z.F)b.push(z);if(p=p.M,z=E.type||E,typeof E=="string")E=new B(E,p);else if(E instanceof B)E.target=E.target||p;else{var J=E;E=new B(z,p),$(E,J)}if(J=!0,b)for(var ae=b.length-1;0<=ae;ae--){var _e=E.g=b[ae];J=Te(_e,z,!0,E)&&J}if(_e=E.g=p,J=Te(_e,z,!0,E)&&J,J=Te(_e,z,!1,E)&&J,b)for(ae=0;ae<b.length;ae++)_e=E.g=b[ae],J=Te(_e,z,!1,E)&&J}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var b=p.g[E],z=0;z<b.length;z++)ct(b[z]);delete p.g[E],p.h--}}this.F=null},X.prototype.K=function(p,E,b,z){return this.i.add(String(p),E,!1,b,z)},X.prototype.L=function(p,E,b,z){return this.i.add(String(p),E,!0,b,z)};function Te(p,E,b,z){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,ae=0;ae<E.length;++ae){var _e=E[ae];if(_e&&!_e.da&&_e.capture==b){var lt=_e.listener,Ht=_e.ha||_e.src;_e.fa&&ei(p.i,_e),J=lt.call(Ht,z)!==!1&&J}}return J&&!z.defaultPrevented}function ze(p,E,b){if(typeof p=="function")b&&(p=_(p,b));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function Qe(p){p.g=ze(()=>{p.g=null,p.i&&(p.i=!1,Qe(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class At extends ee{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(p){ee.call(this),this.h=p,this.g={}}S(nn,ee);var Yt=[];function Yn(p){O(p.g,function(E,b){this.g.hasOwnProperty(b)&&Rn(E)},p),p.g={}}nn.prototype.N=function(){nn.aa.N.call(this),Yn(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=c.JSON.stringify,Bt=c.JSON.parse,cr=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function rn(){}rn.prototype.h=null;function ga(p){return p.h||(p.h=p.i())}function ya(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){B.call(this,"d")}S(ri,B);function _a(){B.call(this,"c")}S(_a,B);var ii={},Gl=null;function vo(){return Gl=Gl||new X}ii.La="serverreachability";function Kl(p){B.call(this,ii.La,p)}S(Kl,B);function Ni(p){const E=vo();le(E,new Kl(E))}ii.STAT_EVENT="statevent";function Ql(p,E){B.call(this,ii.STAT_EVENT,p),this.stat=E}S(Ql,B);function Mt(p){const E=vo();le(E,new Ql(E,p))}ii.Ma="timingevent";function va(p,E){B.call(this,ii.Ma,p),this.size=E}S(va,B);function Pr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function Eo(p,E,b,z,J,ae){p.info(function(){if(p.g)if(ae)for(var _e="",lt=ae.split("&"),Ht=0;Ht<lt.length;Ht++){var Ze=lt[Ht].split("=");if(1<Ze.length){var Xt=Ze[0];Ze=Ze[1];var zt=Xt.split("_");_e=2<=zt.length&&zt[1]=="type"?_e+(Xt+"="+Ze+"&"):_e+(Xt+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+z+") [attempt "+J+"]: "+E+`
`+b+`
`+_e})}function wa(p,E,b,z,J,ae,_e){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+J+"]: "+E+`
`+b+`
`+ae+" "+_e})}function Or(p,E,b,z){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+cp(p,b)+(z?" "+z:"")})}function Yl(p,E){p.info(function(){return"TIMEOUT: "+E})}wo.prototype.info=function(){};function cp(p,E){if(!p.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(p=0;p<b.length;p++)if(Array.isArray(b[p])){var z=b[p];if(!(2>z.length)){var J=z[1];if(Array.isArray(J)&&!(1>J.length)){var ae=J[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<J.length;_e++)J[_e]=""}}}}return Rr(b)}catch{return E}}var Ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function xo(){}S(xo,rn),xo.prototype.g=function(){return new XMLHttpRequest},xo.prototype.i=function(){return{}},Nr=new xo;function Dr(p,E,b,z){this.j=p,this.i=E,this.l=b,this.R=z||1,this.U=new nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ef}function ef(){this.i=null,this.g="",this.h=!1}var Xl={},xa={};function Ta(p,E,b){p.L=1,p.v=xs(Jn(E)),p.m=b,p.P=!0,Jl(p,null)}function Jl(p,E){p.F=Date.now(),pt(p),p.A=Jn(p.v);var b=p.A,z=p.R;Array.isArray(z)||(z=[String(z)]),Ss(b.i,"t",z),p.C=0,b=p.j.J,p.h=new ef,p.g=vf(p.j,b?E:null,!p.m),0<p.O&&(p.M=new At(_(p.Y,p,p.g),p.O)),E=p.U,b=p.g,z=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(Yt[0]=J.toString()),J=Yt);for(var ae=0;ae<J.length;ae++){var _e=ti(b,J[ae],z||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ni(),Eo(p.i,p.u,p.A,p.l,p.R,p.m)}Dr.prototype.ca=function(p){p=p.target;const E=this.M;E&&On(p)==3?E.j():this.Y(p)},Dr.prototype.Y=function(p){try{if(p==this.g)e:{const zt=On(this.g);var E=this.g.Ba();const pr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||zt!=4||E==7||(E==8||0>=pr?Ni(3):Ni(2)),To(this);var b=this.g.Z();this.X=b;t:if(tf(this)){var z=iu(this.g);p="";var J=z.length,ae=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),_s(this);var _e="";break t}this.h.i=new c.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,p+=this.h.i.decode(z[E],{stream:!(ae&&E==J-1)});z.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=b==200,wa(this.i,this.u,this.A,this.l,this.R,zt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Ht=this.g;if((lt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(lt)){var Ze=lt;break t}}Ze=null}if(b=Ze)Or(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,b);else{this.o=!1,this.s=3,Mt(12),hr(this),_s(this);break e}}if(this.P){b=!0;let er;for(;!this.J&&this.C<_e.length;)if(er=fp(this,_e),er==xa){zt==4&&(this.s=4,Mt(14),b=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Xl){this.s=4,Mt(15),Or(this.i,this.l,_e,"[Invalid Chunk]"),b=!1;break}else Or(this.i,this.l,er,null),Zl(this,er);if(tf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||_e.length!=0||this.h.h||(this.s=1,Mt(16),b=!1),this.o=this.o&&b,!b)Or(this.i,this.l,_e,"[Invalid Chunked Response]"),hr(this),_s(this);else if(0<_e.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),ou(Xt),Xt.M=!0,Mt(11))}}else Or(this.i,this.l,_e,null),Zl(this,_e);zt==4&&hr(this),this.o&&!this.J&&(zt==4?Da(this.j,this):(this.o=!1,pt(this)))}else Aa(this.g),b==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),hr(this),_s(this)}}}catch{}finally{}};function tf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function fp(p,E){var b=p.C,z=E.indexOf(`
`,b);return z==-1?xa:(b=Number(E.substring(b,z)),isNaN(b)?Xl:(z+=1,z+b>E.length?xa:(E=E.slice(z,z+b),p.C=z+b,E)))}Dr.prototype.cancel=function(){this.J=!0,hr(this)};function pt(p){p.S=Date.now()+p.I,nf(p,p.I)}function nf(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Pr(_(p.ba,p),E)}function To(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Dr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Yl(this.i,this.A),this.L!=2&&(Ni(),Mt(17)),hr(this),this.s=2,_s(this)):nf(this,this.S-p)};function _s(p){p.j.G==0||p.J||Da(p.j,p)}function hr(p){To(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Yn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Zl(p,E){try{var b=p.j;if(b.G!=0&&(b.g==p||Tn(b.h,p))){if(!p.K&&Tn(b.h,p)&&b.G==3){try{var z=b.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var J=z;if(J[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<p.F)Na(b),zr(b);else break e;Oa(b),Mt(18)}}else b.za=J[1],0<b.za-b.T&&37500>J[2]&&b.F&&b.v==0&&!b.C&&(b.C=Pr(_(b.Za,b),6e3));if(1>=sf(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Vi(b,11)}else if((p.K||b.g==p)&&Na(b),!P(E))for(J=b.Da.g.parse(E),E=0;E<J.length;E++){let Ze=J[E];if(b.T=Ze[0],Ze=Ze[1],b.G==2)if(Ze[0]=="c"){b.K=Ze[1],b.ia=Ze[2];const Xt=Ze[3];Xt!=null&&(b.la=Xt,b.j.info("VER="+b.la));const zt=Ze[4];zt!=null&&(b.Aa=zt,b.j.info("SVER="+b.Aa));const pr=Ze[5];pr!=null&&typeof pr=="number"&&0<pr&&(z=1.5*pr,b.L=z,b.j.info("backChannelRequestTimeoutMs_="+z)),z=b;const er=p.g;if(er){const Ro=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var ae=z.h;ae.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(eu(ae,ae.h),ae.h=null))}if(z.D){const La=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(z.ya=La,ht(z.I,z.D,La))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-p.F,b.j.info("Handshake RTT: "+b.R+"ms")),z=b;var _e=p;if(z.qa=_f(z,z.J?z.ia:null,z.W),_e.K){of(z.h,_e);var lt=_e,Ht=z.L;Ht&&(lt.I=Ht),lt.B&&(To(lt),pt(lt)),z.g=_e}else Ao(z);0<b.i.length&&li(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Vi(b,7);else b.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Vi(b,7):on(b):Ze[0]!="noop"&&b.l&&b.l.ta(Ze),b.v=0)}}Ni(4)}catch{}}var rf=class{constructor(p,E){this.g=p,this.map=E}};function So(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function sf(p){return p.h?1:p.g?p.g.size:0}function Tn(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function eu(p,E){p.g?p.g.add(E):p.h=E}function of(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}So.prototype.cancel=function(){if(this.i=af(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function af(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const b of p.g.values())E=E.concat(b.D);return E}return k(p.i)}function Sa(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],b=p.length,z=0;z<b;z++)E.push(p[z]);return E}E=[],b=0;for(z in p)E[b++]=p[z];return E}function ba(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var b=0;b<p;b++)E.push(b);return E}E=[],b=0;for(const z in p)E[b++]=z;return E}}}function vs(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var b=ba(p),z=Sa(p),J=z.length,ae=0;ae<J;ae++)E.call(void 0,z[ae],b&&b[ae],p)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hp(p,E){if(p){p=p.split("&");for(var b=0;b<p.length;b++){var z=p[b].indexOf("="),J=null;if(0<=z){var ae=p[b].substring(0,z);J=p[b].substring(z+1)}else ae=p[b];E(ae,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Di(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Di){this.h=p.h,ko(this,p.j),this.o=p.o,this.g=p.g,ws(this,p.s),this.l=p.l;var E=p.i,b=new si;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Es(this,b),this.m=p.m}else p&&(E=String(p).match(bo))?(this.h=!1,ko(this,E[1]||"",!0),this.o=Je(E[2]||""),this.g=Je(E[3]||"",!0),ws(this,E[4]),this.l=Je(E[5]||"",!0),Es(this,E[6]||"",!0),this.m=Je(E[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Di.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Ts(E,ka,!0),":");var b=this.g;return(b||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ts(E,ka,!0),"@"),p.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&p.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&p.push("/"),p.push(Ts(b,b.charAt(0)=="/"?cf:uf,!0))),(b=this.i.toString())&&p.push("?",b),(b=this.m)&&p.push("#",Ts(b,tu)),p.join("")};function Jn(p){return new Di(p)}function ko(p,E,b){p.j=b?Je(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ws(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Es(p,E,b){E instanceof si?(p.i=E,oi(p.i,p.h)):(b||(E=Ts(E,ff)),p.i=new si(E,p.h))}function ht(p,E,b){p.i.set(E,b)}function xs(p){return ht(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Je(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ts(p,E,b){return typeof p=="string"?(p=encodeURI(p).replace(E,lf),b&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function lf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ka=/[#\/\?@]/g,uf=/[#\?:]/g,cf=/[#\?]/g,ff=/[#\?@]/g,tu=/#/g;function si(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function sn(p){p.g||(p.g=new Map,p.h=0,p.i&&hp(p.i,function(E,b){p.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=si.prototype,n.add=function(p,E){sn(this),this.i=null,p=dr(this,p);var b=this.g.get(p);return b||this.g.set(p,b=[]),b.push(E),this.h+=1,this};function Mr(p,E){sn(p),E=dr(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Lr(p,E){return sn(p),E=dr(p,E),p.g.has(E)}n.forEach=function(p,E){sn(this),this.g.forEach(function(b,z){b.forEach(function(J){p.call(E,J,z,this)},this)},this)},n.na=function(){sn(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let z=0;z<E.length;z++){const J=p[z];for(let ae=0;ae<J.length;ae++)b.push(E[z])}return b},n.V=function(p){sn(this);let E=[];if(typeof p=="string")Lr(this,p)&&(E=E.concat(this.g.get(dr(this,p))));else{p=Array.from(this.g.values());for(let b=0;b<p.length;b++)E=E.concat(p[b])}return E},n.set=function(p,E){return sn(this),this.i=null,p=dr(this,p),Lr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Ss(p,E,b){Mr(p,E),0<b.length&&(p.i=null,p.g.set(dr(p,E),k(b)),p.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var z=E[b];const ae=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var J=ae;_e[z]!==""&&(J+="="+encodeURIComponent(String(_e[z]))),p.push(J)}}return this.i=p.join("&")};function dr(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function oi(p,E){E&&!p.j&&(sn(p),p.i=null,p.g.forEach(function(b,z){var J=z.toLowerCase();z!=J&&(Mr(this,z),Ss(this,J,b))},p)),p.j=E}function dp(p,E){const b=new wo;if(c.Image){const z=new Image;z.onload=v(Pn,b,"TestLoadImage: loaded",!0,E,z),z.onerror=v(Pn,b,"TestLoadImage: error",!1,E,z),z.onabort=v(Pn,b,"TestLoadImage: abort",!1,E,z),z.ontimeout=v(Pn,b,"TestLoadImage: timeout",!1,E,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else E(!1)}function hf(p,E){const b=new wo,z=new AbortController,J=setTimeout(()=>{z.abort(),Pn(b,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:z.signal}).then(ae=>{clearTimeout(J),ae.ok?Pn(b,"TestPingServer: ok",!0,E):Pn(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),Pn(b,"TestPingServer: error",!1,E)})}function Pn(p,E,b,z,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),z(b)}catch{}}function pp(){this.g=new cr}function df(p,E,b){const z=b||"";try{vs(p,function(J,ae){let _e=J;d(J)&&(_e=Rr(J)),E.push(z+ae+"="+encodeURIComponent(_e))})}catch(J){throw E.push(z+"type="+encodeURIComponent("_badmap")),J}}function Mi(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Mi,rn),Mi.prototype.g=function(){return new Io(this.l,this.j)},Mi.prototype.i=function(p){return function(){return p}}({});function Io(p,E){X.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Io,X),n=Io.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Vr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pf(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function pf(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Fr(this):Vr(this),this.readyState==3&&pf(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Fr(this))},n.Qa=function(p){this.g&&(this.response=p,Fr(this))},n.ga=function(){this.g&&Fr(this)};function Fr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Vr(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,p.push(b[0]+": "+b[1]),b=E.next();return p.join(`\r
`)};function Vr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Li(p){let E="";return O(p,function(b,z){E+=z,E+=":",E+=b,E+=`\r
`}),E}function bs(p,E,b){e:{for(z in b){var z=!1;break e}z=!0}z||(b=Li(b),typeof p=="string"?b!=null&&encodeURIComponent(String(b)):ht(p,E,b))}function Tt(p){X.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Tt,X);var mp=/^https?$/i,nu=["POST","PUT"];n=Tt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,b,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?ga(this.o):ga(Nr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){Co(this,ae);return}if(p=b||"",b=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var J in z)b.set(J,z[J]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ae of z.keys())b.set(ae,z.get(ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(b.keys()).find(ae=>ae.toLowerCase()=="content-type"),J=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nu,E,void 0))||z||J||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of b)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){Co(this,ae)}};function Co(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Ia(p),Zn(p)}function Ia(p){p.A||(p.A=!0,le(p,"complete"),le(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,le(this,"complete"),le(this,"abort"),Zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},n.bb=function(){ru(this)};function ru(p){if(p.h&&typeof l<"u"&&(!p.v[1]||On(p)!=4||p.Z()!=2)){if(p.u&&On(p)==4)ze(p.Ea,0,p);else if(le(p,"readystatechange"),On(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var z;if(z=_e===0){var J=String(p.D).match(bo)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),z=!mp.test(J?J.toLowerCase():"")}b=z}if(b)le(p,"complete"),le(p,"success");else{p.m=6;try{var ae=2<On(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",Ia(p)}}finally{Zn(p)}}}}function Zn(p,E){if(p.g){Ca(p);const b=p.g,z=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||le(p,"ready");try{b.onreadystatechange=z}catch{}}}function Ca(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function On(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Bt(E)}};function iu(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Aa(p){const E={};p=(p.g&&2<=On(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(P(p[z]))continue;var b=L(p[z]);const J=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ae=E[J]||[];E[J]=ae,ae.push(b)}A(E,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(p,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[p]||E}function su(p){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,p),this.cb=ai("retryDelaySeedMs",1e4,p),this.Wa=ai("forwardChannelMaxRetries",2,p),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new So(p&&p.concurrentRequestLimit),this.Da=new pp,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=su.prototype,n.la=8,n.G=1,n.connect=function(p,E,b,z){Mt(0),this.W=p,this.H=E||{},b&&z!==void 0&&(this.H.OSID=b,this.H.OAID=z),this.F=this.X,this.I=_f(this,null,this.W),li(this)};function on(p){if(Ra(p),p.G==3){var E=p.U++,b=Jn(p.I);if(ht(b,"SID",p.K),ht(b,"RID",E),ht(b,"TYPE","terminate"),Fi(p,b),E=new Dr(p,p.j,E),E.L=2,E.v=xs(Jn(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=E.v,b=!0),b||(E.g=vf(E.j,null),E.g.ea(E.v)),E.F=Date.now(),pt(E)}yf(p)}function zr(p){p.g&&(ou(p),p.g.cancel(),p.g=null)}function Ra(p){zr(p),p.u&&(c.clearTimeout(p.u),p.u=null),Na(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function li(p){if(!Xn(p.h)&&!p.s){p.s=!0;var E=p.Ga;ce||V(),se||(ce(),se=!0),ue.add(E,p),p.B=0}}function gp(p,E){return sf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Pr(_(p.Ga,p,E),gf(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const J=new Dr(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=C(ae),$(ae,this.S)):ae=this.S),this.m!==null||this.O||(J.H=ae,ae=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var z=this.i[b];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=ks(this,J,E),b=Jn(this.I),ht(b,"RID",p),ht(b,"CVER",22),this.D&&ht(b,"X-HTTP-Session-Id",this.D),Fi(this,b),ae&&(this.O?E="headers="+encodeURIComponent(String(Li(ae)))+"&"+E:this.m&&bs(b,this.m,ae)),eu(this.h,J),this.Ua&&ht(b,"TYPE","init"),this.P?(ht(b,"$req",E),ht(b,"SID","null"),J.T=!0,Ta(J,b,null)):Ta(J,b,E),this.G=2}}else this.G==3&&(p?Pa(this,p):this.i.length==0||Xn(this.h)||Pa(this))};function Pa(p,E){var b;E?b=E.l:b=p.U++;const z=Jn(p.I);ht(z,"SID",p.K),ht(z,"RID",b),ht(z,"AID",p.T),Fi(p,z),p.m&&p.o&&bs(z,p.m,p.o),b=new Dr(p,p.j,b,p.B+1),p.m===null&&(b.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ks(p,b,1e3),b.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),eu(p.h,b),Ta(b,z,E)}function Fi(p,E){p.H&&O(p.H,function(b,z){ht(E,z,b)}),p.l&&vs({},function(b,z){ht(E,z,b)})}function ks(p,E,b){b=Math.min(p.i.length,b);var z=p.l?_(p.l.Na,p.l,p):null;e:{var J=p.i;let ae=-1;for(;;){const _e=["count="+b];ae==-1?0<b?(ae=J[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let lt=!0;for(let Ht=0;Ht<b;Ht++){let Ze=J[Ht].g;const Xt=J[Ht].map;if(Ze-=ae,0>Ze)ae=Math.max(0,J[Ht].g-100),lt=!1;else try{df(Xt,_e,"req"+Ze+"_")}catch{z&&z(Xt)}}if(lt){z=_e.join("&");break e}}}return p=p.i.splice(0,b),E.D=p,z}function Ao(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ce||V(),se||(ce(),se=!0),ue.add(E,p),p.v=0}}function Oa(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Pr(_(p.Fa,p),gf(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,mf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Pr(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),zr(this),mf(this))};function ou(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function mf(p){p.g=new Dr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Jn(p.qa);ht(E,"RID","rpc"),ht(E,"SID",p.K),ht(E,"AID",p.T),ht(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ht(E,"TO",p.ja),ht(E,"TYPE","xmlhttp"),Fi(p,E),p.m&&p.o&&bs(E,p.m,p.o),p.L&&(p.g.I=p.L);var b=p.g;p=p.ia,b.L=1,b.v=xs(Jn(E)),b.m=null,b.P=!0,Jl(b,p)}n.Za=function(){this.C!=null&&(this.C=null,zr(this),Oa(this),Mt(19))};function Na(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Da(p,E){var b=null;if(p.g==E){Na(p),ou(p),p.g=null;var z=2}else if(Tn(p.h,E))b=E.D,of(p.h,E),z=1;else return;if(p.G!=0){if(E.o)if(z==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var J=p.B;z=vo(),le(z,new va(z,b)),li(p)}else Ao(p);else if(J=E.s,J==3||J==0&&0<E.X||!(z==1&&gp(p,E)||z==2&&Oa(p)))switch(b&&0<b.length&&(E=p.h,E.i=E.i.concat(b)),J){case 1:Vi(p,5);break;case 4:Vi(p,10);break;case 3:Vi(p,6);break;default:Vi(p,2)}}}function gf(p,E){let b=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(b*=2),b*E}function Vi(p,E){if(p.j.info("Error code "+E),E==2){var b=_(p.fb,p),z=p.Xa;const J=!z;z=new Di(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ko(z,"https"),xs(z),J?dp(z.toString(),b):hf(z.toString(),b)}else Mt(2);p.G=0,p.l&&p.l.sa(E),yf(p),Ra(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function yf(p){if(p.G=0,p.ka=[],p.l){const E=af(p.h);(E.length!=0||p.i.length!=0)&&(I(p.ka,E),I(p.ka,p.i),p.h.i.length=0,k(p.i),p.i.length=0),p.l.ra()}}function _f(p,E,b){var z=b instanceof Di?Jn(b):new Di(b);if(z.g!="")E&&(z.g=E+"."+z.g),ws(z,z.s);else{var J=c.location;z=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var ae=new Di(null);z&&ko(ae,z),E&&(ae.g=E),J&&ws(ae,J),b&&(ae.l=b),z=ae}return b=p.D,E=p.ya,b&&E&&ht(z,b,E),ht(z,"VER",p.la),Fi(p,z),z}function vf(p,E,b){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new Tt(new Mi({eb:b})):new Tt(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}n=au.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ma(){}Ma.prototype.g=function(p,E){return new Sn(p,E)};function Sn(p,E){X.call(this),this.g=new su(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!P(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!P(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ui(this)}S(Sn,X),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){on(this.g)},Sn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var b={};b.__data__=p,p=b}else this.u&&(b={},b.__data__=Rr(p),p=b);E.i.push(new rf(E.Ya++,p)),E.G==3&&li(E)},Sn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Sn.aa.N.call(this)};function wf(p){ri.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const b in E){p=b;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}S(wf,ri);function Ef(){_a.call(this),this.status=1}S(Ef,_a);function ui(p){this.g=p}S(ui,au),ui.prototype.ua=function(){le(this.g,"a")},ui.prototype.ta=function(p){le(this.g,new wf(p))},ui.prototype.sa=function(p){le(this.g,new Ef)},ui.prototype.ra=function(){le(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,sb=function(){return new Ma},ib=function(){return vo()},rb=ii,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,$h=Ea,Zc.COMPLETE="complete",nb=Zc,ya.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",X.prototype.listen=X.prototype.K,Ku=ya,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,tb=Tt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const W1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new d_("@firebase/firestore");function al(){return ia.logLevel}function Se(n,...e){if(ia.logLevel<=Xe.DEBUG){const r=e.map(g_);ia.debug(`Firestore (${$l}): ${n}`,...r)}}function hs(n,...e){if(ia.logLevel<=Xe.ERROR){const r=e.map(g_);ia.error(`Firestore (${$l}): ${n}`,...r)}}function bl(n,...e){if(ia.logLevel<=Xe.WARN){const r=e.map(g_);ia.warn(`Firestore (${$l}): ${n}`,...r)}}function g_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+n;throw hs(e),new Error(e)}function Ot(n,e){n||Ge()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends gs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(vn.UNAUTHENTICATED))}shutdown(){}}class XL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class JL{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ot(this.o===void 0);let i=this.i;const s=f=>this.i!==i?(i=this.i,r(f)):Promise.resolve();let o=new Xo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xo,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xo)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot(typeof i.accessToken=="string"),new ob(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string"),new vn(e)}}class ZL{constructor(e,r,i){this.l=e,this.h=r,this.P=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eF{constructor(e,r,i){this.l=e,this.h=r,this.P=i}getToken(){return Promise.resolve(new ZL(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ot(this.o===void 0);const i=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ot(typeof r.token=="string"),this.R=r.token,new tF(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=rF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<r&&(i+=e.charAt(s[o]%e.length))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function kl(n,e,r){return n.length===e.length&&n.every((i,s)=>r(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new Hn(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Hn(0,0))}static max(){return new qe(new Hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,r,i){r===void 0?r=0:r>e.length&&Ge(),i===void 0?i=e.length-r:i>e.length-r&&Ge(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let s=0;s<i;s++){const o=yi.compareSegments(e.get(s),r.get(s));if(o!==0)return o}return Math.sign(e.length-r.length)}static compareSegments(e,r){const i=yi.isNumericId(e),s=yi.isNumericId(r);return i&&!s?-1:!i&&s?1:i&&s?yi.extractNumericId(e).compare(yi.extractNumericId(r)):e<r?-1:e>r?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class Dt extends yi{construct(e,r,i){return new Dt(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(s=>s.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const iF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends yi{construct(e,r,i){return new In(e,r,i)}static isValidIdentifier(e){return iF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new In(["__name__"])}static fromServerFormat(e){const r=[];let i="",s=0;const o=()=>{if(i.length===0)throw new $e(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new $e(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new $e(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new $e(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(r)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Dt.fromString(e))}static fromName(e){return new Ue(Dt.fromString(e).popFirst(5))}static empty(){return new Ue(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Dt(e.slice()))}}function sF(n,e){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(i===1e9?new Hn(r+1,0):new Hn(r,i));return new lo(s,Ue.empty(),e)}function oF(n){return new lo(n.readTime,n.key,-1)}class lo{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new lo(qe.min(),Ue.empty(),-1)}static max(){return new lo(qe.max(),Ue.empty(),-1)}}function aF(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Ue.comparator(n.documentKey,e.documentKey),r!==0?r:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==lF)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,i)=>{r(e)})}static reject(e){return new fe((r,i)=>{i(e)})}static waitFor(e){return new fe((r,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&r()},f=>i(f))}),l=!0,o===s&&r()})}static or(e){let r=fe.resolve(!1);for(const i of e)r=r.next(s=>s?fe.resolve(s):i());return r}static forEach(e,r){const i=[];return e.forEach((s,o)=>{i.push(r.call(this,s,o))}),this.waitFor(i)}static mapArray(e,r){return new fe((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;r(e[d]).next(m=>{l[d]=m,++c,c===o&&i(l)},m=>s(m))}})}static doWhile(e,r){return new fe((i,s)=>{const o=()=>{e()===!0?r().next(()=>{o()},s):i()};o()})}}function cF(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ud.oe=-1;function jd(n){return n==null}function ey(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=G1(e)),e=hF(n.get(r),e);return G1(e)}function hF(n,e){let r=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":r+="";break;case"":r+="";break;default:r+=o}}return r}function G1(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function zc(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function dF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,r){this.comparator=e,this.root=r||cn.EMPTY}insert(e,r){return new Vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,r,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?i(e.key,r):1,r&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,r,i,s,o){this.key=e,this.value=r,this.color=i??cn.RED,this.left=s??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,s,o){return new cn(e??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,r,i),null):o===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return cn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,r,i,s,o){return this}insert(e,r,i){return new cn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Q1(this.data.getIterator())}getIteratorFrom(e){return new Q1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Kt(this.comparator);return r.data=e,r}}class Q1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Js([])}unionWith(e){let r=new Kt(In.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Js(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lb("Invalid base64 string: "+o):o}}(e);return new fn(r)}static fromUint8Array(e){const r=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new fn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const pF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(Ot(!!n),typeof n=="string"){let e=0;const r=pF.exec(n);if(Ot(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function co(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Bd(n){const e=n.mapValue.fields.__previous_value__;return y_(e)?Bd(e):e}function vc(n){const e=uo(n.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,r,i,s,o,l,c,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}class wc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y_(n)?4:yF(n)?9007199254740991:gF(n)?10:11:Ge()}function Ii(n,e){if(n===e)return!0;const r=fo(n);if(r!==fo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vc(n).isEqual(vc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=uo(s.timestampValue),c=uo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return co(s.bytesValue).isEqual(co(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Ft(s.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ft(s.integerValue)===Ft(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Ft(s.doubleValue),c=Ft(o.doubleValue);return l===c?ey(l)===ey(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return kl(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(K1(l)!==K1(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ii(l[f],c[f])))return!1;return!0}(n,e);default:return Ge()}}function Ec(n,e){return(n.values||[]).find(r=>Ii(r,e))!==void 0}function Il(n,e){if(n===e)return 0;const r=fo(n),i=fo(e);if(r!==i)return tt(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Ft(o.integerValue||o.doubleValue),f=Ft(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Y1(n.timestampValue,e.timestampValue);case 4:return Y1(vc(n),vc(e));case 5:return tt(n.stringValue,e.stringValue);case 6:return function(o,l){const c=co(o),f=co(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=tt(c[d],f[d]);if(m!==0)return m}return tt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=tt(Ft(o.latitude),Ft(l.latitude));return c!==0?c:tt(Ft(o.longitude),Ft(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return X1(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,f,d,m;const g=o.fields||{},_=l.fields||{},v=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=(f=_.value)===null||f===void 0?void 0:f.arrayValue,k=tt(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:X1(v,S)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Eh.mapValue&&l===Eh.mapValue)return 0;if(o===Eh.mapValue)return 1;if(l===Eh.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let g=0;g<f.length&&g<m.length;++g){const _=tt(f[g],m[g]);if(_!==0)return _;const v=Il(c[f[g]],d[m[g]]);if(v!==0)return v}return tt(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Ge()}}function Y1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const r=uo(n),i=uo(e),s=tt(r.seconds,i.seconds);return s!==0?s:tt(r.nanos,i.nanos)}function X1(n,e){const r=n.values||[],i=e.values||[];for(let s=0;s<r.length&&s<i.length;++s){const o=Il(r[s],i[s]);if(o)return o}return tt(r.length,i.length)}function Cl(n){return ty(n)}function ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=uo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(r){return co(r).toBase64()}(n.bytesValue):"referenceValue"in n?function(r){return Ue.fromName(r).toString()}(n.referenceValue):"geoPointValue"in n?function(r){return`geo(${r.latitude},${r.longitude})`}(n.geoPointValue):"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ty(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${ty(r.fields[l])}`;return s+"}"}(n.mapValue):Ge()}function Uh(n){switch(fo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(n);return e?16+Uh(e):16;case 5:return 2*n.stringValue.length;case 6:return co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Uh(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return zc(i.fields,(o,l)=>{s+=o.length+Uh(l)}),s}(n.mapValue);default:throw Ge()}}function ny(n){return!!n&&"integerValue"in n}function __(n){return!!n&&"arrayValue"in n}function J1(n){return!!n&&"nullValue"in n}function Z1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sg(n){return!!n&&"mapValue"in n}function gF(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zc(n.mapValue.fields,(r,i)=>e.mapValue.fields[r]=rc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rc(n.arrayValue.values[r]);return e}return Object.assign({},n)}function yF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!sg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(r)}setAll(e){let r=In.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const f=this.getFieldsMap(r);this.applyChanges(f,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=rc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,s)}delete(e){const r=this.field(e.popLast());sg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=r.mapValue.fields[e.get(i)];sg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,i){zc(r,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new vi(rc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,r,i,s,o,l,c){this.key=e,this.documentType=r,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new wn(e,0,qe.min(),qe.min(),qe.min(),vi.empty(),0)}static newFoundDocument(e,r,i,s){return new wn(e,1,r,qe.min(),i,s,0)}static newNoDocument(e,r){return new wn(e,2,r,qe.min(),qe.min(),vi.empty(),0)}static newUnknownDocument(e,r){return new wn(e,3,r,qe.min(),qe.min(),vi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,r){this.position=e,this.inclusive=r}}function eE(n,e,r){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?i=Ue.comparator(Ue.fromName(l.referenceValue),r.key):i=Il(l,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function tE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!Ii(n.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,r="asc"){this.field=e,this.dir=r}}function _F(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{}class Gt extends ub{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new wF(e,r,i):r==="array-contains"?new TF(e,i):r==="in"?new SF(e,i):r==="not-in"?new bF(e,i):r==="array-contains-any"?new kF(e,i):new Gt(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new EF(e,i):new xF(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Il(r,this.value)):r!==null&&fo(this.value)===fo(r)&&this.matchesComparison(Il(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends ub{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Ci(e,r)}matches(e){return cb(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cb(n){return n.op==="and"}function fb(n){return vF(n)&&cb(n)}function vF(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function ry(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+Cl(n.value);if(fb(n))return n.filters.map(e=>ry(e)).join(",");{const e=n.filters.map(r=>ry(r)).join(",");return`${n.op}(${e})`}}function hb(n,e){return n instanceof Gt?function(i,s){return s instanceof Gt&&i.op===s.op&&i.field.isEqual(s.field)&&Ii(i.value,s.value)}(n,e):n instanceof Ci?function(i,s){return s instanceof Ci&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&hb(l,s.filters[c]),!0):!1}(n,e):void Ge()}function db(n){return n instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${Cl(r.value)}`}(n):n instanceof Ci?function(r){return r.op.toString()+" {"+r.getFilters().map(db).join(" ,")+"}"}(n):"Filter"}class wF extends Gt{constructor(e,r,i){super(e,r,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const r=Ue.comparator(e.key,this.key);return this.matchesComparison(r)}}class EF extends Gt{constructor(e,r){super(e,"in",r),this.keys=pb("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class xF extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=pb("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function pb(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class TF extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return __(r)&&Ec(r.arrayValue,this.value)}}class SF extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ec(this.value.arrayValue,r)}}class bF extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ec(this.value.arrayValue,r)}}class kF extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!__(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>Ec(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function nE(n,e=null,r=[],i=[],s=null,o=null,l=null){return new IF(n,e,r,i,s,o,l)}function v_(n){const e=nt(n);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>ry(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),jd(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Cl(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Cl(i)).join(",")),e.ue=r}return e.ue}function w_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!_F(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!hb(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tE(n.startAt,e.startAt)&&tE(n.endAt,e.endAt)}function iy(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,r=null,i=[],s=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CF(n,e,r,i,s,o,l,c){return new Hd(n,e,r,i,s,o,l,c)}function E_(n){return new Hd(n)}function rE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AF(n){return n.collectionGroup!==null}function ic(n){const e=nt(n);if(e.ce===null){e.ce=[];const r=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),r.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Kt(In.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ld(o,i))}),r.has(In.keyField().canonicalString())||e.ce.push(new ld(In.keyField(),i))}return e.ce}function xi(n){const e=nt(n);return e.le||(e.le=RF(e,ic(n))),e.le}function RF(n,e){if(n.limitType==="F")return nE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ld(s.field,o)});const r=n.endAt?new ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ad(n.startAt.position,n.startAt.inclusive):null;return nE(n.path,n.collectionGroup,e,n.filters,n.limit,r,i)}}function sy(n,e,r){return new Hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function qd(n,e){return w_(xi(n),xi(e))&&n.limitType===e.limitType}function mb(n){return`${v_(xi(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(s=>db(s)).join(", ")}]`),jd(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map(s=>Cl(s)).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map(s=>Cl(s)).join(",")),`Target(${i})`}(xi(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ue.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of ic(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,f){const d=eE(l,c,f);return l.inclusive?d<=0:d<0}(i.startAt,ic(i),s)||i.endAt&&!function(l,c,f){const d=eE(l,c,f);return l.inclusive?d>=0:d>0}(i.endAt,ic(i),s))}(n,e)}function PF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gb(n){return(e,r)=>{let i=!1;for(const s of ic(n)){const o=OF(s,e,r);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function OF(n,e,r){const i=n.field.isKeyField()?Ue.comparator(e.key,r.key):function(o,l,c){const f=l.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Il(f,d):Ge()}(n.field,e,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[r]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zc(this.inner,(r,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return dF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new Vt(Ue.comparator);function ho(){return NF}const yb=new Vt(Ue.comparator);function Qu(...n){let e=yb;for(const r of n)e=e.insert(r.key,r);return e}function DF(n){let e=yb;return n.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function Ko(){return sc()}function _b(){return sc()}function sc(){return new da(n=>n.toString(),(n,e)=>n.isEqual(e))}const MF=new Kt(Ue.comparator);function it(...n){let e=MF;for(const r of n)e=e.add(r);return e}const LF=new Kt(tt);function FF(){return LF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ey(e)?"-0":e}}function zF(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function $F(n,e,r){return n instanceof oy?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&y_(o)&&(o=Bd(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(r,e):n instanceof ud?vb(n,e):n instanceof cd?wb(n,e):function(s,o){const l=jF(s,o),c=iE(l)+iE(s.Pe);return ny(l)&&ny(s.Pe)?zF(c):VF(s.serializer,c)}(n,e)}function UF(n,e,r){return n instanceof ud?vb(n,e):n instanceof cd?wb(n,e):r}function jF(n,e){return n instanceof ay?function(i){return ny(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class oy extends Gd{}class ud extends Gd{constructor(e){super(),this.elements=e}}function vb(n,e){const r=Eb(e);for(const i of n.elements)r.some(s=>Ii(s,i))||r.push(i);return{arrayValue:{values:r}}}class cd extends Gd{constructor(e){super(),this.elements=e}}function wb(n,e){let r=Eb(e);for(const i of n.elements)r=r.filter(s=>!Ii(s,i));return{arrayValue:{values:r}}}class ay extends Gd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function iE(n){return Ft(n.integerValue||n.doubleValue)}function Eb(n){return __(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function BF(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof ud&&s instanceof ud||i instanceof cd&&s instanceof cd?kl(i.elements,s.elements,Ii):i instanceof ay&&s instanceof ay?Ii(i.Pe,s.Pe):i instanceof oy&&s instanceof oy}(n.transform,e.transform)}class Jo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Jo}static exists(e){return new Jo(void 0,e)}static updateTime(e){return new Jo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class x_{}function xb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qF(n.key,Jo.none()):new T_(n.key,n.data,Jo.none());{const r=n.data,i=vi.empty();let s=new Kt(In.comparator);for(let o of e.fields)if(!s.has(o)){let l=r.field(o);l===null&&o.length>1&&(o=o.popLast(),l=r.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Kd(n.key,i,new Js(s.toArray()),Jo.none())}}function HF(n,e,r){n instanceof T_?function(s,o,l){const c=s.value.clone(),f=oE(s.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,r):n instanceof Kd?function(s,o,l){if(!jh(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=oE(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(Tb(s)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,r):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function oc(n,e,r,i){return n instanceof T_?function(o,l,c,f){if(!jh(o.precondition,l))return c;const d=o.value.clone(),m=aE(o.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,r,i):n instanceof Kd?function(o,l,c,f){if(!jh(o.precondition,l))return c;const d=aE(o.fieldTransforms,f,l),m=l.data;return m.setAll(Tb(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,r,i):function(o,l,c){return jh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,r)}function sE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&kl(i,s,(o,l)=>BF(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class T_ extends x_{constructor(e,r,i,s=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Kd extends x_{constructor(e,r,i,s,o=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(n){const e=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=n.data.field(r);e.set(r,i)}}),e}function oE(n,e,r){const i=new Map;Ot(n.length===r.length);for(let s=0;s<r.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,UF(l,c,r[s]))}return i}function aE(n,e,r){const i=new Map;for(const s of n){const o=s.transform,l=r.data.field(s.field);i.set(s.field,$F(o,l,e))}return i}class qF extends x_{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,r,i,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&HF(o,e,i[s])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=oc(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=oc(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=_b();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=r.has(s.key)?null:c;const f=xb(l,c);f!==null&&i.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),it())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(r,i)=>sE(r,i))&&kl(this.baseMutations,e.baseMutations,(r,i)=>sE(r,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,et;function Sb(n){if(n===void 0)return hs("GRPC error has no .code"),we.UNKNOWN;switch(n){case Ut.OK:return we.OK;case Ut.CANCELLED:return we.CANCELLED;case Ut.UNKNOWN:return we.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return we.INTERNAL;case Ut.UNAVAILABLE:return we.UNAVAILABLE;case Ut.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ut.NOT_FOUND:return we.NOT_FOUND;case Ut.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ut.ABORTED:return we.ABORTED;case Ut.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ut.DATA_LOSS:return we.DATA_LOSS;default:return Ge()}}(et=Ut||(Ut={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new io([4294967295,4294967295],0);function lE(n){const e=QF().encode(n),r=new eb;return r.update(e),new Uint8Array(r.digest())}function uE(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new io([r,i],0),new io([s,o],0)]}class S_{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new Yu(`Invalid padding: ${r}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ie=io.fromNumber(this.Te)}de(e,r,i){let s=e.add(r.multiply(io.fromNumber(i)));return s.compare(YF)===1&&(s=new io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=lE(e),[i,s]=uE(r);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ee(l))return!1}return!0}static create(e,r,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new S_(o,s,r);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const r=lE(e),[i,s]=uE(r);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,r,i,s,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const s=new Map;return s.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new Qd(qe.min(),s,new Vt(tt),ho(),it())}}class $c{constructor(e,r,i,s,o){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new $c(i,r,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,r,i,s){this.Re=e,this.removedTargetIds=r,this.key=i,this.Ve=s}}class bb{constructor(e,r){this.targetId=e,this.me=r}}class kb{constructor(e,r,i=fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=s}}class cE{constructor(){this.fe=0,this.ge=fE(),this.pe=fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=it(),r=it(),i=it();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:Ge()}}),new $c(this.pe,this.ye,e,r,i)}Ce(){this.we=!1,this.ge=fE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XF{constructor(e){this.Be=e,this.Le=new Map,this.ke=ho(),this.qe=xh(),this.Qe=xh(),this.Ke=new Vt(tt)}$e(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(r,e.Ve):this.We(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.We(r,e.key,e.Ve)}Ge(e){this.forEachTarget(e,r=>{const i=this.ze(r);switch(e.state){case 0:this.je(r)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(r);break;case 3:this.je(r)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),i.De(e.resumeToken));break;default:Ge()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Le.forEach((i,s)=>{this.je(s)&&r(s)})}Je(e){const r=e.targetId,i=e.me.count,s=this.Ye(r);if(s){const o=s.target;if(iy(o))if(i===0){const l=new Ue(o.path);this.We(r,l,wn.newNoDocument(l,qe.min()))}else Ot(i===1);else{const l=this.Ze(r);if(l!==i){const c=this.Xe(e),f=c?this.et(c,e,l):1;if(f!==0){this.He(r);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,d)}}}}}Xe(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=r;let l,c;try{l=co(i).toUint8Array()}catch(f){if(f instanceof lb)return bl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new S_(l,s,o)}catch(f){return bl(f instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(e,r,i){return r.me.count===i-this.rt(e,r.targetId)?0:2}rt(e,r){const i=this.Be.getRemoteKeysForTarget(r);let s=0;return i.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(r,o,null),s++)}),s}it(e){const r=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&iy(c.target)){const f=new Ue(c.target.path);this.st(f).has(l)||this.ot(l,f)||this.We(l,f,wn.newNoDocument(f,e))}o.be&&(r.set(l,o.ve()),o.Ce())}});let i=it();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(f=>{const d=this.Ye(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const s=new Qd(e,r,this.Ke,this.ke,i);return this.ke=ho(),this.qe=xh(),this.Qe=xh(),this.Ke=new Vt(tt),s}Ue(e,r){if(!this.je(e))return;const i=this.ot(e,r.key)?2:0;this.ze(e).Fe(r.key,i),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(e))}We(e,r,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,r)?s.Fe(r,1):s.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(e)),this.Qe=this.Qe.insert(r,this._t(r).add(e)),i&&(this.ke=this.ke.insert(r,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let r=this.Le.get(e);return r||(r=new cE,this.Le.set(e,r)),r}_t(e){let r=this.Qe.get(e);return r||(r=new Kt(tt),this.Qe=this.Qe.insert(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Kt(tt),this.qe=this.qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||Se("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.Le.get(e);return r&&r.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new cE),this.Be.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}ot(e,r){return this.Be.getRemoteKeysForTarget(e).has(r)}}function xh(){return new Vt(Ue.comparator)}function fE(){return new Vt(Ue.comparator)}const JF={asc:"ASCENDING",desc:"DESCENDING"},ZF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4={and:"AND",or:"OR"};class t4{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ly(n,e){return n.useProto3Json||jd(e)?e:{value:e}}function n4(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pl(n){return Ot(!!n),qe.fromTimestamp(function(r){const i=uo(r);return new Hn(i.seconds,i.nanos)}(n))}function i4(n,e){return uy(n,e).canonicalString()}function uy(n,e){const r=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?r:r.child(e)}function Ib(n){const e=Dt.fromString(n);return Ot(Ob(e)),e}function og(n,e){const r=Ib(e);if(r.get(1)!==n.databaseId.projectId)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Ue(Ab(r))}function Cb(n,e){return i4(n.databaseId,e)}function s4(n){const e=Ib(n);return e.length===4?Dt.emptyPath():Ab(e)}function hE(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ab(n){return Ot(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function o4(n,e){let r;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(Ot(m===void 0||typeof m=="string"),fn.fromBase64String(m||"")):(Ot(m===void 0||m instanceof Buffer||m instanceof Uint8Array),fn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const m=d.code===void 0?we.UNKNOWN:Sb(d.code);return new $e(m,d.message||"")}(l);r=new kb(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=og(n,i.document.name),o=pl(i.document.updateTime),l=i.document.createTime?pl(i.document.createTime):qe.min(),c=new vi({mapValue:{fields:i.document.fields}}),f=wn.newFoundDocument(s,o,l,c),d=i.targetIds||[],m=i.removedTargetIds||[];r=new Bh(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=og(n,i.document),o=i.readTime?pl(i.readTime):qe.min(),l=wn.newNoDocument(s,o),c=i.removedTargetIds||[];r=new Bh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=og(n,i.document),o=i.removedTargetIds||[];r=new Bh([],o,s,null)}else{if(!("filter"in e))return Ge();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new KF(s,o),c=i.targetId;r=new bb(c,l)}}return r}function a4(n,e){return{documents:[Cb(n,e.path)]}}function l4(n,e){const r={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=Cb(n,s);const o=function(d){if(d.length!==0)return Pb(Ci.create(d,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:ul(_.field),direction:f4(_.dir)}}(m))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=ly(n,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ct:r,parent:s}}function u4(n){let e=s4(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let s=null;if(i>0){Ot(i===1);const m=r.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];r.where&&(o=function(g){const _=Rb(g);return _ instanceof Ci&&fb(_)?_.getFilters():[_]}(r.where));let l=[];r.orderBy&&(l=function(g){return g.map(_=>function(S){return new ld(cl(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(r.orderBy));let c=null;r.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,jd(_)?null:_}(r.limit));let f=null;r.startAt&&(f=function(g){const _=!!g.before,v=g.values||[];return new ad(v,_)}(r.startAt));let d=null;return r.endAt&&(d=function(g){const _=!g.before,v=g.values||[];return new ad(v,_)}(r.endAt)),CF(e,s,l,o,c,"F",f,d)}function c4(n,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Rb(n){return n.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=cl(r.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=cl(r.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cl(r.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cl(r.unaryFilter.field);return Gt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(n):n.fieldFilter!==void 0?function(r){return Gt.create(cl(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(r.fieldFilter.op),r.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(r){return Ci.create(r.compositeFilter.filters.map(i=>Rb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge()}}(r.compositeFilter.op))}(n):Ge()}function f4(n){return JF[n]}function h4(n){return ZF[n]}function d4(n){return e4[n]}function ul(n){return{fieldPath:n.canonicalString()}}function cl(n){return In.fromServerFormat(n.fieldPath)}function Pb(n){return n instanceof Gt?function(r){if(r.op==="=="){if(Z1(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NAN"}};if(J1(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Z1(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NOT_NAN"}};if(J1(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(r.field),op:h4(r.op),value:r.value}}}(n):n instanceof Ci?function(r){const i=r.getFilters().map(s=>Pb(s));return i.length===1?i[0]:{compositeFilter:{op:d4(r.op),filters:i}}}(n):Ge()}function Ob(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,r,i,s,o=qe.min(),l=qe.min(),c=fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.ht=e}}function m4(n){const e=u4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.ln=new y4}addToCollectionParentIndex(e,r){return this.ln.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.ln.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(lo.min())}updateCollectionGroup(e,r,i){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class y4{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r]||new Kt(Dt.comparator),o=!s.has(i);return this.index[r]=s.add(i),o}has(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Kt(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Al(0)}static Qn(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE([n,e],[r,i]){const s=tt(n,r);return s===0?tt(e,i):s}class _4{constructor(e){this.Gn=e,this.buffer=new Kt(pE),this.zn=0}jn(){return++this.zn}Hn(e){const r=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();pE(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class v4{constructor(e,r,i){this.garbageCollector=e,this.asyncQueue=r,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ul(r)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await $d(r)}await this.Yn(3e5)})}}class w4{constructor(e,r){this.Zn=e,this.params=r}calculateTargetCount(e,r){return this.Zn.Xn(e).next(i=>Math.floor(r/100*i))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(Ud.oe);const i=new _4(r);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,r,i){return this.Zn.removeTargets(e,r,i)}removeOrphanedDocuments(e,r){return this.Zn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(dE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.tr(e,r))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,r){let i,s,o,l,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(i=g,c=Date.now(),this.removeTargets(e,i,r))).next(g=>(o=g,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(d=Date.now(),al()<=Xe.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g})))}}function E4(n,e){return new w4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.changes=new da(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?fe.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,r,i,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(i!==null&&oc(i.mutation,s,Js.empty(),Hn.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,r,i=it()){const s=Ko();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,i).next(o=>{let l=Qu();return o.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const i=Ko();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,it()))}populateOverlays(e,r,i){const s=[];return i.forEach(o=>{r.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{r.set(l,c)})})}computeViews(e,r,i,s){let o=ho();const l=sc(),c=function(){return sc()}();return r.forEach((f,d)=>{const m=i.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof Kd)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),oc(m.mutation,d,m.mutation.getFieldMask(),Hn.now())):l.set(d.key,Js.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,m)=>l.set(d,m)),r.forEach((d,m)=>{var g;return c.set(d,new T4(m,(g=l.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,r){const i=sc();let s=new Vt((l,c)=>l-c),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const c of l)c.keys().forEach(f=>{const d=r.get(f);if(d===null)return;let m=i.get(f)||Js.empty();m=c.applyToLocalView(d,m),i.set(f,m);const g=(s.get(c.batchId)||it()).add(f);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,g=_b();m.forEach(_=>{if(!o.has(_)){const v=xb(r.get(_),i.get(_));v!==null&&g.set(_,v),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,g))}return fe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i,s){return function(l){return Ue.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):AF(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,s):this.getDocumentsMatchingCollectionQuery(e,r,i,s)}getNextDocuments(e,r,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,s-o.size):fe.resolve(Ko());let c=-1,f=o;return l.next(d=>fe.forEach(d,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{f=f.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,it())).next(m=>({batchId:c,changes:DF(m)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ue(r)).next(i=>{let s=Qu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,i,s){const o=r.collectionGroup;let l=Qu();return this.indexManager.getCollectionParents(e,o).next(c=>fe.forEach(c,f=>{const d=function(g,_){return new Hd(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(r,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,o,s))).next(l=>{o.forEach((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,wn.newInvalidDocument(m)))});let c=Qu();return l.forEach((f,d)=>{const m=o.get(f);m!==void 0&&oc(m.mutation,d,Js.empty(),Hn.now()),Wd(r,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,r){return fe.resolve(this.Tr.get(r))}saveBundleMetadata(e,r){return this.Tr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:pl(s.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Ir.get(r))}saveNamedQuery(e,r){return this.Ir.set(r.name,function(s){return{name:s.name,query:m4(s.bundledQuery),readTime:pl(s.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.overlays=new Vt(Ue.comparator),this.dr=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Ko();return fe.forEach(r,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((s,o)=>{this.Tt(e,r,o)}),fe.resolve()}removeOverlaysForBatchId(e,r,i){const s=this.dr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(i)),fe.resolve()}getOverlaysForCollection(e,r,i){const s=Ko(),o=r.length+1,l=new Ue(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,r,i,s){let o=new Vt((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=Ko(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Ko(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return fe.resolve(c)}Tt(e,r,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.dr.get(s.largestBatchId).delete(i.key);this.dr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new GF(r,i));let o=this.dr.get(r);o===void 0&&(o=it(),this.dr.set(r,o)),this.dr.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Er=new Kt(tn.Ar),this.Rr=new Kt(tn.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,r){const i=new tn(e,r);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.gr(new tn(e,r))}pr(e,r){e.forEach(i=>this.removeReference(i,r))}yr(e){const r=new Ue(new Dt([])),i=new tn(r,e),s=new tn(r,e+1),o=[];return this.Rr.forEachInRange([i,s],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const r=new Ue(new Dt([])),i=new tn(r,e),s=new tn(r,e+1);let o=it();return this.Rr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const r=new tn(e,0),i=this.Er.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,r){this.key=e,this.br=r}static Ar(e,r){return Ue.comparator(e.key,r.key)||tt(e.br,r.br)}static Vr(e,r){return tt(e.br,r.br)||Ue.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new Kt(tn.Ar)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,s){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WF(o,r,i,s);this.mutationQueue.push(l);for(const c of s)this.vr=this.vr.add(new tn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,r){return fe.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,s=this.Fr(i),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new tn(r,0),s=new tn(r,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([i,s],l=>{const c=this.Cr(l.br);o.push(c)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Kt(tt);return r.forEach(s=>{const o=new tn(s,0),l=new tn(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{i=i.add(c.br)})}),fe.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,s=i.length+1;let o=i;Ue.isDocumentKey(o)||(o=o.child(""));const l=new tn(new Ue(o),0);let c=new Kt(tt);return this.vr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.br)),!0)},l),fe.resolve(this.Mr(c))}Mr(e){const r=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Ot(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return fe.forEach(r.mutations,s=>{const o=new tn(s.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,r){const i=new tn(r,0),s=this.vr.firstAfterOrEqual(i);return fe.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Or(e,r){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const r=this.Fr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.Nr=e,this.docs=function(){return new Vt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,s=this.docs.get(i),o=s?s.size:0,l=this.Nr(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return fe.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(r))}getEntries(e,r){let i=ho();return r.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():wn.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,r,i,s){let o=ho();const l=r.path,c=new Ue(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||aF(oF(m),i)<=0||(s.has(m.key)||Wd(r,m))&&(o=o.insert(m.key,m.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,r,i,s){Ge()}Br(e,r){return fe.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new R4(this)}getSize(e){return fe.resolve(this.size)}}class R4 extends x4{constructor(e){super(),this.hr=e}applyChanges(e){const r=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?r.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),fe.waitFor(r)}getFromCache(e,r){return this.hr.getEntry(e,r)}getAllFromCache(e,r){return this.hr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.persistence=e,this.Lr=new da(r=>v_(r),w_),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new b_,this.targetCount=0,this.Qr=Al.qn()}forEachTarget(e,r){return this.Lr.forEach((i,s)=>r(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.kr&&(this.kr=r),fe.resolve()}Un(e){this.Lr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Qr=new Al(r),this.highestTargetId=r),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,r){return this.Un(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.Un(r),fe.resolve()}removeTargetData(e,r){return this.Lr.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,i){let s=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=r&&i.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),fe.waitFor(o).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const i=this.Lr.get(r)||null;return fe.resolve(i)}addMatchingKeys(e,r,i){return this.qr.mr(r,i),fe.resolve()}removeMatchingKeys(e,r,i){this.qr.pr(r,i);const s=this.persistence.referenceDelegate,o=[];return s&&r.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.qr.yr(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const i=this.qr.Sr(r);return fe.resolve(i)}containsKey(e,r){return fe.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,r){this.Kr={},this.overlays={},this.$r=new Ud(0),this.Ur=!1,this.Ur=!0,this.Wr=new I4,this.referenceDelegate=e(this),this.Gr=new P4(this),this.indexManager=new g4,this.remoteDocumentCache=function(s){return new A4(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new p4(r),this.jr=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new k4,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.Kr[e.toKey()];return i||(i=new C4(r,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,r,i){Se("MemoryPersistence","Starting transaction:",e);const s=new O4(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(o=>this.referenceDelegate.Jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Yr(e,r){return fe.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,r)))}}class O4 extends uF{constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Zr=new b_,this.Xr=null}static ei(e){return new k_(e)}get ti(){if(this.Xr)return this.Xr;throw Ge()}addReference(e,r,i){return this.Zr.addReference(i,r),this.ti.delete(i.toString()),fe.resolve()}removeReference(e,r,i){return this.Zr.removeReference(i,r),this.ti.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.ti.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Zr.yr(r.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(o=>this.ti.add(o.toString()))}).next(()=>i.removeTargetData(e,r))}Hr(){this.Xr=new Set}Jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ti,i=>{const s=Ue.fromPath(i);return this.ni(e,s).next(o=>{o||r.removeEntry(s,qe.min())})}).next(()=>(this.Xr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ni(e,r).next(i=>{i?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(e){return 0}ni(e,r){return fe.or([()=>fe.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Yr(e,r)])}}class fd{constructor(e,r){this.persistence=e,this.ri=new da(i=>fF(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=E4(this,r)}static ei(e,r){return new fd(e,r)}Hr(){}Jr(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Xn(e){const r=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>r.next(s=>i+s))}nr(e){let r=0;return this.er(e,i=>{r++}).next(()=>r)}er(e,r){return fe.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(o=>o?fe.resolve():r(s)))}removeTargets(e,r,i){return this.persistence.getTargetCache().removeTargets(e,r,i)}removeOrphanedDocuments(e,r){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Br(e,l=>this.ir(e,l,r).next(c=>{c||(i++,o.removeEntry(l,qe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const i=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,r,i){return this.ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,i){return this.ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}zr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Uh(e.data.value)),r}ir(e,r,i){return fe.or([()=>this.persistence.Yr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.ri.get(r);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,r,i,s){this.targetId=e,this.fromCache=r,this.Wi=i,this.Gi=s}static zi(e,r){let i=it(),s=it();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new I_(e,r.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return PM()?8:cF(En())>0?6:4}()}initialize(e,r){this.Zi=e,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(e,r,i,s){const o={result:null};return this.Xi(e,r).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,r,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new N4;return this.ts(e,r,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,r,l,c.size)})}).next(()=>o.result)}ns(e,r,i,s){return i.documentReadCount<this.Ji?(al()<=Xe.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ll(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),fe.resolve()):(al()<=Xe.DEBUG&&Se("QueryEngine","Query:",ll(r),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(al()<=Xe.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ll(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(r))):fe.resolve())}Xi(e,r){if(rE(r))return fe.resolve(null);let i=xi(r);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=sy(r,null,"F"),i=xi(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=it(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(f=>{const d=this.rs(r,c);return this.ss(r,d,l,f.readTime)?this.Xi(e,sy(r,null,"F")):this.os(e,d,r,f)}))})))}es(e,r,i,s){return rE(r)||s.isEqual(qe.min())?fe.resolve(null):this.Zi.getDocuments(e,i).next(o=>{const l=this.rs(r,o);return this.ss(r,l,i,s)?fe.resolve(null):(al()<=Xe.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ll(r)),this.os(e,l,r,sF(s,-1)).next(c=>c))})}rs(e,r){let i=new Kt(gb(e));return r.forEach((s,o)=>{Wd(e,o)&&(i=i.add(o))}),i}ss(e,r,i,s){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ts(e,r,i){return al()<=Xe.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ll(r)),this.Zi.getDocumentsMatchingQuery(e,r,lo.min(),i)}os(e,r,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(o=>(r.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,r,i,s){this.persistence=e,this._s=r,this.serializer=s,this.us=new Vt(tt),this.cs=new da(o=>v_(o),w_),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.us))}}function L4(n,e,r,i){return new M4(n,e,r,i)}async function Db(n,e){const r=nt(n);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let s;return r.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,r.Ps(e),r.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let f=it();for(const d of s){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return r.localDocuments.getDocuments(i,f).next(d=>({Ts:d,removedBatchIds:l,addedBatchIds:c}))})})}function Mb(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Gr.getLastRemoteSnapshotVersion(r))}function F4(n,e){const r=nt(n),i=e.snapshotVersion;let s=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=r.hs.newChangeBuffer({trackRemovals:!0});s=r.us;const c=[];e.targetChanges.forEach((m,g)=>{const _=s.get(g);if(!_)return;c.push(r.Gr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>r.Gr.addMatchingKeys(o,m.addedDocuments,g)));let v=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(fn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(m.resumeToken,i)),s=s.insert(g,v),function(k,I,T){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,v,m)&&c.push(r.Gr.updateTargetData(o,v))});let f=ho(),d=it();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(V4(o,l,e.documentUpdates).next(m=>{f=m.Is,d=m.ds})),!i.isEqual(qe.min())){const m=r.Gr.getLastRemoteSnapshotVersion(o).next(g=>r.Gr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return fe.waitFor(c).next(()=>l.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(r.us=s,o))}function V4(n,e,r){let i=it(),s=it();return r.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=ho();return r.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Se("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Is:l,ds:s}})}function z4(n,e){const r=nt(n);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return r.Gr.getTargetData(i,e).next(o=>o?(s=o,fe.resolve(s)):r.Gr.allocateTargetId(i).next(l=>(s=new Zs(e,l,"TargetPurposeListen",i.currentSequenceNumber),r.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=r.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.us=r.us.insert(i.targetId,i),r.cs.set(e,i.targetId)),i})}async function cy(n,e,r){const i=nt(n),s=i.us.get(e),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ul(l))throw l;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function mE(n,e,r){const i=nt(n);let s=qe.min(),o=it();return i.persistence.runTransaction("Execute query","readwrite",l=>function(f,d,m){const g=nt(f),_=g.cs.get(m);return _!==void 0?fe.resolve(g.us.get(_)):g.Gr.getTargetData(d,m)}(i,l,xi(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{o=f})}).next(()=>i._s.getDocumentsMatchingQuery(l,e,r?s:qe.min(),r?o:it())).next(c=>($4(i,PF(e),c),{documents:c,Es:o})))}function $4(n,e,r){let i=n.ls.get(e)||qe.min();r.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ls.set(e,i)}class gE{constructor(){this.activeTargetIds=FF()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U4{constructor(){this._o=new gE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,r,i){this.ao[e]=r}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gE,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function ag(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class q4 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const i=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+r.host,this.Mo=`projects/${s}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Oo(r,i,s,o,l){const c=ag(),f=this.No(r,i.toUriEncodedString());Se("RestConnection",`Sending RPC '${r}' ${c}:`,f,s);const d={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(d,o,l),this.Lo(r,f,d,s).then(m=>(Se("RestConnection",`Received RPC '${r}' ${c}: `,m),m),m=>{throw bl("RestConnection",`RPC '${r}' ${c} failed with error: `,m,"url: ",f,"request:",s),m})}ko(r,i,s,o,l,c){return this.Oo(r,i,s,o,l)}Bo(r,i,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>r[l]=o),s&&s.headers.forEach((o,l)=>r[l]=o)}No(r,i){const s=B4[r];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,r,i,s){const o=ag();return new Promise((l,c)=>{const f=new tb;f.setWithCredentials(!0),f.listenOnce(nb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $h.NO_ERROR:const m=f.getResponseJson();Se(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case $h.TIMEOUT:Se(yn,`RPC '${e}' ${o} timed out`),c(new $e(we.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const g=f.getStatus();if(Se(yn,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_==null?void 0:_.error;if(v&&v.status&&v.message){const S=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(T)>=0?T:we.UNKNOWN}(v.status);c(new $e(S,v.message))}else c(new $e(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new $e(we.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Se(yn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Se(yn,`RPC '${e}' ${o} sending request:`,s),f.send(r,"POST",d,i,15)})}qo(e,r,i){const s=ag(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sb(),c=ib(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,r,i),f.encodeInitMessageHeaders=!0;const m=o.join("");Se(yn,`Creating RPC '${e}' stream ${s}: ${m}`,f);const g=l.createWebChannel(m,f);let _=!1,v=!1;const S=new H4({Eo:I=>{v?Se(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(Se(yn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),_=!0),Se(yn,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Ao:()=>g.close()}),k=(I,T,P)=>{I.listen(T,F=>{try{P(F)}catch(U){setTimeout(()=>{throw U},0)}})};return k(g,Ku.EventType.OPEN,()=>{v||(Se(yn,`RPC '${e}' stream ${s} transport opened.`),S.So())}),k(g,Ku.EventType.CLOSE,()=>{v||(v=!0,Se(yn,`RPC '${e}' stream ${s} transport closed`),S.Do())}),k(g,Ku.EventType.ERROR,I=>{v||(v=!0,bl(yn,`RPC '${e}' stream ${s} transport errored:`,I),S.Do(new $e(we.UNAVAILABLE,"The operation could not be completed")))}),k(g,Ku.EventType.MESSAGE,I=>{var T;if(!v){const P=I.data[0];Ot(!!P);const F=P,U=(F==null?void 0:F.error)||((T=F[0])===null||T===void 0?void 0:T.error);if(U){Se(yn,`RPC '${e}' stream ${s} received error:`,U);const N=U.status;let O=function(D){const $=Ut[D];if($!==void 0)return Sb($)}(N),A=U.message;O===void 0&&(O=we.INTERNAL,A="Unknown error status: "+N+" with message "+U.message),v=!0,S.Do(new $e(O,A)),g.close()}else Se(yn,`RPC '${e}' stream ${s} received:`,P),S.vo(P)}}),k(c,rb.STAT_EVENT,I=>{I.stat===Zg.PROXY?Se(yn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Zg.NOPROXY&&Se(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){return new t4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,r,i=1e3,s=1.5,o=6e4){this.li=e,this.timerId=r,this.Qo=i,this.Ko=s,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const r=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,r-i);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,r,i,s,o,l,c,f){this.li=e,this.Yo=i,this.Zo=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Fb(e,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(hs(r.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(r)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===r&&this.I_(i,s)},i=>{e(()=>{const s=new $e(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(s)})})}I_(e,r){const i=this.T_(this.Xo);this.stream=this.E_(e,r),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.d_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return r=>{this.li.enqueueAndForget(()=>this.Xo===e?r():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends W4{constructor(e,r,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,s,l),this.serializer=o}E_(e,r){return this.connection.qo("Listen",e,r)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const r=o4(this.serializer,e),i=function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?pl(l.readTime):qe.min()}(e);return this.listener.R_(r,i)}V_(e){const r={};r.database=hE(this.serializer),r.addTarget=function(o,l){let c;const f=l.target;if(c=iy(f)?{documents:a4(o,f)}:{query:l4(o,f).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=r4(o,l.resumeToken);const d=ly(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=n4(o,l.snapshotVersion.toTimestamp());const d=ly(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=c4(this.serializer,e);i&&(r.labels=i),this.c_(r)}m_(e){const r={};r.database=hE(this.serializer),r.removeTarget=e,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends class{}{constructor(e,r,i,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,uy(r,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(we.UNKNOWN,o.toString())})}ko(e,r,i,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,uy(r,i),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new $e(we.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Q4{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hs(r),this.C_=!1):Se("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,r,i,s,o){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{i.enqueueAndForget(async()=>{jc(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(f){const d=nt(f);d.k_.add(4),await Uc(d),d.K_.set("Unknown"),d.k_.delete(4),await Yd(d)}(this))})}),this.K_=new Q4(i,s)}}async function Yd(n){if(jc(n))for(const e of n.q_)await e(!0)}async function Uc(n){for(const e of n.q_)await e(!1)}function Vb(n,e){const r=nt(n);r.L_.has(e.targetId)||(r.L_.set(e.targetId,e),P_(r)?R_(r):jl(r).s_()&&A_(r,e))}function C_(n,e){const r=nt(n),i=jl(r);r.L_.delete(e),i.s_()&&zb(r,e),r.L_.size===0&&(i.s_()?i.a_():jc(r)&&r.K_.set("Unknown"))}function A_(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}jl(n).V_(e)}function zb(n,e){n.U_.xe(e),jl(n).m_(e)}function R_(n){n.U_=new XF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),jl(n).start(),n.K_.F_()}function P_(n){return jc(n)&&!jl(n).i_()&&n.L_.size>0}function jc(n){return nt(n).k_.size===0}function $b(n){n.U_=void 0}async function X4(n){n.K_.set("Online")}async function J4(n){n.L_.forEach((e,r)=>{A_(n,e)})}async function Z4(n,e){$b(n),P_(n)?(n.K_.O_(e),R_(n)):n.K_.set("Unknown")}async function eV(n,e,r){if(n.K_.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.L_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.L_.delete(c),s.U_.removeTarget(c))}(n,e)}catch(i){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _E(n,i)}else if(e instanceof Bh?n.U_.$e(e):e instanceof bb?n.U_.Je(e):n.U_.Ge(e),!r.isEqual(qe.min()))try{const i=await Mb(n.localStore);r.compareTo(i)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.L_.get(d);m&&o.L_.set(d,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,d)=>{const m=o.L_.get(f);if(!m)return;o.L_.set(f,m.withResumeToken(fn.EMPTY_BYTE_STRING,m.snapshotVersion)),zb(o,f);const g=new Zs(m.target,f,d,m.sequenceNumber);A_(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,r)}catch(i){Se("RemoteStore","Failed to raise snapshot:",i),await _E(n,i)}}async function _E(n,e,r){if(!Ul(e))throw e;n.k_.add(1),await Uc(n),n.K_.set("Offline"),r||(r=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await r(),n.k_.delete(1),await Yd(n)})}async function vE(n,e){const r=nt(n);r.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const i=jc(r);r.k_.add(3),await Uc(r),i&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.k_.delete(3),await Yd(r)}async function tV(n,e){const r=nt(n);e?(r.k_.delete(2),await Yd(r)):e||(r.k_.add(2),await Uc(r),r.K_.set("Unknown"))}function jl(n){return n.W_||(n.W_=function(r,i,s){const o=nt(r);return o.b_(),new G4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Ro:X4.bind(null,n),mo:J4.bind(null,n),po:Z4.bind(null,n),R_:eV.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),P_(n)?R_(n):n.K_.set("Unknown")):(await n.W_.stop(),$b(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,r,i,s,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,s,o){const l=Date.now()+i,c=new O_(e,r,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ub(n,e){if(hs("AsyncQueue",`${e}: ${n}`),Ul(n))return new $e(we.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(r,i)=>e(r,i)||Ue.comparator(r.key,i.key):(r,i)=>Ue.comparator(r.key,i.key),this.keyedMap=Qu(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.z_=new Vt(Ue.comparator)}track(e){const r=e.doc.key,i=this.z_.get(r);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(r,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(r):e.type===1&&i.type===2?this.z_=this.z_.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):Ge():this.z_=this.z_.insert(r,e)}j_(){const e=[];return this.z_.inorderTraversal((r,i)=>{e.push(i)}),e}}class Rl{constructor(e,r,i,s,o,l,c,f,d){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,r,i,s,o){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Rl(e,r,ml.emptySet(r),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class rV{constructor(){this.queries=EE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,i){const s=nt(r),o=s.queries;s.queries=EE(),o.forEach((l,c)=>{for(const f of c.J_)f.onError(i)})})(this,new $e(we.ABORTED,"Firestore shutting down"))}}function EE(){return new da(n=>mb(n),qd)}async function iV(n,e){const r=nt(n);let i=3;const s=e.query;let o=r.queries.get(s);o?!o.Y_()&&e.Z_()&&(i=2):(o=new nV,i=e.Z_()?0:1);try{switch(i){case 0:o.H_=await r.onListen(s,!0);break;case 1:o.H_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(l){const c=Ub(l,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(c)}r.queries.set(s,o),o.J_.push(e),e.ea(r.onlineState),o.H_&&e.ta(o.H_)&&N_(r)}async function sV(n,e){const r=nt(n),i=e.query;let s=3;const o=r.queries.get(i);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?s=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function oV(n,e){const r=nt(n);let i=!1;for(const s of e){const o=s.query,l=r.queries.get(o);if(l){for(const c of l.J_)c.ta(s)&&(i=!0);l.H_=s}}i&&N_(r)}function aV(n,e,r){const i=nt(n),s=i.queries.get(e);if(s)for(const o of s.J_)o.onError(r);i.queries.delete(e)}function N_(n){n.X_.forEach(e=>{e.next()})}var fy,xE;(xE=fy||(fy={})).na="default",xE.Cache="cache";class lV{constructor(e,r,i){this.query=e,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ia?this.oa(e)&&(this.ra.next(e),r=!0):this._a(e,this.onlineState)&&(this.aa(e),r=!0),this.sa=e,r}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),r=!0),r}_a(e,r){if(!e.fromCache||!this.Z_())return!0;const i=r!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class uV{constructor(e,r){this.query=e,this.Ea=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=it(),this.mutatedKeys=it(),this.Va=gb(e),this.ma=new ml(this.Va)}get fa(){return this.Ea}ga(e,r){const i=r?r.pa:new wE,s=r?r.ma:this.ma;let o=r?r.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,g)=>{const _=s.get(m),v=Wd(this.query,g)?g:null,S=!!_&&this.mutatedKeys.has(_.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;_&&v?_.data.isEqual(v.data)?S!==k&&(i.track({type:3,doc:v}),I=!0):this.ya(_,v)||(i.track({type:2,doc:v}),I=!0,(f&&this.Va(v,f)>0||d&&this.Va(v,d)<0)&&(c=!0)):!_&&v?(i.track({type:0,doc:v}),I=!0):_&&!v&&(i.track({type:1,doc:_}),I=!0,(f||d)&&(c=!0)),I&&(v?(l=l.add(v),o=k?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ma:l,pa:i,ss:c,mutatedKeys:o}}ya(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,s){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,g)=>function(v,S){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return k(v)-k(S)}(m.type,g.type)||this.Va(m.doc,g.doc)),this.wa(i),s=s!=null&&s;const c=r&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,d=f!==this.Aa;return this.Aa=f,l.length!==0||d?{snapshot:new Rl(this.query,e.ma,o,l,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new wE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(r=>this.Ea=this.Ea.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ea=this.Ea.delete(r)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=it(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const r=[];return e.forEach(i=>{this.Ra.has(i)||r.push(new Bb(i))}),this.Ra.forEach(i=>{e.has(i)||r.push(new jb(i))}),r}va(e){this.Ea=e.Es,this.Ra=it();const r=this.ga(e.documents);return this.applyChanges(r,!0)}Ca(){return Rl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class cV{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class fV{constructor(e){this.key=e,this.Fa=!1}}class hV{constructor(e,r,i,s,o,l){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new da(c=>mb(c),qd),this.Oa=new Map,this.Na=new Set,this.Ba=new Vt(Ue.comparator),this.La=new Map,this.ka=new b_,this.qa={},this.Qa=new Map,this.Ka=Al.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dV(n,e,r=!0){const i=Kb(n);let s;const o=i.xa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Ca()):s=await Hb(i,e,r,!0),s}async function pV(n,e){const r=Kb(n);await Hb(r,e,!0,!1)}async function Hb(n,e,r,i){const s=await z4(n.localStore,xi(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,r);let c;return i&&(c=await mV(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&r&&Vb(n.remoteStore,s),c}async function mV(n,e,r,i,s){n.Ua=(g,_,v)=>async function(k,I,T,P){let F=I.view.ga(T);F.ss&&(F=await mE(k.localStore,I.query,!1).then(({documents:A})=>I.view.ga(A,F)));const U=P&&P.targetChanges.get(I.targetId),N=P&&P.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(F,k.isPrimaryClient,U,N);return SE(k,I.targetId,O.ba),O.snapshot}(n,g,_,v);const o=await mE(n.localStore,e,!0),l=new uV(e,o.Es),c=l.ga(o.documents),f=$c.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline",s),d=l.applyChanges(c,n.isPrimaryClient,f);SE(n,r,d.ba);const m=new cV(e,r,l);return n.xa.set(e,m),n.Oa.has(r)?n.Oa.get(r).push(e):n.Oa.set(r,[e]),d.snapshot}async function gV(n,e,r){const i=nt(n),s=i.xa.get(e),o=i.Oa.get(s.targetId);if(o.length>1)return i.Oa.set(s.targetId,o.filter(l=>!qd(l,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),r&&C_(i.remoteStore,s.targetId),hy(i,s.targetId)}).catch($d)):(hy(i,s.targetId),await cy(i.localStore,s.targetId,!0))}async function yV(n,e){const r=nt(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),C_(r.remoteStore,i.targetId))}async function qb(n,e){const r=nt(n);try{const i=await F4(r.localStore,e);e.targetChanges.forEach((s,o)=>{const l=r.La.get(o);l&&(Ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?Ot(l.Fa):s.removedDocuments.size>0&&(Ot(l.Fa),l.Fa=!1))}),await Gb(r,i,e)}catch(i){await $d(i)}}function TE(n,e,r){const i=nt(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const s=[];i.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let d=!1;f.queries.forEach((m,g)=>{for(const _ of g.J_)_.ea(c)&&(d=!0)}),d&&N_(f)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _V(n,e,r){const i=nt(n);i.sharedClientState.updateQueryState(e,"rejected",r);const s=i.La.get(e),o=s&&s.key;if(o){let l=new Vt(Ue.comparator);l=l.insert(o,wn.newNoDocument(o,qe.min()));const c=it().add(o),f=new Qd(qe.min(),new Map,new Vt(tt),l,c);await qb(i,f),i.Ba=i.Ba.remove(o),i.La.delete(e),D_(i)}else await cy(i.localStore,e,!1).then(()=>hy(i,e,r)).catch($d)}function hy(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),r&&n.Ma.Wa(i,r);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Wb(n,i)})}function Wb(n,e){n.Na.delete(e.path.canonicalString());const r=n.Ba.get(e);r!==null&&(C_(n.remoteStore,r),n.Ba=n.Ba.remove(e),n.La.delete(r),D_(n))}function SE(n,e,r){for(const i of r)i instanceof jb?(n.ka.addReference(i.key,e),vV(n,i)):i instanceof Bb?(Se("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Wb(n,i.key)):Ge()}function vV(n,e){const r=e.key,i=r.path.canonicalString();n.Ba.get(r)||n.Na.has(i)||(Se("SyncEngine","New document in limbo: "+r),n.Na.add(i),D_(n))}function D_(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const r=new Ue(Dt.fromString(e)),i=n.Ka.next();n.La.set(i,new fV(r)),n.Ba=n.Ba.insert(r,i),Vb(n.remoteStore,new Zs(xi(E_(r.path)),i,"TargetPurposeLimboResolution",Ud.oe))}}async function Gb(n,e,r){const i=nt(n),s=[],o=[],l=[];i.xa.isEmpty()||(i.xa.forEach((c,f)=>{l.push(i.Ua(f,e,r).then(d=>{var m;if((d||r)&&i.isPrimaryClient){const g=d?!d.fromCache:(m=r==null?void 0:r.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=I_.zi(f.targetId,d);o.push(g)}}))}),await Promise.all(l),i.Ma.R_(s),await async function(f,d){const m=nt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(d,_=>fe.forEach(_.Wi,v=>m.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>fe.forEach(_.Gi,v=>m.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!Ul(g))throw g;Se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const v=m.us.get(_),S=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(S);m.us=m.us.insert(_,k)}}}(i.localStore,o))}async function wV(n,e){const r=nt(n);if(!r.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const i=await Db(r.localStore,e);r.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(f=>{f.reject(new $e(we.CANCELLED,l))})}),o.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Gb(r,i.Ts)}}function EV(n,e){const r=nt(n),i=r.La.get(e);if(i&&i.Fa)return it().add(i.key);{let s=it();const o=r.Oa.get(e);if(!o)return s;for(const l of o){const c=r.xa.get(l);s=s.unionWith(c.view.fa)}return s}}function Kb(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_V.bind(null,e),e.Ma.R_=oV.bind(null,e.eventManager),e.Ma.Wa=aV.bind(null,e.eventManager),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lb(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,r){return null}Ya(e,r){return null}Ha(e){return L4(this.persistence,new D4,e.initialUser,this.serializer)}ja(e){return new Nb(k_.ei,this.serializer)}za(e){return new U4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class xV extends hd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,r){Ot(this.persistence.referenceDelegate instanceof fd);const i=this.persistence.referenceDelegate.garbageCollector;return new v4(i,e.asyncQueue,r)}ja(e){const r=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Nb(i=>fd.ei(i,r),this.serializer)}}class dy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wV.bind(null,this.syncEngine),await tV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rV}()}createDatastore(e){const r=Lb(e.databaseInfo.databaseId),i=function(o){return new q4(o)}(e.databaseInfo);return function(o,l,c,f){return new K4(o,l,c,f)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,s,o,l,c){return new Y4(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,r=>TE(this.syncEngine,r,0),function(){return yE.p()?new yE:new j4}())}createSyncEngine(e,r){return function(s,o,l,c,f,d,m){const g=new hV(s,o,l,c,f,d);return m&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const o=nt(s);Se("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Uc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,r,i,s,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{Se("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Se("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Ub(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ug(n,e){n.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let i=r.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Db(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bE(n,e){n.asyncQueue.verifyOperationInProgress();const r=await bV(n);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener(i=>vE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>vE(e.remoteStore,s)),n._onlineComponents=e}async function bV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await ug(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===we.FAILED_PRECONDITION||s.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;bl("Error using user provided cache. Falling back to memory cache: "+r),await ug(n,new hd)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await ug(n,new xV(void 0));return n._offlineComponents}async function kV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await bE(n,n._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await bE(n,new dy))),n._onlineComponents}async function IV(n){const e=await kV(n),r=e.eventManager;return r.onListen=dV.bind(null,e.syncEngine),r.onUnlisten=gV.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=pV.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=yV.bind(null,e.syncEngine),r}function CV(n,e,r={}){const i=new Xo;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,f,d){const m=new TV({next:_=>{m.eu(),l.enqueueAndForget(()=>sV(o,g));const v=_.docs.has(c);!v&&_.fromCache?d.reject(new $e(we.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&f&&f.source==="server"?d.reject(new $e(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new lV(E_(c.path),m,{includeMetadataChanges:!0,ua:!0});return iV(o,g)}(await IV(n),n.asyncQueue,e,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(n,e,r){if(!r)throw new $e(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RV(n,e,r,i){if(e===!0&&i===!0)throw new $e(we.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function IE(n){if(!Ue.isDocumentKey(n))throw new $e(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PV(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge()}function py(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=PV(n);throw new $e(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M_{constructor(e,r,i,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YL;switch(i.type){case"firstParty":return new eF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=kE.get(r);i&&(Se("ComponentProvider","Removing Datastore"),kE.delete(r),i.terminate())}(this),Promise.resolve()}}function OV(n,e,r,i={}){var s;const o=(n=py(n,M_))._getSettings(),l=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,f;if(typeof i.mockUserToken=="string")c=i.mockUserToken,f=vn.MOCK_USER;else{c=SM(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new $e(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vn(d)}n._authCredentials=new XL(new ob(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new L_(this.firestore,e,this._query)}}class ls{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ls(this.firestore,e,this._key)}}class xc extends L_{constructor(e,r,i){super(e,r,E_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ls(this.firestore,null,new Ue(e))}withConverter(e){return new xc(this.firestore,e,this._path)}}function Yb(n,e,...r){if(n=go(n),arguments.length===1&&(e=ab.newId()),AV("doc","path",e),n instanceof M_){const i=Dt.fromString(e,...r);return IE(i),new ls(n,null,new Ue(i))}{if(!(n instanceof ls||n instanceof xc))throw new $e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...r));return IE(i),new ls(n.firestore,n instanceof xc?n.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Fb(this,"async_queue_retry"),this.fu=()=>{const i=lg();i&&Se("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const r=lg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const r=lg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const r=new Xo;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ul(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const r=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw hs("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=r,r}enqueueAfterDelay(e,r,i){this.pu(),this.mu.indexOf(e)>-1&&(r=0);const s=O_.createAndSchedule(this,e,r,i,o=>this.Su(o));return this.Eu.push(s),s}pu(){this.Au&&Ge()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const r of this.Eu)if(r.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Eu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const r=this.Eu.indexOf(e);this.Eu.splice(r,1)}}class Xb extends M_{constructor(e,r,i,s){super(e,r,i,s),this.type="firestore",this._queue=new AE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function NV(n,e){const r=typeof n=="object"?n:XS(),i=typeof n=="string"?n:"(default)",s=m_(r,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=xM("firestore");o&&OV(s,...o)}return s}function DV(n){if(n._terminated)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MV(n),n._firestoreClient}function MV(n){var e,r,i;const s=n._freezeSettings(),o=function(c,f,d,m){return new mF(c,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new SV(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dd(fn.fromBase64String(e))}catch(r){throw new $e(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new dd(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new $e(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}const VV=new RegExp("[~\\*/\\[\\]]");function zV(n,e,r){if(e.search(VV)>=0)throw RE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new Jb(...e.split("."))._internalPath}catch{throw RE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function RE(n,e,r,i,s){let o=`Function ${e}() called with invalid data`;o+=". ";let l="";return new $e(we.INVALID_ARGUMENT,o+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r,i,s,o){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $V(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ek("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $V extends Zb{data(){return super.data()}}function ek(n,e){return typeof e=="string"?zV(n,e):e instanceof Jb?e._internalPath:e._delegate._internalPath}class UV{convertValue(e,r="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return zc(e,(s,o)=>{i[s]=this.convertValue(o,r)}),i}convertVectorValue(e){var r,i,s;const o=(s=(i=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ft(l.doubleValue));return new FV(o)}convertGeoPoint(e){return new LV(Ft(e.latitude),Ft(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=Bd(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const r=uo(e);return new Hn(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=Dt.fromString(e);Ot(Ob(i));const s=new wc(i.get(1),i.get(3)),o=new Ue(i.popFirst(5));return s.isEqual(r)||hs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tk extends Zb{constructor(e,r,i,s,o,l){super(e,r,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new BV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(ek("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class BV extends tk{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){n=py(n,ls);const e=py(n.firestore,Xb);return CV(DV(e),n._key).then(r=>qV(e,n,r))}class HV extends UV{constructor(e){super(),this.firestore=e}convertBytes(e){return new dd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ls(this.firestore,null,r)}}function qV(n,e,r){const i=r.docs.get(e._key),s=new HV(n);return new tk(n,s,e._key,i,new jV(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(s){$l=s})(zl),Sl(new ra("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Xb(new JL(i.getProvider("auth-internal")),new nF(i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $e(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(d.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:r},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ro(W1,"4.7.6",e),ro(W1,"4.7.6","esm2017")})();function F_(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(r[i[s]]=n[i[s]]);return r}function rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WV=rk,ik=new Fc("auth","Firebase",rk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new d_("@firebase/auth");function GV(n,...e){pd.logLevel<=Xe.WARN&&pd.warn(`Auth (${zl}): ${n}`,...e)}function Hh(n,...e){pd.logLevel<=Xe.ERROR&&pd.error(`Auth (${zl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw V_(n,...e)}function Ti(n,...e){return V_(n,...e)}function sk(n,e,r){const i=Object.assign(Object.assign({},WV()),{[e]:r});return new Fc("auth","Firebase",i).create(e,{appName:n.name})}function so(n){return sk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V_(n,...e){if(typeof n!="string"){const r=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(r,...i)}return ik.create(n,...e)}function je(n,e,...r){if(!n)throw V_(e,...r)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function ds(n,e){n||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KV(){return PE()==="http:"||PE()==="https:"}function PE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KV()||CM()||"connection"in navigator)?navigator.onLine:!0}function YV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r){this.shortDelay=e,this.longDelay=r,ds(r>e,"Short delay should be less than long delay!"),this.isMobile=bM()||AM()}get(){return QV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e){ds(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{static initialize(e,r,i){this.fetchImpl=e,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Bc(3e4,6e4);function pa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function yo(n,e,r,i,s={}){return ak(n,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Vc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return IM()||(d.referrerPolicy="no-referrer"),ok.fetch()(lk(n,n.config.apiHost,r,c),d)})}async function ak(n,e,r){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},XV),e);try{const s=new e3(n),o=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Sh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Sh(n,"user-disabled",l);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sk(n,m,d);Yr(n,m)}}catch(s){if(s instanceof gs)throw s;Yr(n,"network-request-failed",{message:String(s)})}}async function Xd(n,e,r,i,s={}){const o=await yo(n,e,r,i,s);return"mfaPendingCredential"in o&&Yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function lk(n,e,r,i){const s=`${e}${r}?${i}`;return n.config.emulator?z_(n.config,s):`${n.config.apiScheme}://${s}`}function ZV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,i)=>{this.timer=setTimeout(()=>i(Ti(this.auth,"network-request-failed")),JV.get())})}}function Sh(n,e,r){const i={appName:n.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);const s=Ti(n,e,i);return s.customData._tokenResponse=r,s}function OE(n){return n!==void 0&&n.enterprise!==void 0}class t3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return ZV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n3(n,e){return yo(n,"GET","/v2/recaptchaConfig",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(n,e){return yo(n,"POST","/v1/accounts:delete",e)}async function uk(n,e){return yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i3(n,e=!1){const r=go(n),i=await r.getIdToken(e),s=$_(i);je(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:ac(cg(s.auth_time)),issuedAtTime:ac(cg(s.iat)),expirationTime:ac(cg(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cg(n){return Number(n)*1e3}function $_(n){const[e,r,i]=n.split(".");if(e===void 0||r===void 0||i===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=HS(r);return s?JSON.parse(s):(Hh("Failed to decode base64 JWT payload"),null)}catch(s){return Hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function NE(n){const e=$_(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,e,r=!1){if(r)return e;try{return await e}catch(i){throw i instanceof gs&&s3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function s3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(n){var e;const r=n.auth,i=await n.getIdToken(),s=await Tc(n,uk(r,{idToken:i}));je(s==null?void 0:s.users.length,r,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ck(o.providerUserInfo):[],c=l3(n.providerData,l),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=f?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gy(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function a3(n){const e=go(n);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l3(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function ck(n){return n.map(e=>{var{providerId:r}=e,i=F_(e,["providerId"]);return{providerId:r,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(n,e){const r=await ak(n,{},async()=>{const i=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=lk(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ok.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function c3(n,e){return yo(n,"POST","/v2/accounts:revokeToken",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){je(e.length!==0,"internal-error");const r=NE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:i,refreshToken:s,expiresIn:o}=await u3(e,r);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,r,i){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,r){const{refreshToken:i,accessToken:s,expirationTime:o}=r,l=new gl;return i&&(je(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(je(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(je(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:r,auth:i,stsTokenManager:s}=e,o=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return i3(this,e)}reload(){return a3(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),r&&await md(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await Tc(this,r3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var i,s,o,l,c,f,d,m;const g=(i=r.displayName)!==null&&i!==void 0?i:void 0,_=(s=r.email)!==null&&s!==void 0?s:void 0,v=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=r.photoURL)!==null&&l!==void 0?l:void 0,k=(c=r.tenantId)!==null&&c!==void 0?c:void 0,I=(f=r._redirectEventId)!==null&&f!==void 0?f:void 0,T=(d=r.createdAt)!==null&&d!==void 0?d:void 0,P=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:U,isAnonymous:N,providerData:O,stsTokenManager:A}=r;je(F&&A,e,"internal-error");const C=gl.fromJSON(this.name,A);je(typeof F=="string",e,"internal-error"),Us(g,e.name),Us(_,e.name),je(typeof U=="boolean",e,"internal-error"),je(typeof N=="boolean",e,"internal-error"),Us(v,e.name),Us(S,e.name),Us(k,e.name),Us(I,e.name),Us(T,e.name),Us(P,e.name);const D=new ns({uid:F,auth:e,email:_,emailVerified:U,displayName:g,isAnonymous:N,photoURL:S,phoneNumber:v,tenantId:k,stsTokenManager:C,createdAt:T,lastLoginAt:P});return O&&Array.isArray(O)&&(D.providerData=O.map($=>Object.assign({},$))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,r,i=!1){const s=new gl;s.updateFromServerResponse(r);const o=new ns({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await md(o),o}static async _fromGetAccountInfoResponse(e,r,i){const s=r.users[0];je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?ck(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new gl;c.updateFromIdToken(i);const f=new ns({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function rs(n){ds(n instanceof Function,"Expected a class definition");let e=DE.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}fk.type="NONE";const ME=fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,r){return`firebase:${n}:${e}:${r}`}class yl{constructor(e,r,i){this.persistence=e,this.auth=r,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=qh(this.userKey,s.apiKey,o),this.fullPersistenceKey=qh("persistence",s.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,i="authUser"){if(!r.length)return new yl(rs(ME),e,i);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||rs(ME);const l=qh(i,e.config.apiKey,e.name);let c=null;for(const d of r)try{const m=await d._get(l);if(m){const g=ns._fromJSON(e,m);d!==o&&(c=g),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new yl(o,e,i):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(r.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new yl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yk(e))return"Blackberry";if(_k(e))return"Webos";if(dk(e))return"Safari";if((e.includes("chrome/")||pk(e))&&!e.includes("edge/"))return"Chrome";if(gk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(r);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hk(n=En()){return/firefox\//i.test(n)}function dk(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pk(n=En()){return/crios\//i.test(n)}function mk(n=En()){return/iemobile/i.test(n)}function gk(n=En()){return/android/i.test(n)}function yk(n=En()){return/blackberry/i.test(n)}function _k(n=En()){return/webos/i.test(n)}function U_(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function f3(n=En()){var e;return U_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h3(){return RM()&&document.documentMode===10}function vk(n=En()){return U_(n)||gk(n)||_k(n)||yk(n)||/windows phone/i.test(n)||mk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n,e=[]){let r;switch(n){case"Browser":r=LE(En());break;case"Worker":r=`${LE(En())}-${n}`;break;default:r=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const i=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});i.onAbort=r,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(n,e={}){return yo(n,"GET","/v2/passwordPolicy",pa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=6;class g3{constructor(e){var r,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:m3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,s,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(r=f.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,r){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(r.meetsMinPasswordLength=e.length>=i),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,r,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,r,i,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new d3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ik,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=rs(r)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await uk(this,{idToken:e}),i=await ns._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(es(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(es(this.app))return Promise.reject(so(this));const r=e?go(e):null;return r&&je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return es(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p3(this),r=new g3(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,r,i){return this.registerStateListener(this.authStateSubscription,e,r,i)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,i){return this.registerStateListener(this.idTokenSubscription,e,r,i)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(i.tenantId=this.tenantId),await c3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const i=await this.getOrInitRedirectPersistenceManager(r);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&rs(e)||this._popupRedirectResolver;je(r,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[rs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,i;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,i,s){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof r=="function"){const f=e.addObserver(r,i,s);return()=>{l=!0,f()}}else{const f=e.addObserver(r);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(r["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&GV(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Bl(n){return go(n)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VM(r=>this.observer=r)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _3(n){Jd=n}function Ek(n){return Jd.loadJS(n)}function v3(){return Jd.recaptchaEnterpriseScript}function w3(){return Jd.gapiScript}function E3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class x3{constructor(){this.enterprise=new T3}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class T3{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const S3="recaptcha-enterprise",xk="NO_RECAPTCHA";class b3{constructor(e){this.type=S3,this.auth=Bl(e)}async verify(e="verify",r=!1){async function i(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{n3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new t3(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,l,c){const f=window.grecaptcha;OE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(xk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!r&&OE(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=v3();f.length!==0&&(f+=c),Ek(f).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function VE(n,e,r,i=!1,s=!1){const o=new b3(n);let l;if(s)l=xk;else try{l=await o.verify(r)}catch{l=await o.verify(r,!0)}const c=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zE(n,e,r,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await VE(n,e,r,r==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await VE(n,e,r,r==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n,e){const r=m_(n,"auth");if(r.isInitialized()){const s=r.getImmediate(),o=r.getOptions();if(sd(o,e??{}))return s;Yr(s,"already-initialized")}return r.initialize({options:e})}function I3(n,e){const r=(e==null?void 0:e.persistence)||[],i=(Array.isArray(r)?r:[r]).map(rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function C3(n,e,r){const i=Bl(n);je(i._canInitEmulator,i,"emulator-config-failed"),je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=Tk(e),{host:l,port:c}=A3(e),f=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),R3()}function Tk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A3(n){const e=Tk(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!r)return{host:"",port:null};const i=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:$E(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:$E(l)}}}function $E(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R3(){function n(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,r){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function P3(n,e){return yo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(n,e){return Xd(n,"POST","/v1/accounts:signInWithPassword",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(n,e){return Xd(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))}async function D3(n,e){return Xd(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends j_{constructor(e,r,i,s=null){super("password",i),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Sc(e,r,"password")}static _fromEmailAndCode(e,r,i=null){return new Sc(e,r,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,r,"signInWithPassword",O3);case"emailLink":return N3(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,i,"signUpPassword",P3);case"emailLink":return D3(e,{idToken:r,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e){return Xd(n,"POST","/v1/accounts:signInWithIdp",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="http://localhost";class sa extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Yr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=r,o=F_(r,["providerId","signInMethod"]);if(!i||!s)return null;const l=new sa(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return _l(e,r)}_linkToIdToken(e,r){const i=this.buildRequest();return i.idToken=r,_l(e,i)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_l(e,r)}buildRequest(){const e={requestUri:M3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vc(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F3(n){const e=Wu(Gu(n)).link,r=e?Wu(Gu(e)).deep_link_id:null,i=Wu(Gu(n)).deep_link_id;return(i?Wu(Gu(i)).link:null)||i||r||e||n}class B_{constructor(e){var r,i,s,o,l,c;const f=Wu(Gu(e)),d=(r=f.apiKey)!==null&&r!==void 0?r:null,m=(i=f.oobCode)!==null&&i!==void 0?i:null,g=L3((s=f.mode)!==null&&s!==void 0?s:null);je(d&&m&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=F3(e);try{return new B_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,r){return Sc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=B_.parseLink(r);return je(i,"argument-error"),Sc._fromEmailAndCode(e,i.code,i.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Hc{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return sa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return Ks.credential(r,i)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Hc{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Hc{constructor(){super("twitter.com")}static credential(e,r){return sa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=e;if(!r||!i)return null;try{return Ys.credential(r,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,i,s=!1){const o=await ns._fromIdTokenResponse(e,i,s),l=UE(i);return new Pl({user:o,providerId:l,_tokenResponse:i,operationType:r})}static async _forOperation(e,r,i){await e._updateTokensIfNecessary(i,!0);const s=UE(i);return new Pl({user:e,providerId:s,_tokenResponse:i,operationType:r})}}function UE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends gs{constructor(e,r,i,s){var o;super(r.code,r.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,r,i,s){return new gd(e,r,i,s)}}function bk(n,e,r,i){return(e==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(n,o,e,i):o})}async function V3(n,e,r=!1){const i=await Tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),r);return Pl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(n,e,r=!1){const{auth:i}=n;if(es(i.app))return Promise.reject(so(i));const s="reauthenticate";try{const o=await Tc(n,bk(i,s,e,n),r);je(o.idToken,i,"internal-error");const l=$_(o.idToken);je(l,i,"internal-error");const{sub:c}=l;return je(n.uid===c,i,"user-mismatch"),Pl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e,r=!1){if(es(n.app))return Promise.reject(so(n));const i="signIn",s=await bk(n,i,e),o=await Pl._fromIdTokenResponse(n,i,s);return r||await n._updateCurrentUser(o.user),o}async function $3(n,e){return kk(Bl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(n){const e=Bl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function j3(n,e,r){return es(n.app)?Promise.reject(so(n)):$3(go(n),Hl.credential(e,r)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&U3(n),i})}function B3(n,e,r,i){return go(n).onIdTokenChanged(e,r,i)}function H3(n,e,r){return go(n).beforeAuthStateChanged(e,r)}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=1e3,W3=10;class Ck extends Ik{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const i=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!r&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);h3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W3):s()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ck.type="LOCAL";const G3=Ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends Ik{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Ak.type="SESSION";const Rk=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const i=new Zd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:i,eventType:s,data:o}=r.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(r.origin,o)),f=await K3(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n="",e=10){let r="";for(let i=0;i<e;i++)r+=Math.floor(Math.random()*10);return n+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const d=H_("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function Y3(n){Si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function X3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z3(){return Pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebaseLocalStorageDb",ez=1,_d="firebaseLocalStorage",Nk="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ep(n,e){return n.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function tz(){const n=indexedDB.deleteDatabase(Ok);return new qc(n).toPromise()}function yy(){const n=indexedDB.open(Ok,ez);return new Promise((e,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(_d,{keyPath:Nk})}catch(s){r(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(_d)?e(i):(i.close(),await tz(),e(await yy()))})})}async function jE(n,e,r){const i=ep(n,!0).put({[Nk]:e,value:r});return new qc(i).toPromise()}async function nz(n,e){const r=ep(n,!1).get(e),i=await new qc(r).toPromise();return i===void 0?null:i.value}function BE(n,e){const r=ep(n,!0).delete(e);return new qc(r).toPromise()}const rz=800,iz=3;class Dk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(r++>iz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(Z3()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await X3(),!this.activeServiceWorker)return;this.sender=new Q3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await jE(e,yd,"1"),await BE(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>jE(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(i=>nz(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ep(s,!1).getAll();return new qc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dk.type="LOCAL";const sz=Dk;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(n,e){return e?rs(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _l(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function az(n){return kk(n.auth,new q_(n),n.bypassAuthState)}function lz(n){const{auth:e,user:r}=n;return je(r,e,"internal-error"),z3(r,new q_(n),n.bypassAuthState)}async function uz(n){const{auth:e,user:r}=n;return je(r,e,"internal-error"),V3(r,new q_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,r,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return az;case"linkViaPopup":case"linkViaRedirect":return uz;case"reauthViaPopup":case"reauthViaRedirect":return lz;default:Yr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new Bc(2e3,1e4);class hl extends Mk{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cz.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="pendingRedirect",Wh=new Map;class hz extends Mk{constructor(e,r,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const i=await dz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(r){e=()=>Promise.reject(r)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dz(n,e){const r=gz(e),i=mz(n);if(!await i._isAvailable())return!1;const s=await i._get(r)==="true";return await i._remove(r),s}function pz(n,e){Wh.set(n._key(),e)}function mz(n){return rs(n._redirectPersistence)}function gz(n){return qh(fz,n.config.apiKey,n.name)}async function yz(n,e,r=!1){if(es(n.app))return Promise.reject(so(n));const i=Bl(n),s=oz(i,e),l=await new hz(i,s,r).execute();return l&&!r&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=10*60*1e3;class vz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(r=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wz(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var i;if(e.error&&!Lk(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";r.onError(Ti(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const i=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_z&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Lk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(n,e={}){return yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tz=/^https?/;async function Sz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ez(n);for(const r of e)try{if(bz(r))return}catch{}Yr(n,"unauthorized-domain")}function bz(n){const e=my(),{protocol:r,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===i}if(!Tz.test(r))return!1;if(xz.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=new Bc(3e4,6e4);function qE(){const n=Si().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function Iz(n){return new Promise((e,r)=>{var i,s,o;function l(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),r(Ti(n,"network-request-failed"))},timeout:kz.get()})}if(!((s=(i=Si().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Si().gapi)===null||o===void 0)&&o.load)l();else{const c=E3("iframefcb");return Si()[c]=()=>{gapi.load?l():r(Ti(n,"network-request-failed"))},Ek(`${w3()}?onload=${c}`).catch(f=>r(f))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function Cz(n){return Gh=Gh||Iz(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new Bc(5e3,15e3),Rz="__/auth/iframe",Pz="emulator/auth/iframe",Oz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dz(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const r=e.emulator?z_(e,Pz):`https://${n.config.authDomain}/${Rz}`,i={apiKey:e.apiKey,appName:n.name,v:zl},s=Nz.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${Vc(i).slice(1)}`}async function Mz(n){const e=await Cz(n),r=Si().gapi;return je(r,n,"internal-error"),e.open({where:document.body,url:Dz(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oz,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Ti(n,"network-request-failed"),c=Si().setTimeout(()=>{o(l)},Az.get());function f(){Si().clearTimeout(c),s(i)}i.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fz=500,Vz=600,zz="_blank",$z="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uz(n,e,r,i=Fz,s=Vz){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const f=Object.assign(Object.assign({},Lz),{width:i.toString(),height:s.toString(),top:o,left:l}),d=En().toLowerCase();r&&(c=pk(d)?zz:r),hk(d)&&(e=e||$z,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[v,S])=>`${_}${v}=${S},`,"");if(f3(d)&&c!=="_self")return jz(e||"",c),new WE(null);const g=window.open(e||"",c,m);je(g,n,"popup-blocked");try{g.focus()}catch{}return new WE(g)}function jz(n,e){const r=document.createElement("a");r.href=n,r.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="__/auth/handler",Hz="emulator/auth/handler",qz=encodeURIComponent("fac");async function GE(n,e,r,i,s,o){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:i,v:zl,eventId:s};if(e instanceof Sk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",FM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Hc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await n._getAppCheckToken(),d=f?`#${qz}=${encodeURIComponent(f)}`:"";return`${Wz(n)}?${Vc(c).slice(1)}${d}`}function Wz({config:n}){return n.emulator?z_(n,Hz):`https://${n.authDomain}/${Bz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class Gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=yz,this._overrideRedirectResult=pz}async _openPopup(e,r,i,s){var o;ds((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await GE(e,r,i,my(),s);return Uz(e,l,H_())}async _openRedirect(e,r,i,s){await this._originValidation(e);const o=await GE(e,r,i,my(),s);return Y3(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:o}=this.eventManagers[r];return s?Promise.resolve(s):(ds(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[r]={promise:i},i.catch(()=>{delete this.eventManagers[r]}),i}async initAndGetManager(e){const r=await Mz(e),i=new vz(e);return r.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=r,i}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(fg,{type:fg},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[fg];l!==void 0&&r(!!l),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Sz(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return vk()||dk()||U_()}}const Kz=Gz;var KE="@firebase/auth",QE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xz(n){Sl(new ra("auth",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wk(n)},d=new y3(i,s,o,f);return I3(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,i)=>{e.getProvider("auth-internal").initialize()})),Sl(new ra("auth-internal",e=>{const r=Bl(e.getProvider("auth").getImmediate());return(i=>new Qz(i))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(KE,QE,Yz(n)),ro(KE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=5*60,Zz=GS("authIdTokenMaxAge")||Jz;let YE=null;const e5=n=>async e=>{const r=e&&await e.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Zz)return;const s=r==null?void 0:r.token;YE!==s&&(YE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t5(n=XS()){const e=m_(n,"auth");if(e.isInitialized())return e.getImmediate();const r=k3(n,{popupRedirectResolver:Kz,persistence:[sz,G3,Rk]}),i=GS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=e5(o.toString());H3(r,l,()=>l(r.currentUser)),B3(r,c=>l(c))}}const s=qS("auth");return s&&C3(r,`http://${s}`),r}function n5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_3({loadJS(n){return new Promise((e,r)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=Ti("internal-error");o.customData=s,r(o)},i.type="text/javascript",i.charset="UTF-8",n5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xz("Browser");const r5={apiKey:"AIzaSyCzEWST07nqhvoP8nXRgokcshDYCV_4Mi0",authDomain:"nodos-f2d11.firebaseapp.com",projectId:"nodos-f2d11",storageBucket:"nodos-f2d11.firebasestorage.app",messagingSenderId:"539504463480",appId:"1:539504463480:web:eb658748b9a7bce031678d",measurementId:"G-0H4TB74QPZ"},Fk=YS(r5),Vk=NV(Fk),i5=t5(Fk),Wc=K.createContext(),s5=()=>{const[n,e]=K.useState(null),{login:r,user:i}=K.useContext(Wc),s=Jy();K.useEffect(()=>{i!=null&&s("/planning/dashboard")});const o=$S().shape({email:Gg().email("El correo no es vlido").required("El correo es obligatorio"),password:Gg().min(6,"La contrasea debe tener al menos 6 caracteres").required("La contrasea es obligatoria")}),l=async(f,d)=>{await j3(i5,f,d).then(m=>{const g=m.user;r(g),s("/planning/dashboard")}).catch(m=>{console.log(m.message),e("Invalid User"),setTimeout(()=>{e(null)},5e3)})},c=(f,{setSubmitting:d})=>{l(f.email,f.password),d(!1)};return De.jsxs("div",{className:"loginForm",style:{maxWidth:"450px",margin:"0 auto",padding:"40px",border:"1px solid gray",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[De.jsx("h2",{children:"Login"}),De.jsx("p",{style:{color:"red"},children:n}),De.jsx(xD,{initialValues:{email:"",password:""},validationSchema:o,onSubmit:c,children:({isSubmitting:f})=>De.jsxs(NS,{children:[De.jsxs("div",{style:{marginBottom:"15px"},children:[De.jsx("label",{htmlFor:"email",children:"Correo:"}),De.jsx(S1,{id:"email",name:"email",type:"email",style:{display:"block",width:"400px",height:"20px",padding:"8px",borderRadius:"18px"}}),De.jsx(k1,{name:"email",component:"span",style:{color:"red"}})]}),De.jsxs("div",{style:{marginBottom:"15px"},children:[De.jsx("label",{htmlFor:"password",children:"Contrasea:"}),De.jsx(S1,{id:"password",name:"password",type:"password",style:{display:"block",width:"400px",height:"20px",padding:"8px",borderRadius:"18px"}}),De.jsx(k1,{name:"password",component:"span",style:{color:"red"}})]}),De.jsx("button",{type:"submit",disabled:f,style:{padding:"10px 15px",backgroundColor:"#007BFF",color:"#fff",border:"none",cursor:"pointer"},children:f?"Enviando...":"Iniciar sesin"})]})})]})};function o5(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function a5(n,e,r){return e=m5(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function XE(n,e){return c5(n)||o5(n,e)||zk(n,e)||d5()}function l5(n){return u5(n)||f5(n)||zk(n)||h5()}function u5(n){if(Array.isArray(n))return _y(n)}function c5(n){if(Array.isArray(n))return n}function f5(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zk(n,e){if(n){if(typeof n=="string")return _y(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _y(n,e)}}function _y(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function h5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p5(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function m5(n){var e=p5(n,"string");return typeof e=="symbol"?e:String(e)}var g5=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(l5(Object.entries(e).filter(function(s){var o=XE(s,1),l=o[0];return!i.has(l)}).map(function(s){var o=XE(s,2),l=o[0],c=o[1];return a5({},l,c)}))))};function vy(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function y5(n){if(Array.isArray(n))return n}function _5(n){if(Array.isArray(n))return vy(n)}function v5(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function w5(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function E5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5(n,e){return y5(n)||w5(n,e)||$k(n,e)||E5()}function JE(n){return _5(n)||v5(n)||$k(n)||x5()}function $k(n,e){if(n){if(typeof n=="string")return vy(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vy(n,e):void 0}}function S5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(m){return m}:s,l=e.methodNames,c=l===void 0?[]:l,f=e.initPropNames,d=f===void 0?[]:f;return K.forwardRef(function(m,g){var _=K.useRef(),v=K.useMemo(function(){var I=Object.fromEntries(d.filter(function(T){return m.hasOwnProperty(T)}).map(function(T){return[T,m[T]]}));return n(I)},[]);ZE(function(){v(o(_.current))},K.useLayoutEffect),ZE(function(){return v._destructor instanceof Function?v._destructor:void 0});var S=K.useCallback(function(I){for(var T=arguments.length,P=new Array(T>1?T-1:0),F=1;F<T;F++)P[F-1]=arguments[F];return v[I]instanceof Function?v[I].apply(v,P):void 0},[v]),k=K.useRef({});return Object.keys(g5(m,[].concat(JE(c),JE(d)))).filter(function(I){return k.current[I]!==m[I]}).forEach(function(I){return S(I,m[I])}),k.current=m,K.useImperativeHandle(g,function(){return Object.fromEntries(c.map(function(I){return[I,function(){for(var T=arguments.length,P=new Array(T),F=0;F<T;F++)P[F]=arguments[F];return S.apply(void 0,[I].concat(P))}]}))},[S]),LA.createElement(i,{ref:_})})}function ZE(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K.useEffect,r=K.useRef(),i=K.useRef(!1),s=K.useRef(!1),o=K.useState(0),l=T5(o,2);l[0];var c=l[1];i.current&&(s.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),c(function(f){return f+1}),function(){s.current&&r.current&&r.current()}},[])}var wy="http://www.w3.org/1999/xhtml";const ex={svg:"http://www.w3.org/2000/svg",xhtml:wy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tp(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),ex.hasOwnProperty(e)?{space:ex[e],local:n}:n}function b5(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===wy&&e.documentElement.namespaceURI===wy?e.createElement(n):e.createElementNS(r,n)}}function k5(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Uk(n){var e=tp(n);return(e.local?k5:b5)(e)}function I5(){}function W_(n){return n==null?I5:function(){return this.querySelector(n)}}function C5(n){typeof n!="function"&&(n=W_(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],l=o.length,c=i[s]=new Array(l),f,d,m=0;m<l;++m)(f=o[m])&&(d=n.call(f,f.__data__,m,o))&&("__data__"in f&&(d.__data__=f.__data__),c[m]=d);return new ur(i,this._parents)}function A5(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function R5(){return[]}function jk(n){return n==null?R5:function(){return this.querySelectorAll(n)}}function P5(n){return function(){return A5(n.apply(this,arguments))}}function O5(n){typeof n=="function"?n=P5(n):n=jk(n);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var l=e[o],c=l.length,f,d=0;d<c;++d)(f=l[d])&&(i.push(n.call(f,f.__data__,d,l)),s.push(f));return new ur(i,s)}function Bk(n){return function(){return this.matches(n)}}function Hk(n){return function(e){return e.matches(n)}}var N5=Array.prototype.find;function D5(n){return function(){return N5.call(this.children,n)}}function M5(){return this.firstElementChild}function L5(n){return this.select(n==null?M5:D5(typeof n=="function"?n:Hk(n)))}var F5=Array.prototype.filter;function V5(){return Array.from(this.children)}function z5(n){return function(){return F5.call(this.children,n)}}function $5(n){return this.selectAll(n==null?V5:z5(typeof n=="function"?n:Hk(n)))}function U5(n){typeof n!="function"&&(n=Bk(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],l=o.length,c=i[s]=[],f,d=0;d<l;++d)(f=o[d])&&n.call(f,f.__data__,d,o)&&c.push(f);return new ur(i,this._parents)}function qk(n){return new Array(n.length)}function j5(){return new ur(this._enter||this._groups.map(qk),this._parents)}function vd(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}vd.prototype={constructor:vd,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function B5(n){return function(){return n}}function H5(n,e,r,i,s,o){for(var l=0,c,f=e.length,d=o.length;l<d;++l)(c=e[l])?(c.__data__=o[l],i[l]=c):r[l]=new vd(n,o[l]);for(;l<f;++l)(c=e[l])&&(s[l]=c)}function q5(n,e,r,i,s,o,l){var c,f,d=new Map,m=e.length,g=o.length,_=new Array(m),v;for(c=0;c<m;++c)(f=e[c])&&(_[c]=v=l.call(f,f.__data__,c,e)+"",d.has(v)?s[c]=f:d.set(v,f));for(c=0;c<g;++c)v=l.call(n,o[c],c,o)+"",(f=d.get(v))?(i[c]=f,f.__data__=o[c],d.delete(v)):r[c]=new vd(n,o[c]);for(c=0;c<m;++c)(f=e[c])&&d.get(_[c])===f&&(s[c]=f)}function W5(n){return n.__data__}function G5(n,e){if(!arguments.length)return Array.from(this,W5);var r=e?q5:H5,i=this._parents,s=this._groups;typeof n!="function"&&(n=B5(n));for(var o=s.length,l=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var m=i[d],g=s[d],_=g.length,v=K5(n.call(m,m&&m.__data__,d,i)),S=v.length,k=c[d]=new Array(S),I=l[d]=new Array(S),T=f[d]=new Array(_);r(m,g,k,I,T,v,e);for(var P=0,F=0,U,N;P<S;++P)if(U=k[P]){for(P>=F&&(F=P+1);!(N=I[F])&&++F<S;);U._next=N||null}}return l=new ur(l,i),l._enter=c,l._exit=f,l}function K5(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Q5(){return new ur(this._exit||this._groups.map(qk),this._parents)}function Y5(n,e,r){var i=this.enter(),s=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function X5(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,s=r.length,o=i.length,l=Math.min(s,o),c=new Array(s),f=0;f<l;++f)for(var d=r[f],m=i[f],g=d.length,_=c[f]=new Array(g),v,S=0;S<g;++S)(v=d[S]||m[S])&&(_[S]=v);for(;f<s;++f)c[f]=r[f];return new ur(c,this._parents)}function J5(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],s=i.length-1,o=i[s],l;--s>=0;)(l=i[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Z5(n){n||(n=e6);function e(g,_){return g&&_?n(g.__data__,_.__data__):!g-!_}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var l=r[o],c=l.length,f=s[o]=new Array(c),d,m=0;m<c;++m)(d=l[m])&&(f[m]=d);f.sort(e)}return new ur(s,this._parents).order()}function e6(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function t6(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function n6(){return Array.from(this)}function r6(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length;s<o;++s){var l=i[s];if(l)return l}return null}function i6(){let n=0;for(const e of this)++n;return n}function s6(){return!this.node()}function o6(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,l=s.length,c;o<l;++o)(c=s[o])&&n.call(c,c.__data__,o,s);return this}function a6(n){return function(){this.removeAttribute(n)}}function l6(n){return function(){this.removeAttributeNS(n.space,n.local)}}function u6(n,e){return function(){this.setAttribute(n,e)}}function c6(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function f6(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function h6(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function d6(n,e){var r=tp(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?l6:a6:typeof e=="function"?r.local?h6:f6:r.local?c6:u6)(r,e))}function Wk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function p6(n){return function(){this.style.removeProperty(n)}}function m6(n,e,r){return function(){this.style.setProperty(n,e,r)}}function g6(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function y6(n,e,r){return arguments.length>1?this.each((e==null?p6:typeof e=="function"?g6:m6)(n,e,r??"")):Ol(this.node(),n)}function Ol(n,e){return n.style.getPropertyValue(e)||Wk(n).getComputedStyle(n,null).getPropertyValue(e)}function _6(n){return function(){delete this[n]}}function v6(n,e){return function(){this[n]=e}}function w6(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function E6(n,e){return arguments.length>1?this.each((e==null?_6:typeof e=="function"?w6:v6)(n,e)):this.node()[n]}function Gk(n){return n.trim().split(/^|\s+/)}function G_(n){return n.classList||new Kk(n)}function Kk(n){this._node=n,this._names=Gk(n.getAttribute("class")||"")}Kk.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Qk(n,e){for(var r=G_(n),i=-1,s=e.length;++i<s;)r.add(e[i])}function Yk(n,e){for(var r=G_(n),i=-1,s=e.length;++i<s;)r.remove(e[i])}function x6(n){return function(){Qk(this,n)}}function T6(n){return function(){Yk(this,n)}}function S6(n,e){return function(){(e.apply(this,arguments)?Qk:Yk)(this,n)}}function b6(n,e){var r=Gk(n+"");if(arguments.length<2){for(var i=G_(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?S6:e?x6:T6)(r,e))}function k6(){this.textContent=""}function I6(n){return function(){this.textContent=n}}function C6(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function A6(n){return arguments.length?this.each(n==null?k6:(typeof n=="function"?C6:I6)(n)):this.node().textContent}function R6(){this.innerHTML=""}function P6(n){return function(){this.innerHTML=n}}function O6(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function N6(n){return arguments.length?this.each(n==null?R6:(typeof n=="function"?O6:P6)(n)):this.node().innerHTML}function D6(){this.nextSibling&&this.parentNode.appendChild(this)}function M6(){return this.each(D6)}function L6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F6(){return this.each(L6)}function V6(n){var e=typeof n=="function"?n:Uk(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function z6(){return null}function $6(n,e){var r=typeof n=="function"?n:Uk(n),i=e==null?z6:typeof e=="function"?e:W_(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function U6(){var n=this.parentNode;n&&n.removeChild(this)}function j6(){return this.each(U6)}function B6(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function H6(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function q6(n){return this.select(n?H6:B6)}function W6(n){return arguments.length?this.property("__data__",n):this.node().__data__}function G6(n){return function(e){n.call(this,e,this.__data__)}}function K6(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function Q6(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Y6(n,e,r){return function(){var i=this.__on,s,o=G6(e);if(i){for(var l=0,c=i.length;l<c;++l)if((s=i[l]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function X6(n,e,r){var i=K6(n+""),s,o=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,m;f<d;++f)for(s=0,m=c[f];s<o;++s)if((l=i[s]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?Y6:Q6,s=0;s<o;++s)this.each(c(i[s],e,r));return this}function Xk(n,e,r){var i=Wk(n),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function J6(n,e){return function(){return Xk(this,n,e)}}function Z6(n,e){return function(){return Xk(this,n,e.apply(this,arguments))}}function e9(n,e){return this.each((typeof e=="function"?Z6:J6)(n,e))}function*t9(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,l;s<o;++s)(l=i[s])&&(yield l)}var Jk=[null];function ur(n,e){this._groups=n,this._parents=e}function Gc(){return new ur([[document.documentElement]],Jk)}function n9(){return this}ur.prototype=Gc.prototype={constructor:ur,select:C5,selectAll:O5,selectChild:L5,selectChildren:$5,filter:U5,data:G5,enter:j5,exit:Q5,join:Y5,merge:X5,selection:n9,order:J5,sort:Z5,call:t6,nodes:n6,node:r6,size:i6,empty:s6,each:o6,attr:d6,style:y6,property:E6,classed:b6,text:A6,html:N6,raise:M6,lower:F6,append:V6,insert:$6,remove:j6,clone:q6,datum:W6,on:X6,dispatch:e9,[Symbol.iterator]:t9};function br(n){return typeof n=="string"?new ur([[document.querySelector(n)]],[document.documentElement]):new ur([[n]],Jk)}function r9(n){let e;for(;e=n.sourceEvent;)n=e;return n}function _i(n,e){if(n=r9(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}var i9={value:()=>{}};function Kc(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Kh(r)}function Kh(n){this._=n}function s9(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Kh.prototype=Kc.prototype={constructor:Kh,on:function(n,e){var r=this._,i=s9(n+"",r),s,o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((s=(n=i[o]).type)&&(s=o9(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(s=(n=i[o]).type)r[s]=tx(r[s],n.name,e);else if(e==null)for(s in r)r[s]=tx(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new Kh(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function o9(n,e){for(var r=0,i=n.length,s;r<i;++r)if((s=n[r]).name===e)return s.value}function tx(n,e,r){for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n[i]=i9,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}const a9={passive:!1},bc={capture:!0,passive:!1};function hg(n){n.stopImmediatePropagation()}function vl(n){n.preventDefault(),n.stopImmediatePropagation()}function Zk(n){var e=n.document.documentElement,r=br(n).on("dragstart.drag",vl,bc);"onselectstart"in e?r.on("selectstart.drag",vl,bc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function eI(n,e){var r=n.document.documentElement,i=br(n).on("dragstart.drag",null);e&&(i.on("click.drag",vl,bc),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const bh=n=>()=>n;function Ey(n,{sourceEvent:e,subject:r,target:i,identifier:s,active:o,x:l,y:c,dx:f,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}Ey.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function l9(n){return!n.ctrlKey&&!n.button}function u9(){return this.parentNode}function c9(n,e){return e??{x:n.x,y:n.y}}function f9(){return navigator.maxTouchPoints||"ontouchstart"in this}function h9(){var n=l9,e=u9,r=c9,i=f9,s={},o=Kc("start","drag","end"),l=0,c,f,d,m,g=0;function _(U){U.on("mousedown.drag",v).filter(i).on("touchstart.drag",I).on("touchmove.drag",T,a9).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(U,N){if(!(m||!n.call(this,U,N))){var O=F(this,e.call(this,U,N),U,N,"mouse");O&&(br(U.view).on("mousemove.drag",S,bc).on("mouseup.drag",k,bc),Zk(U.view),hg(U),d=!1,c=U.clientX,f=U.clientY,O("start",U))}}function S(U){if(vl(U),!d){var N=U.clientX-c,O=U.clientY-f;d=N*N+O*O>g}s.mouse("drag",U)}function k(U){br(U.view).on("mousemove.drag mouseup.drag",null),eI(U.view,d),vl(U),s.mouse("end",U)}function I(U,N){if(n.call(this,U,N)){var O=U.changedTouches,A=e.call(this,U,N),C=O.length,D,$;for(D=0;D<C;++D)($=F(this,A,U,N,O[D].identifier,O[D]))&&(hg(U),$("start",U,O[D]))}}function T(U){var N=U.changedTouches,O=N.length,A,C;for(A=0;A<O;++A)(C=s[N[A].identifier])&&(vl(U),C("drag",U,N[A]))}function P(U){var N=U.changedTouches,O=N.length,A,C;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),A=0;A<O;++A)(C=s[N[A].identifier])&&(hg(U),C("end",U,N[A]))}function F(U,N,O,A,C,D){var $=o.copy(),L=_i(D||O,N),j,M,q;if((q=r.call(U,new Ey("beforestart",{sourceEvent:O,target:_,identifier:C,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:$}),A))!=null)return j=q.x-L[0]||0,M=q.y-L[1]||0,function ie(oe,ce,se){var ue=L,V;switch(oe){case"start":s[C]=ie,V=l++;break;case"end":delete s[C],--l;case"drag":L=_i(se||ce,N),V=l;break}$.call(oe,U,new Ey(oe,{sourceEvent:ce,subject:q,target:_,identifier:C,active:V,x:L[0]+j,y:L[1]+M,dx:L[0]-ue[0],dy:L[1]-ue[1],dispatch:$}),A)}}return _.filter=function(U){return arguments.length?(n=typeof U=="function"?U:bh(!!U),_):n},_.container=function(U){return arguments.length?(e=typeof U=="function"?U:bh(U),_):e},_.subject=function(U){return arguments.length?(r=typeof U=="function"?U:bh(U),_):r},_.touchable=function(U){return arguments.length?(i=typeof U=="function"?U:bh(!!U),_):i},_.on=function(){var U=o.on.apply(o,arguments);return U===o?_:U},_.clickDistance=function(U){return arguments.length?(g=(U=+U)*U,_):Math.sqrt(g)},_}function K_(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function tI(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Qc(){}var kc=.7,wd=1/kc,wl="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d9=/^#([0-9a-f]{3,8})$/,p9=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),m9=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),g9=new RegExp(`^rgba\\(${wl},${wl},${wl},${Ic}\\)$`),y9=new RegExp(`^rgba\\(${bi},${bi},${bi},${Ic}\\)$`),_9=new RegExp(`^hsl\\(${Ic},${bi},${bi}\\)$`),v9=new RegExp(`^hsla\\(${Ic},${bi},${bi},${Ic}\\)$`),nx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K_(Qc,Cc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:rx,formatHex:rx,formatHex8:w9,formatHsl:E9,formatRgb:ix,toString:ix});function rx(){return this.rgb().formatHex()}function w9(){return this.rgb().formatHex8()}function E9(){return nI(this).formatHsl()}function ix(){return this.rgb().formatRgb()}function Cc(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=d9.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?sx(e):r===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=p9.exec(n))?new Bn(e[1],e[2],e[3],1):(e=m9.exec(n))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=g9.exec(n))?kh(e[1],e[2],e[3],e[4]):(e=y9.exec(n))?kh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_9.exec(n))?lx(e[1],e[2]/100,e[3]/100,1):(e=v9.exec(n))?lx(e[1],e[2]/100,e[3]/100,e[4]):nx.hasOwnProperty(n)?sx(nx[n]):n==="transparent"?new Bn(NaN,NaN,NaN,0):null}function sx(n){return new Bn(n>>16&255,n>>8&255,n&255,1)}function kh(n,e,r,i){return i<=0&&(n=e=r=NaN),new Bn(n,e,r,i)}function x9(n){return n instanceof Qc||(n=Cc(n)),n?(n=n.rgb(),new Bn(n.r,n.g,n.b,n.opacity)):new Bn}function xy(n,e,r,i){return arguments.length===1?x9(n):new Bn(n,e,r,i??1)}function Bn(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}K_(Bn,xy,tI(Qc,{brighter(n){return n=n==null?wd:Math.pow(wd,n),new Bn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?kc:Math.pow(kc,n),new Bn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Bn(Zo(this.r),Zo(this.g),Zo(this.b),Ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ox,formatHex:ox,formatHex8:T9,formatRgb:ax,toString:ax}));function ox(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function T9(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ax(){const n=Ed(this.opacity);return`${n===1?"rgb(":"rgba("}${Zo(this.r)}, ${Zo(this.g)}, ${Zo(this.b)}${n===1?")":`, ${n})`}`}function Ed(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Zo(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Qo(n){return n=Zo(n),(n<16?"0":"")+n.toString(16)}function lx(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Gr(n,e,r,i)}function nI(n){if(n instanceof Gr)return new Gr(n.h,n.s,n.l,n.opacity);if(n instanceof Qc||(n=Cc(n)),!n)return new Gr;if(n instanceof Gr)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),l=NaN,c=o-s,f=(o+s)/2;return c?(e===o?l=(r-i)/c+(r<i)*6:r===o?l=(i-e)/c+2:l=(e-r)/c+4,c/=f<.5?o+s:2-o-s,l*=60):c=f>0&&f<1?0:l,new Gr(l,c,f,n.opacity)}function S9(n,e,r,i){return arguments.length===1?nI(n):new Gr(n,e,r,i??1)}function Gr(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}K_(Gr,S9,tI(Qc,{brighter(n){return n=n==null?wd:Math.pow(wd,n),new Gr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?kc:Math.pow(kc,n),new Gr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new Bn(dg(n>=240?n-240:n+120,s,i),dg(n,s,i),dg(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Gr(ux(this.h),Ih(this.s),Ih(this.l),Ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ed(this.opacity);return`${n===1?"hsl(":"hsla("}${ux(this.h)}, ${Ih(this.s)*100}%, ${Ih(this.l)*100}%${n===1?")":`, ${n})`}`}}));function ux(n){return n=(n||0)%360,n<0?n+360:n}function Ih(n){return Math.max(0,Math.min(1,n||0))}function dg(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const rI=n=>()=>n;function b9(n,e){return function(r){return n+r*e}}function k9(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function I9(n){return(n=+n)==1?iI:function(e,r){return r-e?k9(e,r,n):rI(isNaN(e)?r:e)}}function iI(n,e){var r=e-n;return r?b9(n,r):rI(isNaN(n)?e:n)}const cx=function n(e){var r=I9(e);function i(s,o){var l=r((s=xy(s)).r,(o=xy(o)).r),c=r(s.g,o.g),f=r(s.b,o.b),d=iI(s.opacity,o.opacity);return function(m){return s.r=l(m),s.g=c(m),s.b=f(m),s.opacity=d(m),s+""}}return i.gamma=n,i}(1);function Ws(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var Ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pg=new RegExp(Ty.source,"g");function C9(n){return function(){return n}}function A9(n){return function(e){return n(e)+""}}function R9(n,e){var r=Ty.lastIndex=pg.lastIndex=0,i,s,o,l=-1,c=[],f=[];for(n=n+"",e=e+"";(i=Ty.exec(n))&&(s=pg.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),c[l]?c[l]+=o:c[++l]=o),(i=i[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,f.push({i:l,x:Ws(i,s)})),r=pg.lastIndex;return r<e.length&&(o=e.slice(r),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?A9(f[0].x):C9(e):(e=f.length,function(d){for(var m=0,g;m<e;++m)c[(g=f[m]).i]=g.x(d);return c.join("")})}var fx=180/Math.PI,Sy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sI(n,e,r,i,s,o){var l,c,f;return(l=Math.sqrt(n*n+e*e))&&(n/=l,e/=l),(f=n*r+e*i)&&(r-=n*f,i-=e*f),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,f/=c),n*i<e*r&&(n=-n,e=-e,f=-f,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*fx,skewX:Math.atan(f)*fx,scaleX:l,scaleY:c}}var Ch;function P9(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Sy:sI(e.a,e.b,e.c,e.d,e.e,e.f)}function O9(n){return n==null||(Ch||(Ch=document.createElementNS("http://www.w3.org/2000/svg","g")),Ch.setAttribute("transform",n),!(n=Ch.transform.baseVal.consolidate()))?Sy:(n=n.matrix,sI(n.a,n.b,n.c,n.d,n.e,n.f))}function oI(n,e,r,i){function s(d){return d.length?d.pop()+" ":""}function o(d,m,g,_,v,S){if(d!==g||m!==_){var k=v.push("translate(",null,e,null,r);S.push({i:k-4,x:Ws(d,g)},{i:k-2,x:Ws(m,_)})}else(g||_)&&v.push("translate("+g+e+_+r)}function l(d,m,g,_){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),_.push({i:g.push(s(g)+"rotate(",null,i)-2,x:Ws(d,m)})):m&&g.push(s(g)+"rotate("+m+i)}function c(d,m,g,_){d!==m?_.push({i:g.push(s(g)+"skewX(",null,i)-2,x:Ws(d,m)}):m&&g.push(s(g)+"skewX("+m+i)}function f(d,m,g,_,v,S){if(d!==g||m!==_){var k=v.push(s(v)+"scale(",null,",",null,")");S.push({i:k-4,x:Ws(d,g)},{i:k-2,x:Ws(m,_)})}else(g!==1||_!==1)&&v.push(s(v)+"scale("+g+","+_+")")}return function(d,m){var g=[],_=[];return d=n(d),m=n(m),o(d.translateX,d.translateY,m.translateX,m.translateY,g,_),l(d.rotate,m.rotate,g,_),c(d.skewX,m.skewX,g,_),f(d.scaleX,d.scaleY,m.scaleX,m.scaleY,g,_),d=m=null,function(v){for(var S=-1,k=_.length,I;++S<k;)g[(I=_[S]).i]=I.x(v);return g.join("")}}}var N9=oI(P9,"px, ","px)","deg)"),D9=oI(O9,", ",")",")"),M9=1e-12;function hx(n){return((n=Math.exp(n))+1/n)/2}function L9(n){return((n=Math.exp(n))-1/n)/2}function F9(n){return((n=Math.exp(2*n))-1)/(n+1)}const V9=function n(e,r,i){function s(o,l){var c=o[0],f=o[1],d=o[2],m=l[0],g=l[1],_=l[2],v=m-c,S=g-f,k=v*v+S*S,I,T;if(k<M9)T=Math.log(_/d)/e,I=function(A){return[c+A*v,f+A*S,d*Math.exp(e*A*T)]};else{var P=Math.sqrt(k),F=(_*_-d*d+i*k)/(2*d*r*P),U=(_*_-d*d-i*k)/(2*_*r*P),N=Math.log(Math.sqrt(F*F+1)-F),O=Math.log(Math.sqrt(U*U+1)-U);T=(O-N)/e,I=function(A){var C=A*T,D=hx(N),$=d/(r*P)*(D*F9(e*C+N)-L9(N));return[c+$*v,f+$*S,d*D/hx(e*C+N)]}}return I.duration=T*1e3*e/Math.SQRT2,I}return s.rho=function(o){var l=Math.max(.001,+o),c=l*l,f=c*c;return n(l,c,f)},s}(Math.SQRT2,2,4);var Nl=0,Xu=0,Mu=0,aI=1e3,xd,Ju,Td=0,oa=0,np=0,Ac=typeof performance=="object"&&performance.now?performance:Date,lI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Q_(){return oa||(lI(z9),oa=Ac.now()+np)}function z9(){oa=0}function Sd(){this._call=this._time=this._next=null}Sd.prototype=Y_.prototype={constructor:Sd,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?Q_():+r)+(e==null?0:+e),!this._next&&Ju!==this&&(Ju?Ju._next=this:xd=this,Ju=this),this._call=n,this._time=r,by()},stop:function(){this._call&&(this._call=null,this._time=1/0,by())}};function Y_(n,e,r){var i=new Sd;return i.restart(n,e,r),i}function $9(){Q_(),++Nl;for(var n=xd,e;n;)(e=oa-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Nl}function dx(){oa=(Td=Ac.now())+np,Nl=Xu=0;try{$9()}finally{Nl=0,j9(),oa=0}}function U9(){var n=Ac.now(),e=n-Td;e>aI&&(np-=e,Td=n)}function j9(){for(var n,e=xd,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:xd=r);Ju=n,by(i)}function by(n){if(!Nl){Xu&&(Xu=clearTimeout(Xu));var e=n-oa;e>24?(n<1/0&&(Xu=setTimeout(dx,n-Ac.now()-np)),Mu&&(Mu=clearInterval(Mu))):(Mu||(Td=Ac.now(),Mu=setInterval(U9,aI)),Nl=1,lI(dx))}}function px(n,e,r){var i=new Sd;return e=e==null?0:+e,i.restart(s=>{i.stop(),n(s+e)},e,r),i}var B9=Kc("start","end","cancel","interrupt"),H9=[],uI=0,mx=1,ky=2,Qh=3,gx=4,Iy=5,Yh=6;function rp(n,e,r,i,s,o){var l=n.__transition;if(!l)n.__transition={};else if(r in l)return;q9(n,r,{name:e,index:i,group:s,on:B9,tween:H9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:uI})}function X_(n,e){var r=Zr(n,e);if(r.state>uI)throw new Error("too late; already scheduled");return r}function Oi(n,e){var r=Zr(n,e);if(r.state>Qh)throw new Error("too late; already running");return r}function Zr(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function q9(n,e,r){var i=n.__transition,s;i[e]=r,r.timer=Y_(o,0,r.time);function o(d){r.state=mx,r.timer.restart(l,r.delay,r.time),r.delay<=d&&l(d-r.delay)}function l(d){var m,g,_,v;if(r.state!==mx)return f();for(m in i)if(v=i[m],v.name===r.name){if(v.state===Qh)return px(l);v.state===gx?(v.state=Yh,v.timer.stop(),v.on.call("interrupt",n,n.__data__,v.index,v.group),delete i[m]):+m<e&&(v.state=Yh,v.timer.stop(),v.on.call("cancel",n,n.__data__,v.index,v.group),delete i[m])}if(px(function(){r.state===Qh&&(r.state=gx,r.timer.restart(c,r.delay,r.time),c(d))}),r.state=ky,r.on.call("start",n,n.__data__,r.index,r.group),r.state===ky){for(r.state=Qh,s=new Array(_=r.tween.length),m=0,g=-1;m<_;++m)(v=r.tween[m].value.call(n,n.__data__,r.index,r.group))&&(s[++g]=v);s.length=g+1}}function c(d){for(var m=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(f),r.state=Iy,1),g=-1,_=s.length;++g<_;)s[g].call(n,m);r.state===Iy&&(r.on.call("end",n,n.__data__,r.index,r.group),f())}function f(){r.state=Yh,r.timer.stop(),delete i[e];for(var d in i)return;delete n.__transition}}function Xh(n,e){var r=n.__transition,i,s,o=!0,l;if(r){e=e==null?null:e+"";for(l in r){if((i=r[l]).name!==e){o=!1;continue}s=i.state>ky&&i.state<Iy,i.state=Yh,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[l]}o&&delete n.__transition}}function W9(n){return this.each(function(){Xh(this,n)})}function G9(n,e){var r,i;return function(){var s=Oi(this,n),o=s.tween;if(o!==r){i=r=o;for(var l=0,c=i.length;l<c;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}s.tween=i}}function K9(n,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=Oi(this,n),l=o.tween;if(l!==i){s=(i=l).slice();for(var c={name:e,value:r},f=0,d=s.length;f<d;++f)if(s[f].name===e){s[f]=c;break}f===d&&s.push(c)}o.tween=s}}function Q9(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=Zr(this.node(),r).tween,s=0,o=i.length,l;s<o;++s)if((l=i[s]).name===n)return l.value;return null}return this.each((e==null?G9:K9)(r,n,e))}function J_(n,e,r){var i=n._id;return n.each(function(){var s=Oi(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return Zr(s,i).value[e]}}function cI(n,e){var r;return(typeof e=="number"?Ws:e instanceof Cc?cx:(r=Cc(e))?(e=r,cx):R9)(n,e)}function Y9(n){return function(){this.removeAttribute(n)}}function X9(n){return function(){this.removeAttributeNS(n.space,n.local)}}function J9(n,e,r){var i,s=r+"",o;return function(){var l=this.getAttribute(n);return l===s?null:l===i?o:o=e(i=l,r)}}function Z9(n,e,r){var i,s=r+"",o;return function(){var l=this.getAttributeNS(n.space,n.local);return l===s?null:l===i?o:o=e(i=l,r)}}function e$(n,e,r){var i,s,o;return function(){var l,c=r(this),f;return c==null?void this.removeAttribute(n):(l=this.getAttribute(n),f=c+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,c)))}}function t$(n,e,r){var i,s,o;return function(){var l,c=r(this),f;return c==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),f=c+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,c)))}}function n$(n,e){var r=tp(n),i=r==="transform"?D9:cI;return this.attrTween(n,typeof e=="function"?(r.local?t$:e$)(r,i,J_(this,"attr."+n,e)):e==null?(r.local?X9:Y9)(r):(r.local?Z9:J9)(r,i,e))}function r$(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function i$(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function s$(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&i$(n,o)),r}return s._value=e,s}function o$(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&r$(n,o)),r}return s._value=e,s}function a$(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=tp(n);return this.tween(r,(i.local?s$:o$)(i,e))}function l$(n,e){return function(){X_(this,n).delay=+e.apply(this,arguments)}}function u$(n,e){return e=+e,function(){X_(this,n).delay=e}}function c$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?l$:u$)(e,n)):Zr(this.node(),e).delay}function f$(n,e){return function(){Oi(this,n).duration=+e.apply(this,arguments)}}function h$(n,e){return e=+e,function(){Oi(this,n).duration=e}}function d$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?f$:h$)(e,n)):Zr(this.node(),e).duration}function p$(n,e){if(typeof e!="function")throw new Error;return function(){Oi(this,n).ease=e}}function m$(n){var e=this._id;return arguments.length?this.each(p$(e,n)):Zr(this.node(),e).ease}function g$(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Oi(this,n).ease=r}}function y$(n){if(typeof n!="function")throw new Error;return this.each(g$(this._id,n))}function _$(n){typeof n!="function"&&(n=Bk(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],l=o.length,c=i[s]=[],f,d=0;d<l;++d)(f=o[d])&&n.call(f,f.__data__,d,o)&&c.push(f);return new ps(i,this._parents,this._name,this._id)}function v$(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),l=new Array(i),c=0;c<o;++c)for(var f=e[c],d=r[c],m=f.length,g=l[c]=new Array(m),_,v=0;v<m;++v)(_=f[v]||d[v])&&(g[v]=_);for(;c<i;++c)l[c]=e[c];return new ps(l,this._parents,this._name,this._id)}function w$(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function E$(n,e,r){var i,s,o=w$(e)?X_:Oi;return function(){var l=o(this,n),c=l.on;c!==i&&(s=(i=c).copy()).on(e,r),l.on=s}}function x$(n,e){var r=this._id;return arguments.length<2?Zr(this.node(),r).on.on(n):this.each(E$(r,n,e))}function T$(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function S$(){return this.on("end.remove",T$(this._id))}function b$(n){var e=this._name,r=this._id;typeof n!="function"&&(n=W_(n));for(var i=this._groups,s=i.length,o=new Array(s),l=0;l<s;++l)for(var c=i[l],f=c.length,d=o[l]=new Array(f),m,g,_=0;_<f;++_)(m=c[_])&&(g=n.call(m,m.__data__,_,c))&&("__data__"in m&&(g.__data__=m.__data__),d[_]=g,rp(d[_],e,r,_,d,Zr(m,r)));return new ps(o,this._parents,e,r)}function k$(n){var e=this._name,r=this._id;typeof n!="function"&&(n=jk(n));for(var i=this._groups,s=i.length,o=[],l=[],c=0;c<s;++c)for(var f=i[c],d=f.length,m,g=0;g<d;++g)if(m=f[g]){for(var _=n.call(m,m.__data__,g,f),v,S=Zr(m,r),k=0,I=_.length;k<I;++k)(v=_[k])&&rp(v,e,r,k,_,S);o.push(_),l.push(m)}return new ps(o,l,e,r)}var I$=Gc.prototype.constructor;function C$(){return new I$(this._groups,this._parents)}function A$(n,e){var r,i,s;return function(){var o=Ol(this,n),l=(this.style.removeProperty(n),Ol(this,n));return o===l?null:o===r&&l===i?s:s=e(r=o,i=l)}}function fI(n){return function(){this.style.removeProperty(n)}}function R$(n,e,r){var i,s=r+"",o;return function(){var l=Ol(this,n);return l===s?null:l===i?o:o=e(i=l,r)}}function P$(n,e,r){var i,s,o;return function(){var l=Ol(this,n),c=r(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(n),Ol(this,n))),l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,c))}}function O$(n,e){var r,i,s,o="style."+e,l="end."+o,c;return function(){var f=Oi(this,n),d=f.on,m=f.value[o]==null?c||(c=fI(e)):void 0;(d!==r||s!==m)&&(i=(r=d).copy()).on(l,s=m),f.on=i}}function N$(n,e,r){var i=(n+="")=="transform"?N9:cI;return e==null?this.styleTween(n,A$(n,i)).on("end.style."+n,fI(n)):typeof e=="function"?this.styleTween(n,P$(n,i,J_(this,"style."+n,e))).each(O$(this._id,n)):this.styleTween(n,R$(n,i,e),r).on("end.style."+n,null)}function D$(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function M$(n,e,r){var i,s;function o(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&D$(n,l,r)),i}return o._value=e,o}function L$(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,M$(n,e,r??""))}function F$(n){return function(){this.textContent=n}}function V$(n){return function(){var e=n(this);this.textContent=e??""}}function z$(n){return this.tween("text",typeof n=="function"?V$(J_(this,"text",n)):F$(n==null?"":n+""))}function $$(n){return function(e){this.textContent=n.call(this,e)}}function U$(n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&$$(s)),e}return i._value=n,i}function j$(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,U$(n))}function B$(){for(var n=this._name,e=this._id,r=hI(),i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],c=l.length,f,d=0;d<c;++d)if(f=l[d]){var m=Zr(f,e);rp(f,n,r,d,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ps(i,this._parents,n,r)}function H$(){var n,e,r=this,i=r._id,s=r.size();return new Promise(function(o,l){var c={value:l},f={value:function(){--s===0&&o()}};r.each(function(){var d=Oi(this,i),m=d.on;m!==n&&(e=(n=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),d.on=e}),s===0&&o()})}var q$=0;function ps(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function hI(){return++q$}var Ki=Gc.prototype;ps.prototype={constructor:ps,select:b$,selectAll:k$,selectChild:Ki.selectChild,selectChildren:Ki.selectChildren,filter:_$,merge:v$,selection:C$,transition:B$,call:Ki.call,nodes:Ki.nodes,node:Ki.node,size:Ki.size,empty:Ki.empty,each:Ki.each,on:x$,attr:n$,attrTween:a$,style:N$,styleTween:L$,text:z$,textTween:j$,remove:S$,tween:Q9,delay:c$,duration:d$,ease:m$,easeVarying:y$,end:H$,[Symbol.iterator]:Ki[Symbol.iterator]};function W$(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var G$={time:null,delay:0,duration:250,ease:W$};function K$(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function Q$(n){var e,r;n instanceof ps?(e=n._id,n=n._name):(e=hI(),(r=G$).time=Q_(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],c=l.length,f,d=0;d<c;++d)(f=l[d])&&rp(f,n,e,d,l,r||K$(f,e));return new ps(i,this._parents,n,e)}Gc.prototype.interrupt=W9;Gc.prototype.transition=Q$;const Ah=n=>()=>n;function Y$(n,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function is(n,e,r){this.k=n,this.x=e,this.y=r}is.prototype={constructor:is,scale:function(n){return n===1?this:new is(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new is(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Z_=new is(1,0,0);pi.prototype=is.prototype;function pi(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Z_;return n.__zoom}function mg(n){n.stopImmediatePropagation()}function Lu(n){n.preventDefault(),n.stopImmediatePropagation()}function X$(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function J$(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function yx(){return this.__zoom||Z_}function Z$(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function eU(){return navigator.maxTouchPoints||"ontouchstart"in this}function tU(n,e,r){var i=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],l=n.invertY(e[1][1])-r[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function nU(){var n=X$,e=J$,r=tU,i=Z$,s=eU,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=V9,d=Kc("start","zoom","end"),m,g,_,v=500,S=150,k=0,I=10;function T(q){q.property("__zoom",yx).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",$).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(q,ie,oe,ce){var se=q.selection?q.selection():q;se.property("__zoom",yx),q!==se?N(q,ie,oe,ce):se.interrupt().each(function(){O(this,arguments).event(ce).start().zoom(null,typeof ie=="function"?ie.apply(this,arguments):ie).end()})},T.scaleBy=function(q,ie,oe,ce){T.scaleTo(q,function(){var se=this.__zoom.k,ue=typeof ie=="function"?ie.apply(this,arguments):ie;return se*ue},oe,ce)},T.scaleTo=function(q,ie,oe,ce){T.transform(q,function(){var se=e.apply(this,arguments),ue=this.__zoom,V=oe==null?U(se):typeof oe=="function"?oe.apply(this,arguments):oe,W=ue.invert(V),ee=typeof ie=="function"?ie.apply(this,arguments):ie;return r(F(P(ue,ee),V,W),se,l)},oe,ce)},T.translateBy=function(q,ie,oe,ce){T.transform(q,function(){return r(this.__zoom.translate(typeof ie=="function"?ie.apply(this,arguments):ie,typeof oe=="function"?oe.apply(this,arguments):oe),e.apply(this,arguments),l)},null,ce)},T.translateTo=function(q,ie,oe,ce,se){T.transform(q,function(){var ue=e.apply(this,arguments),V=this.__zoom,W=ce==null?U(ue):typeof ce=="function"?ce.apply(this,arguments):ce;return r(Z_.translate(W[0],W[1]).scale(V.k).translate(typeof ie=="function"?-ie.apply(this,arguments):-ie,typeof oe=="function"?-oe.apply(this,arguments):-oe),ue,l)},ce,se)};function P(q,ie){return ie=Math.max(o[0],Math.min(o[1],ie)),ie===q.k?q:new is(ie,q.x,q.y)}function F(q,ie,oe){var ce=ie[0]-oe[0]*q.k,se=ie[1]-oe[1]*q.k;return ce===q.x&&se===q.y?q:new is(q.k,ce,se)}function U(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function N(q,ie,oe,ce){q.on("start.zoom",function(){O(this,arguments).event(ce).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(ce).end()}).tween("zoom",function(){var se=this,ue=arguments,V=O(se,ue).event(ce),W=e.apply(se,ue),ee=oe==null?U(W):typeof oe=="function"?oe.apply(se,ue):oe,B=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),ve=se.__zoom,ke=typeof ie=="function"?ie.apply(se,ue):ie,Ie=f(ve.invert(ee).concat(B/ve.k),ke.invert(ee).concat(B/ke.k));return function(Me){if(Me===1)Me=ke;else{var Le=Ie(Me),Ke=B/Le[2];Me=new is(Ke,ee[0]-Le[0]*Ke,ee[1]-Le[1]*Ke)}V.zoom(null,Me)}})}function O(q,ie,oe){return!oe&&q.__zooming||new A(q,ie)}function A(q,ie){this.that=q,this.args=ie,this.active=0,this.sourceEvent=null,this.extent=e.apply(q,ie),this.taps=0}A.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,ie){return this.mouse&&q!=="mouse"&&(this.mouse[1]=ie.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=ie.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=ie.invert(this.touch1[0])),this.that.__zoom=ie,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var ie=br(this.that).datum();d.call(q,this.that,new Y$(q,{sourceEvent:this.sourceEvent,target:T,type:q,transform:this.that.__zoom,dispatch:d}),ie)}};function C(q,...ie){if(!n.apply(this,arguments))return;var oe=O(this,ie).event(q),ce=this.__zoom,se=Math.max(o[0],Math.min(o[1],ce.k*Math.pow(2,i.apply(this,arguments)))),ue=_i(q);if(oe.wheel)(oe.mouse[0][0]!==ue[0]||oe.mouse[0][1]!==ue[1])&&(oe.mouse[1]=ce.invert(oe.mouse[0]=ue)),clearTimeout(oe.wheel);else{if(ce.k===se)return;oe.mouse=[ue,ce.invert(ue)],Xh(this),oe.start()}Lu(q),oe.wheel=setTimeout(V,S),oe.zoom("mouse",r(F(P(ce,se),oe.mouse[0],oe.mouse[1]),oe.extent,l));function V(){oe.wheel=null,oe.end()}}function D(q,...ie){if(_||!n.apply(this,arguments))return;var oe=q.currentTarget,ce=O(this,ie,!0).event(q),se=br(q.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",B,!0),ue=_i(q,oe),V=q.clientX,W=q.clientY;Zk(q.view),mg(q),ce.mouse=[ue,this.__zoom.invert(ue)],Xh(this),ce.start();function ee(ve){if(Lu(ve),!ce.moved){var ke=ve.clientX-V,Ie=ve.clientY-W;ce.moved=ke*ke+Ie*Ie>k}ce.event(ve).zoom("mouse",r(F(ce.that.__zoom,ce.mouse[0]=_i(ve,oe),ce.mouse[1]),ce.extent,l))}function B(ve){se.on("mousemove.zoom mouseup.zoom",null),eI(ve.view,ce.moved),Lu(ve),ce.event(ve).end()}}function $(q,...ie){if(n.apply(this,arguments)){var oe=this.__zoom,ce=_i(q.changedTouches?q.changedTouches[0]:q,this),se=oe.invert(ce),ue=oe.k*(q.shiftKey?.5:2),V=r(F(P(oe,ue),ce,se),e.apply(this,ie),l);Lu(q),c>0?br(this).transition().duration(c).call(N,V,ce,q):br(this).call(T.transform,V,ce,q)}}function L(q,...ie){if(n.apply(this,arguments)){var oe=q.touches,ce=oe.length,se=O(this,ie,q.changedTouches.length===ce).event(q),ue,V,W,ee;for(mg(q),V=0;V<ce;++V)W=oe[V],ee=_i(W,this),ee=[ee,this.__zoom.invert(ee),W.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ee[2]&&(se.touch1=ee,se.taps=0):(se.touch0=ee,ue=!0,se.taps=1+!!m);m&&(m=clearTimeout(m)),ue&&(se.taps<2&&(g=ee[0],m=setTimeout(function(){m=null},v)),Xh(this),se.start())}}function j(q,...ie){if(this.__zooming){var oe=O(this,ie).event(q),ce=q.changedTouches,se=ce.length,ue,V,W,ee;for(Lu(q),ue=0;ue<se;++ue)V=ce[ue],W=_i(V,this),oe.touch0&&oe.touch0[2]===V.identifier?oe.touch0[0]=W:oe.touch1&&oe.touch1[2]===V.identifier&&(oe.touch1[0]=W);if(V=oe.that.__zoom,oe.touch1){var B=oe.touch0[0],ve=oe.touch0[1],ke=oe.touch1[0],Ie=oe.touch1[1],Me=(Me=ke[0]-B[0])*Me+(Me=ke[1]-B[1])*Me,Le=(Le=Ie[0]-ve[0])*Le+(Le=Ie[1]-ve[1])*Le;V=P(V,Math.sqrt(Me/Le)),W=[(B[0]+ke[0])/2,(B[1]+ke[1])/2],ee=[(ve[0]+Ie[0])/2,(ve[1]+Ie[1])/2]}else if(oe.touch0)W=oe.touch0[0],ee=oe.touch0[1];else return;oe.zoom("touch",r(F(V,W,ee),oe.extent,l))}}function M(q,...ie){if(this.__zooming){var oe=O(this,ie).event(q),ce=q.changedTouches,se=ce.length,ue,V;for(mg(q),_&&clearTimeout(_),_=setTimeout(function(){_=null},v),ue=0;ue<se;++ue)V=ce[ue],oe.touch0&&oe.touch0[2]===V.identifier?delete oe.touch0:oe.touch1&&oe.touch1[2]===V.identifier&&delete oe.touch1;if(oe.touch1&&!oe.touch0&&(oe.touch0=oe.touch1,delete oe.touch1),oe.touch0)oe.touch0[1]=this.__zoom.invert(oe.touch0[0]);else if(oe.end(),oe.taps===2&&(V=_i(V,this),Math.hypot(g[0]-V[0],g[1]-V[1])<I)){var W=br(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return T.wheelDelta=function(q){return arguments.length?(i=typeof q=="function"?q:Ah(+q),T):i},T.filter=function(q){return arguments.length?(n=typeof q=="function"?q:Ah(!!q),T):n},T.touchable=function(q){return arguments.length?(s=typeof q=="function"?q:Ah(!!q),T):s},T.extent=function(q){return arguments.length?(e=typeof q=="function"?q:Ah([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),T):e},T.scaleExtent=function(q){return arguments.length?(o[0]=+q[0],o[1]=+q[1],T):[o[0],o[1]]},T.translateExtent=function(q){return arguments.length?(l[0][0]=+q[0][0],l[1][0]=+q[1][0],l[0][1]=+q[0][1],l[1][1]=+q[1][1],T):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},T.constrain=function(q){return arguments.length?(r=q,T):r},T.duration=function(q){return arguments.length?(c=+q,T):c},T.interpolate=function(q){return arguments.length?(f=q,T):f},T.on=function(){var q=d.on.apply(d,arguments);return q===d?T:q},T.clickDistance=function(q){return arguments.length?(k=(q=+q)*q,T):Math.sqrt(k)},T.tapDistance=function(q){return arguments.length?(I=+q,T):I},T}class _x extends Map{constructor(e,r=sU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(vx(this,e))}has(e){return super.has(vx(this,e))}set(e,r){return super.set(rU(this,e),r)}delete(e){return super.delete(iU(this,e))}}function vx({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function rU({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function iU({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function sU(n){return n!==null&&typeof n=="object"?n.valueOf():n}function wx(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Ex(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}var oU=/\s/;function aU(n){for(var e=n.length;e--&&oU.test(n.charAt(e)););return e}var lU=/^\s+/;function uU(n){return n&&n.slice(0,aU(n)+1).replace(lU,"")}var xx=NaN,cU=/^[-+]0x[0-9a-f]+$/i,fU=/^0b[01]+$/i,hU=/^0o[0-7]+$/i,dU=parseInt;function Tx(n){if(typeof n=="number")return n;if(Ld(n))return xx;if(cs(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=cs(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=uU(n);var r=fU.test(n);return r||hU.test(n)?dU(n.slice(2),r?2:8):cU.test(n)?xx:+n}var gg=function(){return Jr.Date.now()},pU="Expected a function",mU=Math.max,gU=Math.min;function dI(n,e,r){var i,s,o,l,c,f,d=0,m=!1,g=!1,_=!0;if(typeof n!="function")throw new TypeError(pU);e=Tx(e)||0,cs(r)&&(m=!!r.leading,g="maxWait"in r,o=g?mU(Tx(r.maxWait)||0,e):o,_="trailing"in r?!!r.trailing:_);function v(O){var A=i,C=s;return i=s=void 0,d=O,l=n.apply(C,A),l}function S(O){return d=O,c=setTimeout(T,e),m?v(O):l}function k(O){var A=O-f,C=O-d,D=e-A;return g?gU(D,o-C):D}function I(O){var A=O-f,C=O-d;return f===void 0||A>=e||A<0||g&&C>=o}function T(){var O=gg();if(I(O))return P(O);c=setTimeout(T,k(O))}function P(O){return c=void 0,_&&i?v(O):(i=s=void 0,l)}function F(){c!==void 0&&clearTimeout(c),d=0,i=f=s=c=void 0}function U(){return c===void 0?l:P(gg())}function N(){var O=gg(),A=I(O);if(i=arguments,s=this,f=O,A){if(c===void 0)return S(f);if(g)return clearTimeout(c),c=setTimeout(T,e),v(f)}return c===void 0&&(c=setTimeout(T,e)),l}return N.cancel=F,N.flush=U,N}var yU="Expected a function";function _U(n,e,r){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(yU);return cs(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),dI(n,e,{leading:i,maxWait:e,trailing:s})}var ea=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-ea.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?ea.Bounce.In(n*2)*.5:ea.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Zu=function(){return performance.now()},pI=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,o=r;s<o.length;s++){var l=o[s];(e=l._group)===null||e===void 0||e.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,s=e;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=Zu()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],l=!r;o&&o.update(e,l)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),dl={Linear:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=dl.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[s],n[s+1>r?r:s+1],i-s)},Bezier:function(n,e){for(var r=0,i=n.length-1,s=Math.pow,o=dl.Utils.Bernstein,l=0;l<=i;l++)r+=s(1-e,i-l)*s(e,l)*n[l]*o(i,l);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=dl.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(s=Math.floor(i=r*(1+e))),o(n[(s-1+r)%r],n[s],n[(s+1)%r],n[(s+2)%r],i-s)):e<0?n[0]-(o(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(o(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):o(n[s?s-1:0],n[s],n[r<s+1?r:s+1],n[r<s+2?r:s+2],i-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=dl.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,s){var o=(r-n)*.5,l=(i-e)*.5,c=s*s,f=s*c;return(2*e-2*r+o+l)*f+(-3*e+3*r-2*o-l)*c+o*s+e}}},vU=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),Cy=new pI,Sx=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ea.Linear.None,this._interpolationFunction=dl.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=vU.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Cy,Cy.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=Zu()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,s,o){for(var l in i){var c=e[l],f=Array.isArray(c),d=f?"array":typeof c,m=!f&&Array.isArray(i[l]);if(!(d==="undefined"||d==="function")){if(m){var g=i[l];if(g.length===0)continue;for(var _=[c],v=0,S=g.length;v<S;v+=1){var k=this._handleRelativeValue(c,g[v]);if(isNaN(k)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}_.push(k)}m&&(i[l]=_)}if((d==="object"||f)&&c&&!m){r[l]=f?[]:{};var I=c;for(var T in I)r[l][T]=I[T];s[l]=f?[]:{};var g=i[l];if(!this._isDynamic){var P={};for(var T in g)P[T]=g[T];i[l]=g=P}this._setupProperties(I,r[l],g,s[l],o)}else(typeof r[l]>"u"||o)&&(r[l]=c),f||(r[l]*=1),m?s[l]=i[l].slice().reverse():s[l]=r[l]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Zu()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Zu()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=ea.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=dl.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,s;if(e===void 0&&(e=Zu()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=e-this._startTime,c=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),f=this._duration+this._repeat*c,d=function(){if(i._duration===0||l>f)return 1;var k=Math.trunc(l/c),I=l-k*c,T=Math.min(I/i._duration,1);return T===0&&l===i._duration?1:T},m=d(),g=this._easingFunction(m);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,g),this._onUpdateCallback&&this._onUpdateCallback(this._object,m),this._duration===0||l>=this._duration)if(this._repeat>0){var _=Math.min(Math.trunc((l-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=_);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*_,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var v=0,S=this._chainedTweens.length;v<S;v++)this._chainedTweens[v].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,s){for(var o in i)if(r[o]!==void 0){var l=r[o]||0,c=i[o],f=Array.isArray(e[o]),d=Array.isArray(c),m=!f&&d;m?e[o]=this._interpolationFunction(c,s):typeof c=="object"&&c?this._updateProperties(e[o],l,c,s):(c=this._handleRelativeValue(l,c),typeof c=="number"&&(e[o]=l+(c-l)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}(),Ai=Cy;Ai.getAll.bind(Ai);Ai.removeAll.bind(Ai);Ai.add.bind(Ai);Ai.remove.bind(Ai);Ai.update.bind(Ai);function bx(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function wU(n){if(Array.isArray(n))return n}function EU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function TU(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function SU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(n,e){return wU(n)||TU(n,e)||kU(n,e)||SU()}function kU(n,e){if(n){if(typeof n=="string")return bx(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bx(n,e):void 0}}var IU=xU(function n(e,r){var i=r.default,s=i===void 0?null:i,o=r.triggerUpdate,l=o===void 0?!0:o,c=r.onChange,f=c===void 0?function(d,m){}:c;EU(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=l,this.onChange=f});function ev(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,s=i===void 0?{}:i,o=n.methods,l=o===void 0?{}:o,c=n.aliases,f=c===void 0?{}:c,d=n.init,m=d===void 0?function(){}:d,g=n.update,_=g===void 0?function(){}:g,v=Object.keys(s).map(function(S){return new IU(S,s[S])});return function S(){for(var k=arguments.length,I=new Array(k),T=0;T<k;T++)I[T]=arguments[T];var P=!!(this instanceof S&&this.constructor),F=P?I.shift():void 0,U=I[0],N=U===void 0?{}:U,O=Object.assign({},r instanceof Function?r(N):r,{initialised:!1}),A={};function C(L){return D(L,N),$(),C}var D=function(j,M){m.call(C,j,O,M),O.initialised=!0},$=dI(function(){O.initialised&&(_.call(C,O,A),A={})},1);return v.forEach(function(L){C[L.name]=j(L);function j(M){var q=M.name,ie=M.triggerUpdate,oe=ie===void 0?!1:ie,ce=M.onChange,se=ce===void 0?function(W,ee){}:ce,ue=M.defaultVal,V=ue===void 0?null:ue;return function(W){var ee=O[q];if(!arguments.length)return ee;var B=W===void 0?V:W;return O[q]=B,se.call(C,B,O,ee),!A.hasOwnProperty(q)&&(A[q]=ee),oe&&$(),C}}}),Object.keys(l).forEach(function(L){C[L]=function(){for(var j,M=arguments.length,q=new Array(M),ie=0;ie<M;ie++)q[ie]=arguments[ie];return(j=l[L]).call.apply(j,[C,O].concat(q))}}),Object.entries(f).forEach(function(L){var j=bU(L,2),M=j[0],q=j[1];return C[M]=C[q]}),C.resetProps=function(){return v.forEach(function(L){C[L.name](L.defaultVal)}),C},C.resetProps(),O._rerender=$,P&&F&&C(F),C}}var ft=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function bd(n){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(n)}var CU=/^\s+/,AU=/\s+$/;function Ne(n,e){if(n=n||"",e=e||{},n instanceof Ne)return n;if(!(this instanceof Ne))return new Ne(n,e);var r=RU(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Ne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,s,o,l,c;return r=e.r/255,i=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),s<=.03928?c=s/12.92:c=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*l+.0722*c},setAlpha:function(e){return this._a=mI(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Ix(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Ix(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=kx(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=kx(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return Cx(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return DU(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(kt(this._r,255)*100)+"%",g:Math.round(kt(this._g,255)*100)+"%",b:Math.round(kt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(kt(this._r,255)*100)+"%, "+Math.round(kt(this._g,255)*100)+"%, "+Math.round(kt(this._b,255)*100)+"%)":"rgba("+Math.round(kt(this._r,255)*100)+"%, "+Math.round(kt(this._g,255)*100)+"%, "+Math.round(kt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:WU[Cx(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Ax(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ne(e);i="#"+Ax(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Ne(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(VU,arguments)},brighten:function(){return this._applyModification(zU,arguments)},darken:function(){return this._applyModification($U,arguments)},desaturate:function(){return this._applyModification(MU,arguments)},saturate:function(){return this._applyModification(LU,arguments)},greyscale:function(){return this._applyModification(FU,arguments)},spin:function(){return this._applyModification(UU,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(HU,arguments)},complement:function(){return this._applyCombination(jU,arguments)},monochromatic:function(){return this._applyCombination(qU,arguments)},splitcomplement:function(){return this._applyCombination(BU,arguments)},triad:function(){return this._applyCombination(Rx,[3])},tetrad:function(){return this._applyCombination(Rx,[4])}};Ne.fromRatio=function(n,e){if(bd(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=ec(n[i]));n=r}return Ne(n,e)};function RU(n){var e={r:0,g:0,b:0},r=1,i=null,s=null,o=null,l=!1,c=!1;return typeof n=="string"&&(n=YU(n)),bd(n)=="object"&&(Qi(n.r)&&Qi(n.g)&&Qi(n.b)?(e=PU(n.r,n.g,n.b),l=!0,c=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Qi(n.h)&&Qi(n.s)&&Qi(n.v)?(i=ec(n.s),s=ec(n.v),e=NU(n.h,i,s),l=!0,c="hsv"):Qi(n.h)&&Qi(n.s)&&Qi(n.l)&&(i=ec(n.s),o=ec(n.l),e=OU(n.h,i,o),l=!0,c="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=mI(r),{ok:l,format:n.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function PU(n,e,r){return{r:kt(n,255)*255,g:kt(e,255)*255,b:kt(r,255)*255}}function kx(n,e,r){n=kt(n,255),e=kt(e,255),r=kt(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,l,c=(i+s)/2;if(i==s)o=l=0;else{var f=i-s;switch(l=c>.5?f/(2-i-s):f/(i+s),i){case n:o=(e-r)/f+(e<r?6:0);break;case e:o=(r-n)/f+2;break;case r:o=(n-e)/f+4;break}o/=6}return{h:o,s:l,l:c}}function OU(n,e,r){var i,s,o;n=kt(n,360),e=kt(e,100),r=kt(r,100);function l(d,m,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(m-d)*6*g:g<1/2?m:g<2/3?d+(m-d)*(2/3-g)*6:d}if(e===0)i=s=o=r;else{var c=r<.5?r*(1+e):r+e-r*e,f=2*r-c;i=l(f,c,n+1/3),s=l(f,c,n),o=l(f,c,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function Ix(n,e,r){n=kt(n,255),e=kt(e,255),r=kt(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,l,c=i,f=i-s;if(l=i===0?0:f/i,i==s)o=0;else{switch(i){case n:o=(e-r)/f+(e<r?6:0);break;case e:o=(r-n)/f+2;break;case r:o=(n-e)/f+4;break}o/=6}return{h:o,s:l,v:c}}function NU(n,e,r){n=kt(n,360)*6,e=kt(e,100),r=kt(r,100);var i=Math.floor(n),s=n-i,o=r*(1-e),l=r*(1-s*e),c=r*(1-(1-s)*e),f=i%6,d=[r,l,o,o,c,r][f],m=[c,r,r,l,o,o][f],g=[o,o,c,r,r,l][f];return{r:d*255,g:m*255,b:g*255}}function Cx(n,e,r,i){var s=[Kr(Math.round(n).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function DU(n,e,r,i,s){var o=[Kr(Math.round(n).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(r).toString(16)),Kr(gI(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Ax(n,e,r,i){var s=[Kr(gI(i)),Kr(Math.round(n).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(r).toString(16))];return s.join("")}Ne.equals=function(n,e){return!n||!e?!1:Ne(n).toRgbString()==Ne(e).toRgbString()};Ne.random=function(){return Ne.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function MU(n,e){e=e===0?0:e||10;var r=Ne(n).toHsl();return r.s-=e/100,r.s=ip(r.s),Ne(r)}function LU(n,e){e=e===0?0:e||10;var r=Ne(n).toHsl();return r.s+=e/100,r.s=ip(r.s),Ne(r)}function FU(n){return Ne(n).desaturate(100)}function VU(n,e){e=e===0?0:e||10;var r=Ne(n).toHsl();return r.l+=e/100,r.l=ip(r.l),Ne(r)}function zU(n,e){e=e===0?0:e||10;var r=Ne(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Ne(r)}function $U(n,e){e=e===0?0:e||10;var r=Ne(n).toHsl();return r.l-=e/100,r.l=ip(r.l),Ne(r)}function UU(n,e){var r=Ne(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,Ne(r)}function jU(n){var e=Ne(n).toHsl();return e.h=(e.h+180)%360,Ne(e)}function Rx(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ne(n).toHsl(),i=[Ne(n)],s=360/e,o=1;o<e;o++)i.push(Ne({h:(r.h+o*s)%360,s:r.s,l:r.l}));return i}function BU(n){var e=Ne(n).toHsl(),r=e.h;return[Ne(n),Ne({h:(r+72)%360,s:e.s,l:e.l}),Ne({h:(r+216)%360,s:e.s,l:e.l})]}function HU(n,e,r){e=e||6,r=r||30;var i=Ne(n).toHsl(),s=360/r,o=[Ne(n)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(Ne(i));return o}function qU(n,e){e=e||6;for(var r=Ne(n).toHsv(),i=r.h,s=r.s,o=r.v,l=[],c=1/e;e--;)l.push(Ne({h:i,s,v:o})),o=(o+c)%1;return l}Ne.mix=function(n,e,r){r=r===0?0:r||50;var i=Ne(n).toRgb(),s=Ne(e).toRgb(),o=r/100,l={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return Ne(l)};Ne.readability=function(n,e){var r=Ne(n),i=Ne(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};Ne.isReadable=function(n,e,r){var i=Ne.readability(n,e),s,o;switch(o=!1,s=XU(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};Ne.mostReadable=function(n,e,r){var i=null,s=0,o,l,c,f;r=r||{},l=r.includeFallbackColors,c=r.level,f=r.size;for(var d=0;d<e.length;d++)o=Ne.readability(n,e[d]),o>s&&(s=o,i=Ne(e[d]));return Ne.isReadable(n,i,{level:c,size:f})||!l?i:(r.includeFallbackColors=!1,Ne.mostReadable(n,["#fff","#000"],r))};var Ay=Ne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},WU=Ne.hexNames=GU(Ay);function GU(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function mI(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function kt(n,e){KU(n)&&(n="100%");var r=QU(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function ip(n){return Math.min(1,Math.max(0,n))}function ir(n){return parseInt(n,16)}function KU(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function QU(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Kr(n){return n.length==1?"0"+n:""+n}function ec(n){return n<=1&&(n=n*100+"%"),n}function gI(n){return Math.round(parseFloat(n)*255).toString(16)}function Px(n){return ir(n)/255}var Wr=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Qi(n){return!!Wr.CSS_UNIT.exec(n)}function YU(n){n=n.replace(CU,"").replace(AU,"").toLowerCase();var e=!1;if(Ay[n])n=Ay[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Wr.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=Wr.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Wr.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=Wr.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Wr.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=Wr.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Wr.hex8.exec(n))?{r:ir(r[1]),g:ir(r[2]),b:ir(r[3]),a:Px(r[4]),format:e?"name":"hex8"}:(r=Wr.hex6.exec(n))?{r:ir(r[1]),g:ir(r[2]),b:ir(r[3]),format:e?"name":"hex"}:(r=Wr.hex4.exec(n))?{r:ir(r[1]+""+r[1]),g:ir(r[2]+""+r[2]),b:ir(r[3]+""+r[3]),a:Px(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Wr.hex3.exec(n))?{r:ir(r[1]+""+r[1]),g:ir(r[2]+""+r[2]),b:ir(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function XU(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function Ry(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function JU(n){if(Array.isArray(n))return Ry(n)}function yI(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function ZU(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ej(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(n,e){return n.get(yI(n,e))}function Ox(n,e,r){ZU(n,e),e.set(n,r)}function Nx(n,e,r){return n.set(yI(n,e),r),r}function tj(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,aj(i.key),i)}}function nj(n,e,r){return tj(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rj(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ij(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sj(n){return JU(n)||rj(n)||lj(n)||ij()}function oj(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aj(n){var e=oj(n,"string");return typeof e=="symbol"?e:e+""}function lj(n,e){if(n){if(typeof n=="string")return Ry(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ry(n,e):void 0}}var uj=123,cj=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},_I=function(e,r,i){return(e<<16)+(r<<8)+i},fj=function(e){var r=Ne(e).toRgb(),i=r.r,s=r.g,o=r.b;return _I(i,s,o)},Dx=function(e,r){return e*uj%Math.pow(2,r)},Ho=new WeakMap,Yi=new WeakMap,hj=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;ej(this,n),Ox(this,Ho,void 0),Ox(this,Yi,void 0),Nx(Yi,this,e),this.reset()}return nj(n,[{key:"reset",value:function(){Nx(Ho,this,["__reserved for background__"])}},{key:"register",value:function(r){if(xr(Ho,this).length>=Math.pow(2,24-xr(Yi,this)))return null;var i=xr(Ho,this).length,s=Dx(i,xr(Yi,this)),o=cj(i+(s<<24-xr(Yi,this)));return xr(Ho,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?fj(r):_I.apply(void 0,sj(r));if(!i)return null;var s=i&Math.pow(2,24-xr(Yi,this))-1,o=i>>24-xr(Yi,this)&Math.pow(2,xr(Yi,this))-1;return Dx(s,xr(Yi,this))!==o||s>=xr(Ho,this).length?null:xr(Ho,this)[s]}}])}(),Yc,It,vI,wI,Wo,Mx,EI,Py,xI,tv,Oy,Ny,Rc={},TI=[],dj=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nv=Array.isArray;function ss(n,e){for(var r in e)n[r]=e[r];return n}function rv(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function pj(n,e,r){var i,s,o,l={};for(o in e)o=="key"?i=e[o]:o=="ref"?s=e[o]:l[o]=e[o];if(arguments.length>2&&(l.children=arguments.length>3?Yc.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)l[o]===void 0&&(l[o]=n.defaultProps[o]);return lc(n,l,i,s,null)}function lc(n,e,r,i,s){var o={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++vI,__i:-1,__u:0};return s==null&&It.vnode!=null&&It.vnode(o),o}function sp(n){return n.children}function Jh(n,e){this.props=n,this.context=e}function Dl(n,e){if(e==null)return n.__?Dl(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?Dl(n):null}function SI(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return SI(n)}}function Lx(n){(!n.__d&&(n.__d=!0)&&Wo.push(n)&&!kd.__r++||Mx!==It.debounceRendering)&&((Mx=It.debounceRendering)||EI)(kd)}function kd(){var n,e,r,i,s,o,l,c;for(Wo.sort(Py);n=Wo.shift();)n.__d&&(e=Wo.length,i=void 0,o=(s=(r=n).__v).__e,l=[],c=[],r.__P&&((i=ss({},s)).__v=s.__v+1,It.vnode&&It.vnode(i),iv(r.__P,i,s,r.__n,r.__P.namespaceURI,32&s.__u?[o]:null,l,o??Dl(s),!!(32&s.__u),c),i.__v=s.__v,i.__.__k[i.__i]=i,II(l,i,c),i.__e!=o&&SI(i)),Wo.length>e&&Wo.sort(Py));kd.__r=0}function bI(n,e,r,i,s,o,l,c,f,d,m){var g,_,v,S,k,I,T=i&&i.__k||TI,P=e.length;for(f=mj(r,e,T,f,P),g=0;g<P;g++)(v=r.__k[g])!=null&&(_=v.__i===-1?Rc:T[v.__i]||Rc,v.__i=g,I=iv(n,v,_,s,o,l,c,f,d,m),S=v.__e,v.ref&&_.ref!=v.ref&&(_.ref&&sv(_.ref,null,v),m.push(v.ref,v.__c||S,v)),k==null&&S!=null&&(k=S),4&v.__u||_.__k===v.__k?f=kI(v,f,n):typeof v.type=="function"&&I!==void 0?f=I:S&&(f=S.nextSibling),v.__u&=-7);return r.__e=k,f}function mj(n,e,r,i,s){var o,l,c,f,d,m=r.length,g=m,_=0;for(n.__k=new Array(s),o=0;o<s;o++)(l=e[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(f=o+_,(l=n.__k[o]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?lc(null,l,null,null,null):nv(l)?lc(sp,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?lc(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=n,l.__b=n.__b+1,c=null,(d=l.__i=gj(l,r,f,g))!==-1&&(g--,(c=r[d])&&(c.__u|=2)),c==null||c.__v===null?(d==-1&&_--,typeof l.type!="function"&&(l.__u|=4)):d!=f&&(d==f-1?_--:d==f+1?_++:(d>f?_--:_++,l.__u|=4))):n.__k[o]=null;if(g)for(o=0;o<m;o++)(c=r[o])!=null&&!(2&c.__u)&&(c.__e==i&&(i=Dl(c)),CI(c,c));return i}function kI(n,e,r){var i,s;if(typeof n.type=="function"){for(i=n.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=n,e=kI(i[s],e,r));return e}n.__e!=e&&(e&&n.type&&!r.contains(e)&&(e=Dl(n)),r.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function gj(n,e,r,i){var s,o,l=n.key,c=n.type,f=e[r];if(f===null||f&&l==f.key&&c===f.type&&!(2&f.__u))return r;if(i>(f!=null&&!(2&f.__u)?1:0))for(s=r-1,o=r+1;s>=0||o<e.length;){if(s>=0){if((f=e[s])&&!(2&f.__u)&&l==f.key&&c===f.type)return s;s--}if(o<e.length){if((f=e[o])&&!(2&f.__u)&&l==f.key&&c===f.type)return o;o++}}return-1}function Fx(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||dj.test(e)?r:r+"px"}function Rh(n,e,r,i,s){var o;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||Fx(n.style,e,"");if(r)for(e in r)i&&r[e]===i[e]||Fx(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(xI,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?i?r.u=i.u:(r.u=tv,n.addEventListener(e,o?Ny:Oy,o)):n.removeEventListener(e,o?Ny:Oy,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function Vx(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=tv++;else if(e.t<r.u)return;return r(It.event?It.event(e):e)}}}function iv(n,e,r,i,s,o,l,c,f,d){var m,g,_,v,S,k,I,T,P,F,U,N,O,A,C,D,$,L=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(f=!!(32&r.__u),o=[c=e.__e=r.__e]),(m=It.__b)&&m(e);e:if(typeof L=="function")try{if(T=e.props,P="prototype"in L&&L.prototype.render,F=(m=L.contextType)&&i[m.__c],U=m?F?F.props.value:m.__:i,r.__c?I=(g=e.__c=r.__c).__=g.__E:(P?e.__c=g=new L(T,U):(e.__c=g=new Jh(T,U),g.constructor=L,g.render=_j),F&&F.sub(g),g.props=T,g.state||(g.state={}),g.context=U,g.__n=i,_=g.__d=!0,g.__h=[],g._sb=[]),P&&g.__s==null&&(g.__s=g.state),P&&L.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=ss({},g.__s)),ss(g.__s,L.getDerivedStateFromProps(T,g.__s))),v=g.props,S=g.state,g.__v=e,_)P&&L.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),P&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(P&&L.getDerivedStateFromProps==null&&T!==v&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(T,U),!g.__e&&(g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(T,g.__s,U)===!1||e.__v==r.__v)){for(e.__v!=r.__v&&(g.props=T,g.state=g.__s,g.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(j){j&&(j.__=e)}),N=0;N<g._sb.length;N++)g.__h.push(g._sb[N]);g._sb=[],g.__h.length&&l.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(T,g.__s,U),P&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(v,S,k)})}if(g.context=U,g.props=T,g.__P=n,g.__e=!1,O=It.__r,A=0,P){for(g.state=g.__s,g.__d=!1,O&&O(e),m=g.render(g.props,g.state,g.context),C=0;C<g._sb.length;C++)g.__h.push(g._sb[C]);g._sb=[]}else do g.__d=!1,O&&O(e),m=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++A<25);g.state=g.__s,g.getChildContext!=null&&(i=ss(ss({},i),g.getChildContext())),P&&!_&&g.getSnapshotBeforeUpdate!=null&&(k=g.getSnapshotBeforeUpdate(v,S)),c=bI(n,nv(D=m!=null&&m.type===sp&&m.key==null?m.props.children:m)?D:[D],e,r,i,s,o,l,c,f,d),g.base=e.__e,e.__u&=-161,g.__h.length&&l.push(g),I&&(g.__E=g.__=null)}catch(j){if(e.__v=null,f||o!=null)if(j.then){for(e.__u|=f?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else for($=o.length;$--;)rv(o[$]);else e.__e=r.__e,e.__k=r.__k;It.__e(j,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):c=e.__e=yj(r.__e,e,r,i,s,o,l,f,d);return(m=It.diffed)&&m(e),128&e.__u?void 0:c}function II(n,e,r){for(var i=0;i<r.length;i++)sv(r[i],r[++i],r[++i]);It.__c&&It.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){It.__e(o,s.__v)}})}function yj(n,e,r,i,s,o,l,c,f){var d,m,g,_,v,S,k,I=r.props,T=e.props,P=e.type;if(P=="svg"?s="http://www.w3.org/2000/svg":P=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(d=0;d<o.length;d++)if((v=o[d])&&"setAttribute"in v==!!P&&(P?v.localName==P:v.nodeType==3)){n=v,o[d]=null;break}}if(n==null){if(P==null)return document.createTextNode(T);n=document.createElementNS(s,P,T.is&&T),c&&(It.__m&&It.__m(e,o),c=!1),o=null}if(P===null)I===T||c&&n.data===T||(n.data=T);else{if(o=o&&Yc.call(n.childNodes),I=r.props||Rc,!c&&o!=null)for(I={},d=0;d<n.attributes.length;d++)I[(v=n.attributes[d]).name]=v.value;for(d in I)if(v=I[d],d!="children"){if(d=="dangerouslySetInnerHTML")g=v;else if(!(d in T)){if(d=="value"&&"defaultValue"in T||d=="checked"&&"defaultChecked"in T)continue;Rh(n,d,null,v,s)}}for(d in T)v=T[d],d=="children"?_=v:d=="dangerouslySetInnerHTML"?m=v:d=="value"?S=v:d=="checked"?k=v:c&&typeof v!="function"||I[d]===v||Rh(n,d,v,I[d],s);if(m)c||g&&(m.__html===g.__html||m.__html===n.innerHTML)||(n.innerHTML=m.__html),e.__k=[];else if(g&&(n.innerHTML=""),bI(n,nv(_)?_:[_],e,r,i,P=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,l,o?o[0]:r.__k&&Dl(r,0),c,f),o!=null)for(d=o.length;d--;)rv(o[d]);c||(d="value",P=="progress"&&S==null?n.removeAttribute("value"):S!==void 0&&(S!==n[d]||P=="progress"&&!S||P=="option"&&S!==I[d])&&Rh(n,d,S,I[d],s),d="checked",k!==void 0&&k!==n[d]&&Rh(n,d,k,I[d],s))}return n}function sv(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(s){It.__e(s,r)}}function CI(n,e,r){var i,s;if(It.unmount&&It.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||sv(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){It.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&CI(i[s],e,r||typeof n.type!="function");r||rv(n.__e),n.__c=n.__=n.__e=void 0}function _j(n,e,r){return this.constructor(n,r)}function vj(n,e,r){var i,s,o,l;e==document&&(e=document.documentElement),It.__&&It.__(n,e),s=(i=!1)?null:e.__k,o=[],l=[],iv(e,n=e.__k=pj(sp,null,[n]),s||Rc,Rc,e.namespaceURI,s?null:e.firstChild?Yc.call(e.childNodes):null,o,s?s.__e:e.firstChild,i,l),II(o,n,l)}function AI(n,e,r){var i,s,o,l,c=ss({},n.props);for(o in n.type&&n.type.defaultProps&&(l=n.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?s=e[o]:c[o]=e[o]===void 0&&l!==void 0?l[o]:e[o];return arguments.length>2&&(c.children=arguments.length>3?Yc.call(arguments,2):r),lc(n.type,c,i||n.key,s||n.ref,null)}Yc=TI.slice,It={__e:function(n,e,r,i){for(var s,o,l;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),l=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),l=s.__d),l)return s.__E=s}catch(c){n=c}throw n}},vI=0,wI=function(n){return n!=null&&n.constructor==null},Jh.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ss({},this.state),typeof n=="function"&&(n=n(ss({},r),this.props)),n&&ss(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Lx(this))},Jh.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Lx(this))},Jh.prototype.render=sp,Wo=[],EI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Py=function(n,e){return n.__v.__b-e.__v.__b},kd.__r=0,xI=/(PointerCapture)$|Capture$/i,tv=0,Oy=Vx(!1),Ny=Vx(!0);function zx(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function wj(n){if(Array.isArray(n))return n}function Ej(n,e,r){return(e=Ij(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function xj(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function Tj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $x(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function Sj(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(r),!0).forEach(function(i){Ej(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function bj(n,e){return wj(n)||xj(n,e)||Cj(n,e)||Tj()}function kj(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ij(n){var e=kj(n,"string");return typeof e=="symbol"?e:e+""}function Id(n){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(n)}function Cj(n,e){if(n){if(typeof n=="string")return zx(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zx(n,e):void 0}}var Dy=function(e){if(Id(e)!=="object")return e;var r=AI(e);if(r.props){var i;r.props=Sj({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Dy):Dy(r.props.children))}return r},Aj=function(e){return wI(AI(e))},Rj=function(e,r){delete r.__k,vj(Dy(e),r)};function Pj(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Oj=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Pj(Oj);var Nj=ev({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,l=!!e&&Id(e)==="object"&&!!e.node&&typeof e.node=="function",c=br(l?e.node():e);c.style("position")==="static"&&c.style("position","relative"),r.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(d){var m=bj(d,2),g=m[0],_=m[1];return r.tooltipEl.style(g,_)}),r.tooltipEl.style("left","-10000px").style("display","none");var f="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,c.on("mousemove.".concat(f),function(d){r.mouseInside=!0;var m=_i(d),g=c.node(),_=g.offsetWidth,v=g.offsetHeight,S=[r.offsetX===null||r.offsetX===void 0?"-".concat(m[0]/_*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?v>130&&v-m[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",m[0]+"px").style("top",m[1]+"px").style("transform","translate(".concat(S.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(f),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(f),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Aj(e.content)?(e.tooltipEl.text(""),Rj(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Dj(n,e,r){var i,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var l,c=i.length,f,d=0,m=0,g=0;for(l=0;l<c;++l)f=i[l],d+=f.x||0,m+=f.y||0,g+=f.z||0;for(d=(d/c-n)*s,m=(m/c-e)*s,g=(g/c-r)*s,l=0;l<c;++l)f=i[l],d&&(f.x-=d),m&&(f.y-=m),g&&(f.z-=g)}return o.initialize=function(l){i=l},o.x=function(l){return arguments.length?(n=+l,o):n},o.y=function(l){return arguments.length?(e=+l,o):e},o.z=function(l){return arguments.length?(r=+l,o):r},o.strength=function(l){return arguments.length?(s=+l,o):s},o}function Mj(n){const e=+this._x.call(null,n);return RI(this.cover(e),e,n)}function RI(n,e,r){if(isNaN(e))return n;var i,s=n._root,o={data:r},l=n._x0,c=n._x1,f,d,m,g,_;if(!s)return n._root=o,n;for(;s.length;)if((m=e>=(f=(l+c)/2))?l=f:c=f,i=s,!(s=s[g=+m]))return i[g]=o,n;if(d=+n._x.call(null,s.data),e===d)return o.next=s,i?i[g]=o:n._root=o,n;do i=i?i[g]=new Array(2):n._root=new Array(2),(m=e>=(f=(l+c)/2))?l=f:c=f;while((g=+m)==(_=+(d>=f)));return i[_]=s,i[g]=o,n}function Lj(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,s=-1/0;for(let o=0,l;o<e;++o)isNaN(l=+this._x.call(null,n[o]))||(r[o]=l,l<i&&(i=l),l>s&&(s=l));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<e;++o)RI(this,r[o],n[o]);return this}function Fj(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,s=this._root,o,l;e>n||n>=r;)switch(l=+(n<e),o=new Array(2),o[l]=s,s=o,i*=2,l){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Vj(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function zj(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function us(n,e,r){this.node=n,this.x0=e,this.x1=r}function $j(n,e){var r,i=this._x0,s,o,l=this._x1,c=[],f=this._root,d,m;for(f&&c.push(new us(f,i,l)),e==null?e=1/0:(i=n-e,l=n+e);d=c.pop();)if(!(!(f=d.node)||(s=d.x0)>l||(o=d.x1)<i))if(f.length){var g=(s+o)/2;c.push(new us(f[1],g,o),new us(f[0],s,g)),(m=+(n>=g))&&(d=c[c.length-1],c[c.length-1]=c[c.length-1-m],c[c.length-1-m]=d)}else{var _=Math.abs(n-+this._x.call(null,f.data));_<e&&(e=_,i=n-_,l=n+_,r=f.data)}return r}function Uj(n){if(isNaN(f=+this._x.call(null,n)))return this;var e,r=this._root,i,s,o,l=this._x0,c=this._x1,f,d,m,g,_;if(!r)return this;if(r.length)for(;;){if((m=f>=(d=(l+c)/2))?l=d:c=d,e=r,!(r=r[g=+m]))return this;if(!r.length)break;e[g+1&1]&&(i=e,_=g)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[g]=o:delete e[g],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[_]=r:this._root=r),this):(this._root=o,this)}function jj(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Bj(){return this._root}function Hj(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function qj(n){var e=[],r,i=this._root,s,o,l;for(i&&e.push(new us(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,l=r.x1)&&i.length){var c=(o+l)/2;(s=i[1])&&e.push(new us(s,c,l)),(s=i[0])&&e.push(new us(s,o,c))}return this}function Wj(n){var e=[],r=[],i;for(this._root&&e.push(new us(this._root,this._x0,this._x1));i=e.pop();){var s=i.node;if(s.length){var o,l=i.x0,c=i.x1,f=(l+c)/2;(o=s[0])&&e.push(new us(o,l,f)),(o=s[1])&&e.push(new us(o,f,c))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Gj(n){return n[0]}function Kj(n){return arguments.length?(this._x=n,this):this._x}function PI(n,e){var r=new ov(e??Gj,NaN,NaN);return n==null?r:r.addAll(n)}function ov(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Ux(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Wn=PI.prototype=ov.prototype;Wn.copy=function(){var n=new ov(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Ux(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(2)}):e.target[s]=Ux(i));return n};Wn.add=Mj;Wn.addAll=Lj;Wn.cover=Fj;Wn.data=Vj;Wn.extent=zj;Wn.find=$j;Wn.remove=Uj;Wn.removeAll=jj;Wn.root=Bj;Wn.size=Hj;Wn.visit=qj;Wn.visitAfter=Wj;Wn.x=Kj;function Qj(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return OI(this.cover(e,r),e,r,n)}function OI(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,l={data:i},c=n._x0,f=n._y0,d=n._x1,m=n._y1,g,_,v,S,k,I,T,P;if(!o)return n._root=l,n;for(;o.length;)if((k=e>=(g=(c+d)/2))?c=g:d=g,(I=r>=(_=(f+m)/2))?f=_:m=_,s=o,!(o=o[T=I<<1|k]))return s[T]=l,n;if(v=+n._x.call(null,o.data),S=+n._y.call(null,o.data),e===v&&r===S)return l.next=o,s?s[T]=l:n._root=l,n;do s=s?s[T]=new Array(4):n._root=new Array(4),(k=e>=(g=(c+d)/2))?c=g:d=g,(I=r>=(_=(f+m)/2))?f=_:m=_;while((T=I<<1|k)===(P=(S>=_)<<1|v>=g));return s[P]=o,s[T]=l,n}function Yj(n){var e,r,i=n.length,s,o,l=new Array(i),c=new Array(i),f=1/0,d=1/0,m=-1/0,g=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(l[r]=s,c[r]=o,s<f&&(f=s),s>m&&(m=s),o<d&&(d=o),o>g&&(g=o));if(f>m||d>g)return this;for(this.cover(f,d).cover(m,g),r=0;r<i;++r)OI(this,l[r],c[r],n[r]);return this}function Xj(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var l=s-r||1,c=this._root,f,d;r>n||n>=s||i>e||e>=o;)switch(d=(e<i)<<1|n<r,f=new Array(4),f[d]=c,c=f,l*=2,d){case 0:s=r+l,o=i+l;break;case 1:r=s-l,o=i+l;break;case 2:s=r+l,i=o-l;break;case 3:r=s-l,i=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this}function Jj(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Zj(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Cn(n,e,r,i,s){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=s}function e8(n,e,r){var i,s=this._x0,o=this._y0,l,c,f,d,m=this._x1,g=this._y1,_=[],v=this._root,S,k;for(v&&_.push(new Cn(v,s,o,m,g)),r==null?r=1/0:(s=n-r,o=e-r,m=n+r,g=e+r,r*=r);S=_.pop();)if(!(!(v=S.node)||(l=S.x0)>m||(c=S.y0)>g||(f=S.x1)<s||(d=S.y1)<o))if(v.length){var I=(l+f)/2,T=(c+d)/2;_.push(new Cn(v[3],I,T,f,d),new Cn(v[2],l,T,I,d),new Cn(v[1],I,c,f,T),new Cn(v[0],l,c,I,T)),(k=(e>=T)<<1|n>=I)&&(S=_[_.length-1],_[_.length-1]=_[_.length-1-k],_[_.length-1-k]=S)}else{var P=n-+this._x.call(null,v.data),F=e-+this._y.call(null,v.data),U=P*P+F*F;if(U<r){var N=Math.sqrt(r=U);s=n-N,o=e-N,m=n+N,g=e+N,i=v.data}}return i}function t8(n){if(isNaN(m=+this._x.call(null,n))||isNaN(g=+this._y.call(null,n)))return this;var e,r=this._root,i,s,o,l=this._x0,c=this._y0,f=this._x1,d=this._y1,m,g,_,v,S,k,I,T;if(!r)return this;if(r.length)for(;;){if((S=m>=(_=(l+f)/2))?l=_:f=_,(k=g>=(v=(c+d)/2))?c=v:d=v,e=r,!(r=r[I=k<<1|S]))return this;if(!r.length)break;(e[I+1&3]||e[I+2&3]||e[I+3&3])&&(i=e,T=I)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[I]=o:delete e[I],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[T]=r:this._root=r),this):(this._root=o,this)}function n8(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function r8(){return this._root}function i8(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function s8(n){var e=[],r,i=this._root,s,o,l,c,f;for(i&&e.push(new Cn(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,l=r.y0,c=r.x1,f=r.y1)&&i.length){var d=(o+c)/2,m=(l+f)/2;(s=i[3])&&e.push(new Cn(s,d,m,c,f)),(s=i[2])&&e.push(new Cn(s,o,m,d,f)),(s=i[1])&&e.push(new Cn(s,d,l,c,m)),(s=i[0])&&e.push(new Cn(s,o,l,d,m))}return this}function o8(n){var e=[],r=[],i;for(this._root&&e.push(new Cn(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var o,l=i.x0,c=i.y0,f=i.x1,d=i.y1,m=(l+f)/2,g=(c+d)/2;(o=s[0])&&e.push(new Cn(o,l,c,m,g)),(o=s[1])&&e.push(new Cn(o,m,c,f,g)),(o=s[2])&&e.push(new Cn(o,l,g,m,d)),(o=s[3])&&e.push(new Cn(o,m,g,f,d))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function a8(n){return n[0]}function l8(n){return arguments.length?(this._x=n,this):this._x}function u8(n){return n[1]}function c8(n){return arguments.length?(this._y=n,this):this._y}function NI(n,e,r){var i=new av(e??a8,r??u8,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function av(n,e,r,i,s,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function jx(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var An=NI.prototype=av.prototype;An.copy=function(){var n=new av(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=jx(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=jx(i));return n};An.add=Qj;An.addAll=Yj;An.cover=Xj;An.data=Jj;An.extent=Zj;An.find=e8;An.remove=t8;An.removeAll=n8;An.root=r8;An.size=i8;An.visit=s8;An.visitAfter=o8;An.x=l8;An.y=c8;function f8(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return DI(this.cover(e,r,i),e,r,i,n)}function DI(n,e,r,i,s){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,l=n._root,c={data:s},f=n._x0,d=n._y0,m=n._z0,g=n._x1,_=n._y1,v=n._z1,S,k,I,T,P,F,U,N,O,A,C;if(!l)return n._root=c,n;for(;l.length;)if((U=e>=(S=(f+g)/2))?f=S:g=S,(N=r>=(k=(d+_)/2))?d=k:_=k,(O=i>=(I=(m+v)/2))?m=I:v=I,o=l,!(l=l[A=O<<2|N<<1|U]))return o[A]=c,n;if(T=+n._x.call(null,l.data),P=+n._y.call(null,l.data),F=+n._z.call(null,l.data),e===T&&r===P&&i===F)return c.next=l,o?o[A]=c:n._root=c,n;do o=o?o[A]=new Array(8):n._root=new Array(8),(U=e>=(S=(f+g)/2))?f=S:g=S,(N=r>=(k=(d+_)/2))?d=k:_=k,(O=i>=(I=(m+v)/2))?m=I:v=I;while((A=O<<2|N<<1|U)===(C=(F>=I)<<2|(P>=k)<<1|T>=S));return o[C]=l,o[A]=c,n}function h8(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),s=new Float64Array(e);let o=1/0,l=1/0,c=1/0,f=-1/0,d=-1/0,m=-1/0;for(let g=0,_,v,S,k;g<e;++g)isNaN(v=+this._x.call(null,_=n[g]))||isNaN(S=+this._y.call(null,_))||isNaN(k=+this._z.call(null,_))||(r[g]=v,i[g]=S,s[g]=k,v<o&&(o=v),v>f&&(f=v),S<l&&(l=S),S>d&&(d=S),k<c&&(c=k),k>m&&(m=k));if(o>f||l>d||c>m)return this;this.cover(o,l,c).cover(f,d,m);for(let g=0;g<e;++g)DI(this,r[g],i[g],s[g],n[g]);return this}function d8(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,o=this._z0,l=this._x1,c=this._y1,f=this._z1;if(isNaN(i))l=(i=Math.floor(n))+1,c=(s=Math.floor(e))+1,f=(o=Math.floor(r))+1;else{for(var d=l-i||1,m=this._root,g,_;i>n||n>=l||s>e||e>=c||o>r||r>=f;)switch(_=(r<o)<<2|(e<s)<<1|n<i,g=new Array(8),g[_]=m,m=g,d*=2,_){case 0:l=i+d,c=s+d,f=o+d;break;case 1:i=l-d,c=s+d,f=o+d;break;case 2:l=i+d,s=c-d,f=o+d;break;case 3:i=l-d,s=c-d,f=o+d;break;case 4:l=i+d,c=s+d,o=f-d;break;case 5:i=l-d,c=s+d,o=f-d;break;case 6:l=i+d,s=c-d,o=f-d;break;case 7:i=l-d,s=c-d,o=f-d;break}this._root&&this._root.length&&(this._root=m)}return this._x0=i,this._y0=s,this._z0=o,this._x1=l,this._y1=c,this._z1=f,this}function p8(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function m8(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function dt(n,e,r,i,s,o,l){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=s,this.y1=o,this.z1=l}function g8(n,e,r,i){var s,o=this._x0,l=this._y0,c=this._z0,f,d,m,g,_,v,S=this._x1,k=this._y1,I=this._z1,T=[],P=this._root,F,U;for(P&&T.push(new dt(P,o,l,c,S,k,I)),i==null?i=1/0:(o=n-i,l=e-i,c=r-i,S=n+i,k=e+i,I=r+i,i*=i);F=T.pop();)if(!(!(P=F.node)||(f=F.x0)>S||(d=F.y0)>k||(m=F.z0)>I||(g=F.x1)<o||(_=F.y1)<l||(v=F.z1)<c))if(P.length){var N=(f+g)/2,O=(d+_)/2,A=(m+v)/2;T.push(new dt(P[7],N,O,A,g,_,v),new dt(P[6],f,O,A,N,_,v),new dt(P[5],N,d,A,g,O,v),new dt(P[4],f,d,A,N,O,v),new dt(P[3],N,O,m,g,_,A),new dt(P[2],f,O,m,N,_,A),new dt(P[1],N,d,m,g,O,A),new dt(P[0],f,d,m,N,O,A)),(U=(r>=A)<<2|(e>=O)<<1|n>=N)&&(F=T[T.length-1],T[T.length-1]=T[T.length-1-U],T[T.length-1-U]=F)}else{var C=n-+this._x.call(null,P.data),D=e-+this._y.call(null,P.data),$=r-+this._z.call(null,P.data),L=C*C+D*D+$*$;if(L<i){var j=Math.sqrt(i=L);o=n-j,l=e-j,c=r-j,S=n+j,k=e+j,I=r+j,s=P.data}}return s}const y8=(n,e,r,i,s,o)=>Math.sqrt((n-i)**2+(e-s)**2+(r-o)**2);function _8(n,e,r,i){const s=[],o=n-i,l=e-i,c=r-i,f=n+i,d=e+i,m=r+i;return this.visit((g,_,v,S,k,I,T)=>{if(!g.length)do{const P=g.data;y8(n,e,r,this._x(P),this._y(P),this._z(P))<=i&&s.push(P)}while(g=g.next);return _>f||v>d||S>m||k<o||I<l||T<c}),s}function v8(n){if(isNaN(_=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(S=+this._z.call(null,n)))return this;var e,r=this._root,i,s,o,l=this._x0,c=this._y0,f=this._z0,d=this._x1,m=this._y1,g=this._z1,_,v,S,k,I,T,P,F,U,N,O;if(!r)return this;if(r.length)for(;;){if((P=_>=(k=(l+d)/2))?l=k:d=k,(F=v>=(I=(c+m)/2))?c=I:m=I,(U=S>=(T=(f+g)/2))?f=T:g=T,e=r,!(r=r[N=U<<2|F<<1|P]))return this;if(!r.length)break;(e[N+1&7]||e[N+2&7]||e[N+3&7]||e[N+4&7]||e[N+5&7]||e[N+6&7]||e[N+7&7])&&(i=e,O=N)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[N]=o:delete e[N],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[O]=r:this._root=r),this):(this._root=o,this)}function w8(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function E8(){return this._root}function x8(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function T8(n){var e=[],r,i=this._root,s,o,l,c,f,d,m;for(i&&e.push(new dt(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,l=r.y0,c=r.z0,f=r.x1,d=r.y1,m=r.z1)&&i.length){var g=(o+f)/2,_=(l+d)/2,v=(c+m)/2;(s=i[7])&&e.push(new dt(s,g,_,v,f,d,m)),(s=i[6])&&e.push(new dt(s,o,_,v,g,d,m)),(s=i[5])&&e.push(new dt(s,g,l,v,f,_,m)),(s=i[4])&&e.push(new dt(s,o,l,v,g,_,m)),(s=i[3])&&e.push(new dt(s,g,_,c,f,d,v)),(s=i[2])&&e.push(new dt(s,o,_,c,g,d,v)),(s=i[1])&&e.push(new dt(s,g,l,c,f,_,v)),(s=i[0])&&e.push(new dt(s,o,l,c,g,_,v))}return this}function S8(n){var e=[],r=[],i;for(this._root&&e.push(new dt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var s=i.node;if(s.length){var o,l=i.x0,c=i.y0,f=i.z0,d=i.x1,m=i.y1,g=i.z1,_=(l+d)/2,v=(c+m)/2,S=(f+g)/2;(o=s[0])&&e.push(new dt(o,l,c,f,_,v,S)),(o=s[1])&&e.push(new dt(o,_,c,f,d,v,S)),(o=s[2])&&e.push(new dt(o,l,v,f,_,m,S)),(o=s[3])&&e.push(new dt(o,_,v,f,d,m,S)),(o=s[4])&&e.push(new dt(o,l,c,S,_,v,g)),(o=s[5])&&e.push(new dt(o,_,c,S,d,v,g)),(o=s[6])&&e.push(new dt(o,l,v,S,_,m,g)),(o=s[7])&&e.push(new dt(o,_,v,S,d,m,g))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function b8(n){return n[0]}function k8(n){return arguments.length?(this._x=n,this):this._x}function I8(n){return n[1]}function C8(n){return arguments.length?(this._y=n,this):this._y}function A8(n){return n[2]}function R8(n){return arguments.length?(this._z=n,this):this._z}function MI(n,e,r,i){var s=new lv(e??b8,r??I8,i??A8,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function lv(n,e,r,i,s,o,l,c,f){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=s,this._z0=o,this._x1=l,this._y1=c,this._z1=f,this._root=void 0}function Bx(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var hn=MI.prototype=lv.prototype;hn.copy=function(){var n=new lv(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Bx(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=Bx(i));return n};hn.add=f8;hn.addAll=h8;hn.cover=d8;hn.data=p8;hn.extent=m8;hn.find=g8;hn.findAllWithinRadius=_8;hn.remove=v8;hn.removeAll=w8;hn.root=E8;hn.size=x8;hn.visit=T8;hn.visitAfter=S8;hn.x=k8;hn.y=C8;hn.z=R8;function os(n){return function(){return n}}function Zi(n){return(n()-.5)*1e-6}function P8(n){return n.index}function Hx(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function O8(n){var e=P8,r=_,i,s=os(30),o,l,c,f,d,m,g=1;n==null&&(n=[]);function _(T){return 1/Math.min(f[T.source.index],f[T.target.index])}function v(T){for(var P=0,F=n.length;P<g;++P)for(var U=0,N,O,A,C=0,D=0,$=0,L,j;U<F;++U)N=n[U],O=N.source,A=N.target,C=A.x+A.vx-O.x-O.vx||Zi(m),c>1&&(D=A.y+A.vy-O.y-O.vy||Zi(m)),c>2&&($=A.z+A.vz-O.z-O.vz||Zi(m)),L=Math.sqrt(C*C+D*D+$*$),L=(L-o[U])/L*T*i[U],C*=L,D*=L,$*=L,A.vx-=C*(j=d[U]),c>1&&(A.vy-=D*j),c>2&&(A.vz-=$*j),O.vx+=C*(j=1-j),c>1&&(O.vy+=D*j),c>2&&(O.vz+=$*j)}function S(){if(l){var T,P=l.length,F=n.length,U=new Map(l.map((O,A)=>[e(O,A,l),O])),N;for(T=0,f=new Array(P);T<F;++T)N=n[T],N.index=T,typeof N.source!="object"&&(N.source=Hx(U,N.source)),typeof N.target!="object"&&(N.target=Hx(U,N.target)),f[N.source.index]=(f[N.source.index]||0)+1,f[N.target.index]=(f[N.target.index]||0)+1;for(T=0,d=new Array(F);T<F;++T)N=n[T],d[T]=f[N.source.index]/(f[N.source.index]+f[N.target.index]);i=new Array(F),k(),o=new Array(F),I()}}function k(){if(l)for(var T=0,P=n.length;T<P;++T)i[T]=+r(n[T],T,n)}function I(){if(l)for(var T=0,P=n.length;T<P;++T)o[T]=+s(n[T],T,n)}return v.initialize=function(T,...P){l=T,m=P.find(F=>typeof F=="function")||Math.random,c=P.find(F=>[1,2,3].includes(F))||2,S()},v.links=function(T){return arguments.length?(n=T,S(),v):n},v.id=function(T){return arguments.length?(e=T,v):e},v.iterations=function(T){return arguments.length?(g=+T,v):g},v.strength=function(T){return arguments.length?(r=typeof T=="function"?T:os(+T),k(),v):r},v.distance=function(T){return arguments.length?(s=typeof T=="function"?T:os(+T),I(),v):s},v}const N8=1664525,D8=1013904223,qx=4294967296;function M8(){let n=1;return()=>(n=(N8*n+D8)%qx)/qx}var Wx=3;function yg(n){return n.x}function Gx(n){return n.y}function L8(n){return n.z}var F8=10,V8=Math.PI*(3-Math.sqrt(5)),z8=Math.PI*20/(9+Math.sqrt(221));function $8(n,e){e=e||2;var r=Math.min(Wx,Math.max(1,Math.round(e))),i,s=1,o=.001,l=1-Math.pow(o,1/300),c=0,f=.6,d=new Map,m=Y_(v),g=Kc("tick","end"),_=M8();n==null&&(n=[]);function v(){S(),g.call("tick",i),s<o&&(m.stop(),g.call("end",i))}function S(T){var P,F=n.length,U;T===void 0&&(T=1);for(var N=0;N<T;++N)for(s+=(c-s)*l,d.forEach(function(O){O(s)}),P=0;P<F;++P)U=n[P],U.fx==null?U.x+=U.vx*=f:(U.x=U.fx,U.vx=0),r>1&&(U.fy==null?U.y+=U.vy*=f:(U.y=U.fy,U.vy=0)),r>2&&(U.fz==null?U.z+=U.vz*=f:(U.z=U.fz,U.vz=0));return i}function k(){for(var T=0,P=n.length,F;T<P;++T){if(F=n[T],F.index=T,F.fx!=null&&(F.x=F.fx),F.fy!=null&&(F.y=F.fy),F.fz!=null&&(F.z=F.fz),isNaN(F.x)||r>1&&isNaN(F.y)||r>2&&isNaN(F.z)){var U=F8*(r>2?Math.cbrt(.5+T):r>1?Math.sqrt(.5+T):T),N=T*V8,O=T*z8;r===1?F.x=U:r===2?(F.x=U*Math.cos(N),F.y=U*Math.sin(N)):(F.x=U*Math.sin(N)*Math.cos(O),F.y=U*Math.cos(N),F.z=U*Math.sin(N)*Math.sin(O))}(isNaN(F.vx)||r>1&&isNaN(F.vy)||r>2&&isNaN(F.vz))&&(F.vx=0,r>1&&(F.vy=0),r>2&&(F.vz=0))}}function I(T){return T.initialize&&T.initialize(n,_,r),T}return k(),i={tick:S,restart:function(){return m.restart(v),i},stop:function(){return m.stop(),i},numDimensions:function(T){return arguments.length?(r=Math.min(Wx,Math.max(1,Math.round(T))),d.forEach(I),i):r},nodes:function(T){return arguments.length?(n=T,k(),d.forEach(I),i):n},alpha:function(T){return arguments.length?(s=+T,i):s},alphaMin:function(T){return arguments.length?(o=+T,i):o},alphaDecay:function(T){return arguments.length?(l=+T,i):+l},alphaTarget:function(T){return arguments.length?(c=+T,i):c},velocityDecay:function(T){return arguments.length?(f=1-T,i):1-f},randomSource:function(T){return arguments.length?(_=T,d.forEach(I),i):_},force:function(T,P){return arguments.length>1?(P==null?d.delete(T):d.set(T,I(P)),i):d.get(T)},find:function(){var T=Array.prototype.slice.call(arguments),P=T.shift()||0,F=(r>1?T.shift():null)||0,U=(r>2?T.shift():null)||0,N=T.shift()||1/0,O=0,A=n.length,C,D,$,L,j,M;for(N*=N,O=0;O<A;++O)j=n[O],C=P-j.x,D=F-(j.y||0),$=U-(j.z||0),L=C*C+D*D+$*$,L<N&&(M=j,N=L);return M},on:function(T,P){return arguments.length>1?(g.on(T,P),i):g.on(T)}}}function U8(){var n,e,r,i,s,o=os(-30),l,c=1,f=1/0,d=.81;function m(S){var k,I=n.length,T=(e===1?PI(n,yg):e===2?NI(n,yg,Gx):e===3?MI(n,yg,Gx,L8):null).visitAfter(_);for(s=S,k=0;k<I;++k)r=n[k],T.visit(v)}function g(){if(n){var S,k=n.length,I;for(l=new Array(k),S=0;S<k;++S)I=n[S],l[I.index]=+o(I,S,n)}}function _(S){var k=0,I,T,P=0,F,U,N,O,A=S.length;if(A){for(F=U=N=O=0;O<A;++O)(I=S[O])&&(T=Math.abs(I.value))&&(k+=I.value,P+=T,F+=T*(I.x||0),U+=T*(I.y||0),N+=T*(I.z||0));k*=Math.sqrt(4/A),S.x=F/P,e>1&&(S.y=U/P),e>2&&(S.z=N/P)}else{I=S,I.x=I.data.x,e>1&&(I.y=I.data.y),e>2&&(I.z=I.data.z);do k+=l[I.data.index];while(I=I.next)}S.value=k}function v(S,k,I,T,P){if(!S.value)return!0;var F=[I,T,P][e-1],U=S.x-r.x,N=e>1?S.y-r.y:0,O=e>2?S.z-r.z:0,A=F-k,C=U*U+N*N+O*O;if(A*A/d<C)return C<f&&(U===0&&(U=Zi(i),C+=U*U),e>1&&N===0&&(N=Zi(i),C+=N*N),e>2&&O===0&&(O=Zi(i),C+=O*O),C<c&&(C=Math.sqrt(c*C)),r.vx+=U*S.value*s/C,e>1&&(r.vy+=N*S.value*s/C),e>2&&(r.vz+=O*S.value*s/C)),!0;if(S.length||C>=f)return;(S.data!==r||S.next)&&(U===0&&(U=Zi(i),C+=U*U),e>1&&N===0&&(N=Zi(i),C+=N*N),e>2&&O===0&&(O=Zi(i),C+=O*O),C<c&&(C=Math.sqrt(c*C)));do S.data!==r&&(A=l[S.data.index]*s/C,r.vx+=U*A,e>1&&(r.vy+=N*A),e>2&&(r.vz+=O*A));while(S=S.next)}return m.initialize=function(S,...k){n=S,i=k.find(I=>typeof I=="function")||Math.random,e=k.find(I=>[1,2,3].includes(I))||2,g()},m.strength=function(S){return arguments.length?(o=typeof S=="function"?S:os(+S),g(),m):o},m.distanceMin=function(S){return arguments.length?(c=S*S,m):Math.sqrt(c)},m.distanceMax=function(S){return arguments.length?(f=S*S,m):Math.sqrt(f)},m.theta=function(S){return arguments.length?(d=S*S,m):Math.sqrt(d)},m}function j8(n,e,r,i){var s,o,l=os(.1),c,f;typeof n!="function"&&(n=os(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function d(g){for(var _=0,v=s.length;_<v;++_){var S=s[_],k=S.x-e||1e-6,I=(S.y||0)-r||1e-6,T=(S.z||0)-i||1e-6,P=Math.sqrt(k*k+I*I+T*T),F=(f[_]-P)*c[_]*g/P;S.vx+=k*F,o>1&&(S.vy+=I*F),o>2&&(S.vz+=T*F)}}function m(){if(s){var g,_=s.length;for(c=new Array(_),f=new Array(_),g=0;g<_;++g)f[g]=+n(s[g],g,s),c[g]=isNaN(f[g])?0:+l(s[g],g,s)}}return d.initialize=function(g,..._){s=g,o=_.find(v=>[1,2,3].includes(v))||2,m()},d.strength=function(g){return arguments.length?(l=typeof g=="function"?g:os(+g),m(),d):l},d.radius=function(g){return arguments.length?(n=typeof g=="function"?g:os(+g),m(),d):n},d.x=function(g){return arguments.length?(e=+g,d):e},d.y=function(g){return arguments.length?(r=+g,d):r},d.z=function(g){return arguments.length?(i=+g,d):i},d}const{abs:Fu,cos:Xi,sin:il,acos:B8,atan2:Vu,sqrt:js,pow:Tr}=Math;function zu(n){return n<0?-Tr(-n,1/3):Tr(n,1/3)}const LI=Math.PI,Ph=2*LI,Bs=LI/2,H8=1e-6,_g=Number.MAX_SAFE_INTEGER||9007199254740991,vg=Number.MIN_SAFE_INTEGER||-9007199254740991,q8={x:0,y:0,z:0},ye={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),js(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const s=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const c={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(c.z=s*o[0].z+n*o[1].z),c}if(i<4){let c=s*s,f=n*n,d,m,g,_=0;i===2?(o=[o[0],o[1],o[2],q8],d=c,m=s*n*2,g=f):i===3&&(d=c*s,m=c*n*3,g=s*f*3,_=n*f);const v={x:d*o[0].x+m*o[1].x+g*o[2].x+_*o[3].x,y:d*o[0].y+m*o[1].y+g*o[2].y+_*o[3].y,t:n};return r&&(v.z=d*o[0].z+m*o[1].z+g*o[2].z+_*o[3].z),v}const l=JSON.parse(JSON.stringify(e));for(;l.length>1;){for(let c=0;c<l.length-1;c++)l[c]={x:l[c].x+(l[c+1].x-l[c].x)*n,y:l[c].y+(l[c+1].y-l[c].y)*n},typeof l[c].z<"u"&&(l[c].z=l[c].z+(l[c+1].z-l[c].z)*n);l.splice(l.length-1,1)}return l[0].t=n,l[0]},computeWithRatios:function(n,e,r,i){const s=1-n,o=r,l=e;let c=o[0],f=o[1],d=o[2],m=o[3],g;if(c*=s,f*=n,l.length===2)return g=c+f,{x:(c*l[0].x+f*l[1].x)/g,y:(c*l[0].y+f*l[1].y)/g,z:i?(c*l[0].z+f*l[1].z)/g:!1,t:n};if(c*=s,f*=2*s,d*=n*n,l.length===3)return g=c+f+d,{x:(c*l[0].x+f*l[1].x+d*l[2].x)/g,y:(c*l[0].y+f*l[1].y+d*l[2].y)/g,z:i?(c*l[0].z+f*l[1].z+d*l[2].z)/g:!1,t:n};if(c*=s,f*=1.5*s,d*=3*s,m*=n*n*n,l.length===4)return g=c+f+d+m,{x:(c*l[0].x+f*l[1].x+d*l[2].x+m*l[3].x)/g,y:(c*l[0].y+f*l[1].y+d*l[2].y+m*l[3].y)/g,z:i?(c*l[0].z+f*l[1].z+d*l[2].z+m*l[3].z)/g:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,s=i.length,o=s-1;s>1;s--,o--){const l=[];for(let c=0,f;c<o;c++)f={x:o*(i[c+1].x-i[c].x),y:o*(i[c+1].y-i[c].y)},e&&(f.z=o*(i[c+1].z-i[c].z)),l.push(f);r.push(l),i=l}return r},between:function(n,e,r){return e<=n&&n<=r||ye.approximately(n,e)||ye.approximately(n,r)},approximately:function(n,e,r){return Fu(n-e)<=(r||H8)},length:function(n){const r=ye.Tvalues.length;let i=0;for(let s=0,o;s<r;s++)o=.5*ye.Tvalues[s]+.5,i+=ye.Cvalues[s]*ye.arcfn(o,n);return .5*i},map:function(n,e,r,i,s){const o=r-e,l=s-i,c=n-e,f=c/o;return i+l*f},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(ye.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-n.x,l=r.y-n.y,c=i*l-s*o,f=i*o+s*l;return Vu(c,f)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return js(r*r+i*i)},closest:function(n,e){let r=Tr(2,63),i,s;return n.forEach(function(o,l){s=ye.dist(e,o),s<r&&(r=s,i=l)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Tr(n,e)+Tr(1-n,e),i=r-1;return Fu(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Tr(1-n,e),i=Tr(n,e)+r;return r/i},lli8:function(n,e,r,i,s,o,l,c){const f=(n*i-e*r)*(s-l)-(n-r)*(s*c-o*l),d=(n*i-e*r)*(o-c)-(e-i)*(s*c-o*l),m=(n-r)*(o-c)-(e-i)*(s-l);return m==0?!1:{x:f/m,y:d/m}},lli4:function(n,e,r,i){const s=n.x,o=n.y,l=e.x,c=e.y,f=r.x,d=r.y,m=i.x,g=i.y;return ye.lli8(s,o,l,c,f,d,m,g)},lli:function(n,e){return ye.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Et(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=_g,r=_g,i=vg,s=vg;return n.forEach(function(o){const l=o.bbox();e>l.x.min&&(e=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),s<l.y.max&&(s=l.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,i,s){if(!ye.bboxoverlap(e,i))return[];const o=[],l=[n.startcap,n.forward,n.back,n.endcap],c=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(f){f.virtual||c.forEach(function(d){if(d.virtual)return;const m=f.intersects(d,s);m.length>0&&(m.c1=f,m.c2=d,m.s1=n,m.s2=r,o.push(m))})}),o},makeshape:function(n,e,r){const i=e.points.length,s=n.points.length,o=ye.makeline(e.points[i-1],n.points[0]),l=ye.makeline(n.points[s-1],e.points[0]),c={startcap:o,forward:n,back:e,endcap:l,bbox:ye.findbbox([o,n,e,l])};return c.intersections=function(f){return ye.shapeintersections(c,c.bbox,f,f.bbox,r)},c},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=_g,s=vg,o,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let c=0,f=r.length;c<f;c++)o=r[c],l=n.get(o),l[e]<i&&(i=l[e]),l[e]>s&&(s=l[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,s=-Vu(e.p2.y-i,e.p2.x-r),o=function(l){return{x:(l.x-r)*Xi(s)-(l.y-i)*il(s),y:(l.x-r)*il(s)+(l.y-i)*Xi(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=ye.align(n,e),s=function(A){return 0<=A&&A<=1};if(r===2){const A=i[0].y,C=i[1].y,D=i[2].y,$=A-2*C+D;if($!==0){const L=-js(C*C-A*D),j=-A+C,M=-(L+j)/$,q=-(-L+j)/$;return[M,q].filter(s)}else if(C!==D&&$===0)return[(2*C-D)/(2*C-2*D)].filter(s);return[]}const o=i[0].y,l=i[1].y,c=i[2].y,f=i[3].y;let d=-o+3*l-3*c+f,m=3*o-6*l+3*c,g=-3*o+3*l,_=o;if(ye.approximately(d,0)){if(ye.approximately(m,0))return ye.approximately(g,0)?[]:[-_/g].filter(s);const A=js(g*g-4*m*_),C=2*m;return[(A-g)/C,(-g-A)/C].filter(s)}m/=d,g/=d,_/=d;const v=(3*g-m*m)/3,S=v/3,k=(2*m*m*m-9*m*g+27*_)/27,I=k/2,T=I*I+S*S*S;let P,F,U,N,O;if(T<0){const A=-v/3,C=A*A*A,D=js(C),$=-k/(2*D),L=$<-1?-1:$>1?1:$,j=B8(L),M=zu(D),q=2*M;return U=q*Xi(j/3)-m/3,N=q*Xi((j+Ph)/3)-m/3,O=q*Xi((j+2*Ph)/3)-m/3,[U,N,O].filter(s)}else{if(T===0)return P=I<0?zu(-I):-zu(I),U=2*P-m/3,N=-P-m/3,[U,N].filter(s);{const A=js(T);return P=zu(-I+A),F=zu(I+A),[P-F-m/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],s=e-2*r+i;if(s!==0){const o=-js(r*r-e*i),l=-e+r,c=-(o+l)/s,f=-(-o+l)/s;return[c,f]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,s){let o,l,c,f,d=0,m=0;const g=ye.compute(n,e),_=ye.compute(n,r),v=g.x*g.x+g.y*g.y;if(i?(o=js(Tr(g.y*_.z-_.y*g.z,2)+Tr(g.z*_.x-_.z*g.x,2)+Tr(g.x*_.y-_.x*g.y,2)),l=Tr(v+g.z*g.z,3/2)):(o=g.x*_.y-g.y*_.x,l=Tr(v,3/2)),o===0||l===0)return{k:0,r:0};if(d=o/l,m=l/o,!s){const S=ye.curvature(n-.001,e,r,i,!0).k,k=ye.curvature(n+.001,e,r,i,!0).k;f=(k-d+(d-S))/2,c=(Fu(k-d)+Fu(d-S))/2}return{k:d,r:m,dk:f,adk:c}},inflections:function(n){if(n.length<4)return[];const e=ye.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,l=18*(-3*r+2*i+3*s-o),c=18*(3*r-i-3*s),f=18*(s-r);if(ye.approximately(l,0)){if(!ye.approximately(c,0)){let _=-f/c;if(0<=_&&_<=1)return[_]}return[]}const d=2*l;if(ye.approximately(d,0))return[];const m=c*c-4*l*f;if(m<0)return[];const g=Math.sqrt(m);return[(g-c)/d,-(c+g)/d].filter(function(_){return 0<=_&&_<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let s=0,o,l,c,f;s<i;s++)if(o=r[s],l=n[o].mid,c=e[o].mid,f=(n[o].size+e[o].size)/2,Fu(l-c)>=f)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),s=e.bbox(),o=1e5,l=r||.5;if(i.x.size+i.y.size<l&&s.x.size+s.y.size<l)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let c=n.split(.5),f=e.split(.5),d=[{left:c.left,right:f.left},{left:c.left,right:f.right},{left:c.right,right:f.right},{left:c.right,right:f.left}];d=d.filter(function(g){return ye.bboxoverlap(g.left.bbox(),g.right.bbox())});let m=[];return d.length===0||(d.forEach(function(g){m=m.concat(ye.pairiteration(g.left,g.right,l))}),m=m.filter(function(g,_){return m.indexOf(g)===_})),m},getccenter:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-e.x,l=r.y-e.y,c=i*Xi(Bs)-s*il(Bs),f=i*il(Bs)+s*Xi(Bs),d=o*Xi(Bs)-l*il(Bs),m=o*il(Bs)+l*Xi(Bs),g=(n.x+e.x)/2,_=(n.y+e.y)/2,v=(e.x+r.x)/2,S=(e.y+r.y)/2,k=g+c,I=_+f,T=v+d,P=S+m,F=ye.lli8(g,_,k,I,v,S,T,P),U=ye.dist(F,n);let N=Vu(n.y-F.y,n.x-F.x),O=Vu(e.y-F.y,e.x-F.x),A=Vu(r.y-F.y,r.x-F.x),C;return N<A?((N>O||O>A)&&(N+=Ph),N>A&&(C=A,A=N,N=C)):A<O&&O<N?(C=A,A=N,N=C):A+=Ph,F.s=N,F.e=A,F.r=U,F},numberSort:function(n,e){return n-e}};class uc{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return ye.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)ye.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new uc(r)}}const{abs:$u,min:Kx,max:Qx,cos:W8,sin:G8,acos:K8,sqrt:Uu}=Math,Q8=Math.PI;class Et{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const v=[];r.forEach(function(S){["x","y","z"].forEach(function(k){typeof S[k]<"u"&&v.push(S[k])})}),r=v}let s=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",c=this.points=[];for(let v=0,S=l?3:2;v<o;v+=S){var f={x:r[v],y:r[v+1]};l&&(f.z=r[v+2]),c.push(f)}const d=this.order=c.length-1,m=this.dims=["x","y"];l&&m.push("z"),this.dimlen=m.length;const g=ye.align(c,{p1:c[0],p2:c[d]}),_=ye.dist(c[0],c[d]);this._linear=g.reduce((v,S)=>v+$u(S.y),0)<_/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new Et(r,r,i);if(s===1)return new Et(e,r,r);const o=Et.getABC(2,e,r,i,s);return new Et(e,o.A,i)}static cubicFromPoints(e,r,i,s,o){typeof s>"u"&&(s=.5);const l=Et.getABC(3,e,r,i,s);typeof o>"u"&&(o=ye.dist(r,l.C));const c=o*(1-s)/s,f=ye.dist(e,i),d=(i.x-e.x)/f,m=(i.y-e.y)/f,g=o*d,_=o*m,v=c*d,S=c*m,k={x:r.x-g,y:r.y-_},I={x:r.x+v,y:r.y+S},T=l.A,P={x:T.x+(k.x-T.x)/(1-s),y:T.y+(k.y-T.y)/(1-s)},F={x:T.x+(I.x-T.x)/s,y:T.y+(I.y-T.y)/s},U={x:e.x+(P.x-e.x)/s,y:e.y+(P.y-e.y)/s},N={x:i.x+(F.x-i.x)/(1-s),y:i.y+(F.y-i.y)/(1-s)};return new Et(e,U,N,i)}static getUtils(){return ye}getUtils(){return Et.getUtils()}static get PolyBezier(){return uc}valueOf(){return this.toString()}toString(){return ye.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let o=1,l=e.length;o<l;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=ye.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=ye.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return ye.length(this.derivative.bind(this))}static getABC(e=2,r,i,s,o=.5){const l=ye.projectionratio(o,e),c=1-l,f={x:l*r.x+c*s.x,y:l*r.y+c*s.y},d=ye.abcratio(o,e);return{A:{x:i.x+(i.x-f.x)/d,y:i.y+(i.y-f.y)/d},B:i,C:f,S:r,E:s}}getABC(e,r){r=r||this.get(e);let i=this.points[0],s=this.points[this.order];return Et.getABC(this.order,i,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,s;r<e;r++)s=r/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),s=[];for(let o=0,l,c=0;o<i.length;o++)l=i[o],ye.dist(l,e)<r&&(s.push(l),c+=o/i.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),i=r.length-1,s=ye.closest(r,e),o=s.mpos,l=(o-1)/i,c=(o+1)/i,f=.1/i;let d=s.mdist,m=l,g=m,_;d+=1;for(let v;m<c+f;m+=f)_=this.compute(m),v=ye.dist(e,_),v<d&&(d=v,g=m);return g=g<0?0:g>1?1:g,_=this.compute(g),_.t=g,_.d=d,_}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?ye.computeWithRatios(e,this.points,this.ratios,this._3d):ye.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let s=1,o,l;s<i;s++)o=e[s],l=e[s-1],r[s]={x:(i-s)/i*o.x+s/i*l.x,y:(i-s)/i*o.y+s/i*l.y};return r[i]=e[i-1],new Et(r)}derivative(e){return ye.compute(e,this.dpoints[0],this._3d)}dderivative(e){return ye.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Et(ye.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return ye.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ye.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=Uu(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),s=Uu(r.x*r.x+r.y*r.y+r.z*r.z),o=Uu(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=o,i.y/=o,i.z/=o;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},c=Uu(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=c,l.y/=c,l.z/=c;const f=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:e,x:f[0]*r.x+f[1]*r.y+f[2]*r.z,y:f[3]*r.x+f[4]*r.y+f[5]*r.z,z:f[6]*r.x+f[7]*r.y+f[8]*r.z}}hull(e){let r=this.points,i=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){i=[];for(let l=0,c,f=r.length-1;l<f;l++)c=ye.lerp(e,r[l],r[l+1]),s[o++]=c,i.push(c);r=i}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new Et([i[0],i[3],i[5]]):new Et([i[0],i[4],i[7],i[9]]),right:this.order===2?new Et([i[5],i[4],i[2]]):new Et([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=ye.map(0,0,1,this._t1,this._t2),s.left._t2=ye.map(e,0,1,this._t1,this._t2),s.right._t1=ye.map(e,0,1,this._t1,this._t2),s.right._t2=ye.map(1,0,1,this._t1,this._t2),r?(r=ye.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let s=function(l){return l[i]},o=this.dpoints[0].map(s);e[i]=ye.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(ye.droots(o))),e[i]=e[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(e[i].sort(ye.numberSort))}).bind(this)),e.values=r.sort(ye.numberSort).filter(function(i,s){return r.indexOf(i)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=ye.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return ye.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(o.z=i.z+s.z*r),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const l={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(l.z=o.z+e*i.z),l});return[new Et(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=ye.angle(this.points[0],this.points[3],this.points[1]),o=ye.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),$u(K8(i))<Q8/3}reduce(){let e,r=0,i=0,s=.01,o,l=[],c=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),r=f[0],e=1;e<f.length;e++)i=f[e],o=this.split(r,i),o._t1=r,o._t2=i,l.push(o),r=i;return l.forEach(function(d){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(o=d.split(r,i),!o.simple()){if(i-=s,$u(r-i)<s)return[];o=d.split(r,i),o._t1=ye.map(r,0,1,d._t1,d._t2),o._t2=ye.map(i,0,1,d._t1,d._t2),c.push(o),r=i;break}r<1&&(o=d.split(r,1),o._t1=ye.map(r,0,1,d._t1,d._t2),o._t2=d._t2,c.push(o))}),c}translate(e,r,i){i=typeof i=="number"?i:r;const s=this.order;let o=this.points.map((l,c)=>(1-c/s)*r+c/s*i);return new Et(this.points.map((l,c)=>({x:l.x+e.x*o[c],y:l.y+e.y*o[c]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const l=i?i(0):e,c=i?i(1):e,f=[this.offset(0,10),this.offset(1,10)],d=[],m=ye.lli4(f[0],f[0].c,f[1],f[1].c);if(!m)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(g){const _=d[g*r]=ye.copy(o[g*r]);_.x+=(g?c:l)*f[g].n.x,_.y+=(g?c:l)*f[g].n.y}),i?([0,1].forEach(function(g){if(!(r===2&&g)){var _=o[g+1],v={x:_.x-m.x,y:_.y-m.y},S=i?i((g+1)/r):e;i&&!s&&(S=-S);var k=Uu(v.x*v.x+v.y*v.y);v.x/=k,v.y/=k,d[g+1]={x:_.x+S*v.x,y:_.y+S*v.y}}}),new Et(d)):([0,1].forEach(g=>{if(r===2&&g)return;const _=d[g*r],v=this.derivative(g),S={x:_.x+v.x,y:_.y+v.y};d[g+1]=ye.lli4(_,S,m,o[g+1])}),new Et(d))}outline(e,r,i,s){if(r=r===void 0?e:r,this._linear){const N=this.normal(0),O=this.points[0],A=this.points[this.points.length-1];let C,D,$;i===void 0&&(i=e,s=r),C={x:O.x+N.x*e,y:O.y+N.y*e},$={x:A.x+N.x*i,y:A.y+N.y*i},D={x:(C.x+$.x)/2,y:(C.y+$.y)/2};const L=[C,D,$];C={x:O.x-N.x*r,y:O.y-N.y*r},$={x:A.x-N.x*s,y:A.y-N.y*s},D={x:(C.x+$.x)/2,y:(C.y+$.y)/2};const j=[$,D,C],M=ye.makeline(j[2],L[0]),q=ye.makeline(L[2],j[0]),ie=[M,new Et(L),q,new Et(j)];return new uc(ie)}const o=this.reduce(),l=o.length,c=[];let f=[],d,m=0,g=this.length();const _=typeof i<"u"&&typeof s<"u";function v(N,O,A,C,D){return function($){const L=C/A,j=(C+D)/A,M=O-N;return ye.map($,0,1,N+L*M,N+j*M)}}o.forEach(function(N){const O=N.length();_?(c.push(N.scale(v(e,i,g,m,O))),f.push(N.scale(v(-r,-s,g,m,O)))):(c.push(N.scale(e)),f.push(N.scale(-r))),m+=O}),f=f.map(function(N){return d=N.points,d[3]?N.points=[d[3],d[2],d[1],d[0]]:N.points=[d[2],d[1],d[0]],N}).reverse();const S=c[0].points[0],k=c[l-1].points[c[l-1].points.length-1],I=f[l-1].points[f[l-1].points.length-1],T=f[0].points[0],P=ye.makeline(I,S),F=ye.makeline(k,T),U=[P].concat(c).concat([F]).concat(f);return new uc(U)}outlineshapes(e,r,i){r=r||e;const s=this.outline(e,r).curves,o=[];for(let l=1,c=s.length;l<c/2;l++){const f=ye.makeshape(s[l],s[c-l],i);f.startcap.virtual=l>1,f.endcap.virtual=l<c/2-1,o.push(f)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Et&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=Kx(e.p1.x,e.p2.x),i=Kx(e.p1.y,e.p2.y),s=Qx(e.p1.x,e.p2.x),o=Qx(e.p1.y,e.p2.y);return ye.roots(this.points,e).filter(l=>{var c=this.get(l);return ye.between(c.x,r,s)&&ye.between(c.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,s=[];for(let o=0,l,c,f;o<i;o++)c=r.slice(o,o+1),f=r.slice(o+2),l=this.curveintersects(c,f,e),s.push(...l);return s}curveintersects(e,r,i){const s=[];e.forEach(function(l){r.forEach(function(c){l.overlaps(c)&&s.push({left:l,right:c})})});let o=[];return s.forEach(function(l){const c=ye.pairiteration(l.left,l.right,i);c.length>0&&(o=o.concat(c))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,s){const o=(s-i)/4,l=this.get(i+o),c=this.get(s-o),f=ye.dist(e,r),d=ye.dist(e,l),m=ye.dist(e,c);return $u(d-f)+$u(m-f)}_iterate(e,r){let i=0,s=1,o;do{o=0,s=1;let l=this.get(i),c,f,d,m,g=!1,_=!1,v,S=s,k=1;do if(_=g,m=d,S=(i+s)/2,c=this.get(S),f=this.get(s),d=ye.getccenter(l,c,f),d.interval={start:i,end:s},g=this._error(d,l,i,s)<=e,v=_&&!g,v||(k=s),g){if(s>=1){if(d.interval.end=k=1,m=d,s>1){let T={x:d.x+d.r*W8(d.e),y:d.y+d.r*G8(d.e)};d.e+=ye.angle({x:d.x,y:d.y},T,this.get(1))}break}s=s+(s-i)/2}else s=S;while(!v&&o++<100);if(o>=100)break;m=m||d,r.push(m),i=k}while(s<1);return r}}function My(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Y8(n){if(Array.isArray(n))return n}function X8(n){if(Array.isArray(n))return My(n)}function J8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Z8(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function eB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(n,e){if(n==null)return{};var r,i,s=rB(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function rB(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function iB(n,e){return Y8(n)||Z8(n,e)||FI(n,e)||eB()}function sB(n){return X8(n)||J8(n)||FI(n)||tB()}function oB(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aB(n){var e=oB(n,"string");return typeof e=="symbol"?e:e+""}function FI(n,e){if(n){if(typeof n=="string")return My(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?My(n,e):void 0}}var lB=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),o=n.reduce(function(c,f){var d=c,m=f;return s.forEach(function(g,_){var v=g.keyAccessor,S=g.isProp,k;if(S){var I=m,T=I[v],P=nB(I,[v].map(aB));k=T,m=P}else k=v(m,_);_+1<s.length?(d.hasOwnProperty(k)||(d[k]={}),d=d[k]):r?(d.hasOwnProperty(k)||(d[k]=[]),d[k].push(m)):d[k]=m}),c},{});r instanceof Function&&function c(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===s.length?Object.keys(f).forEach(function(m){return f[m]=r(f[m])}):Object.values(f).forEach(function(m){return c(m,d+1)})}(o);var l=o;return i&&(l=[],function c(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===s.length?l.push({keys:d,vals:f}):Object.entries(f).forEach(function(m){var g=iB(m,2),_=g[0],v=g[1];return c(v,[].concat(sB(d),[_]))})}(o),e instanceof Array&&e.length===0&&l.length===1&&(l[0].keys=[])),l};function uB(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const Yx=Symbol("implicit");function VI(){var n=new _x,e=[],r=[],i=Yx;function s(o){let l=n.get(o);if(l===void 0){if(i!==Yx)return i;n.set(o,l=e.push(o)-1)}return r[l%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new _x;for(const l of o)n.has(l)||n.set(l,e.push(l)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return VI(e,r).unknown(i)},uB.apply(s,arguments),s}function cB(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const fB=cB("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function hB(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var dB=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;hB(dB);function Ly(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function pB(n){if(Array.isArray(n))return n}function mB(n){if(Array.isArray(n))return Ly(n)}function Xx(n,e,r){if(zI())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var s=new(n.bind.apply(n,i));return s}function Pc(n,e,r){return(e=EB(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function zI(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!n})()}function gB(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yB(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,l,c=[],f=!0,d=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(f=(i=o.call(r)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,s=m}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function _B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jx(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function sl(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jx(Object(r),!0).forEach(function(i){Pc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Jx(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cc(n,e){return pB(n)||yB(n,e)||$I(n,e)||_B()}function kr(n){return mB(n)||gB(n)||$I(n)||vB()}function wB(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EB(n){var e=wB(n,"string");return typeof e=="symbol"?e:e+""}function Fy(n){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(n)}function $I(n,e){if(n){if(typeof n=="string")return Ly(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ly(n,e):void 0}}var xB=VI(fB);function Zx(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=xB(e(i))})}function TB(n,e){var r=n.nodes,i=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,l=o===void 0?function(){return!0}:o,c=s.onLoopError,f=c===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:c,d={};r.forEach(function(v){return d[e(v)]={data:v,out:[],depth:-1,skip:!l(v)}}),i.forEach(function(v){var S=v.source,k=v.target,I=U(S),T=U(k);if(!d.hasOwnProperty(I))throw"Missing source node with id: ".concat(I);if(!d.hasOwnProperty(T))throw"Missing target node with id: ".concat(T);var P=d[I],F=d[T];P.out.push(F);function U(N){return Fy(N)==="object"?e(N):N}});var m=[];_(Object.values(d));var g=Object.assign.apply(Object,[{}].concat(kr(Object.entries(d).filter(function(v){var S=cc(v,2),k=S[1];return!k.skip}).map(function(v){var S=cc(v,2),k=S[0],I=S[1];return Pc({},k,I.depth)}))));return g;function _(v){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=function(){var U=v[T];if(S.indexOf(U)!==-1){var N=[].concat(kr(S.slice(S.indexOf(U))),[U]).map(function(O){return e(O.data)});return m.some(function(O){return O.length===N.length&&O.every(function(A,C){return A===N[C]})})||(m.push(N),f(N)),1}k>U.depth&&(U.depth=k,_(U.out,[].concat(kr(S),[U]),k+(U.skip?0:1)))},T=0,P=v.length;T<P;T++)I()}}var SB=2,_n=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},eT=function(e,r){if(!r.isShadow){var i=ft(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=kr(Array(o)).map(function(){return{}}):delete s.__photons})}},Cd=ev({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,eT(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:_n},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:_n},nodeColor:{default:"color",triggerUpdate:!1,onChange:_n},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:_n},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:_n},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:_n},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:_n},linkColor:{default:"color",triggerUpdate:!1,onChange:_n},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:_n},linkWidth:{default:1,triggerUpdate:!1,onChange:_n},linkCurvature:{default:0,triggerUpdate:!1,onChange:_n},linkCanvasObject:{triggerUpdate:!1,onChange:_n},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:_n},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:_n},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:_n},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:_n},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:eT},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&l(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var c=ft(e.nodeVisibility),f=ft(e.nodeVal),d=ft(e.nodeColor),m=ft(e.nodeCanvasObjectMode),g=e.ctx,_=e.isShadow/e.globalScale,v=e.graphData.nodes.filter(c);g.save(),v.forEach(function(S){var k=m(S);if(e.nodeCanvasObject&&(k==="before"||k==="replace")&&(e.nodeCanvasObject(S,g,e.globalScale),k==="replace")){g.restore();return}var I=Math.sqrt(Math.max(0,f(S)||1))*e.nodeRelSize+_;g.beginPath(),g.arc(S.x,S.y,I,0,2*Math.PI,!1),g.fillStyle=d(S)||"rgba(31, 120, 180, 0.92)",g.fill(),e.nodeCanvasObject&&k==="after"&&e.nodeCanvasObject(S,e.ctx,e.globalScale)}),g.restore()}function s(){var c=ft(e.linkVisibility),f=ft(e.linkColor),d=ft(e.linkWidth),m=ft(e.linkLineDash),g=ft(e.linkCurvature),_=ft(e.linkCanvasObjectMode),v=e.ctx,S=e.isShadow*2,k=e.graphData.links.filter(c);k.forEach(O);var I=[],T=[],P=k;if(e.linkCanvasObject){var F=[],U=[];k.forEach(function(A){return({before:I,after:T,replace:F}[_(A)]||U).push(A)}),P=[].concat(kr(I),T,U),I=I.concat(F)}v.save(),I.forEach(function(A){return e.linkCanvasObject(A,v,e.globalScale)}),v.restore();var N=lB(P,[f,d,m]);v.save(),Object.entries(N).forEach(function(A){var C=cc(A,2),D=C[0],$=C[1],L=!D||D==="undefined"?"rgba(0,0,0,0.15)":D;Object.entries($).forEach(function(j){var M=cc(j,2),q=M[0],ie=M[1],oe=(q||1)/e.globalScale+S;Object.entries(ie).forEach(function(ce){var se=cc(ce,2);se[0];var ue=se[1],V=m(ue[0]);v.beginPath(),ue.forEach(function(W){var ee=W.source,B=W.target;if(!(!ee||!B||!ee.hasOwnProperty("x")||!B.hasOwnProperty("x"))){v.moveTo(ee.x,ee.y);var ve=W.__controlPoints;ve?v[ve.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(v,kr(ve).concat([B.x,B.y])):v.lineTo(B.x,B.y)}}),v.strokeStyle=L,v.lineWidth=oe,v.setLineDash(V||[]),v.stroke()})})}),v.restore(),v.save(),T.forEach(function(A){return e.linkCanvasObject(A,v,e.globalScale)}),v.restore();function O(A){var C=g(A);if(!C){A.__controlPoints=null;return}var D=A.source,$=A.target;if(!(!D||!$||!D.hasOwnProperty("x")||!$.hasOwnProperty("x"))){var L=Math.sqrt(Math.pow($.x-D.x,2)+Math.pow($.y-D.y,2));if(L>0){var j=Math.atan2($.y-D.y,$.x-D.x),M=L*C,q={x:(D.x+$.x)/2+M*Math.cos(j-Math.PI/2),y:(D.y+$.y)/2+M*Math.sin(j-Math.PI/2)};A.__controlPoints=[q.x,q.y]}else{var ie=C*70;A.__controlPoints=[$.x,$.y-ie,$.x+ie,$.y]}}}}function o(){var c=1.6,f=.2,d=ft(e.linkDirectionalArrowLength),m=ft(e.linkDirectionalArrowRelPos),g=ft(e.linkVisibility),_=ft(e.linkDirectionalArrowColor||e.linkColor),v=ft(e.nodeVal),S=e.ctx;S.save(),e.graphData.links.filter(g).forEach(function(k){var I=d(k);if(!(!I||I<0)){var T=k.source,P=k.target;if(!(!T||!P||!T.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var F=Math.sqrt(Math.max(0,v(T)||1))*e.nodeRelSize,U=Math.sqrt(Math.max(0,v(P)||1))*e.nodeRelSize,N=Math.min(1,Math.max(0,m(k))),O=_(k)||"rgba(0,0,0,0.28)",A=I/c/2,C=k.__controlPoints&&Xx(Et,[T.x,T.y].concat(kr(k.__controlPoints),[P.x,P.y])),D=C?function(oe){return C.get(oe)}:function(oe){return{x:T.x+(P.x-T.x)*oe||0,y:T.y+(P.y-T.y)*oe||0}},$=C?C.length():Math.sqrt(Math.pow(P.x-T.x,2)+Math.pow(P.y-T.y,2)),L=F+I+($-F-U-I)*N,j=D(L/$),M=D((L-I)/$),q=D((L-I*(1-f))/$),ie=Math.atan2(j.y-M.y,j.x-M.x)-Math.PI/2;S.beginPath(),S.moveTo(j.x,j.y),S.lineTo(M.x+A*Math.cos(ie),M.y+A*Math.sin(ie)),S.lineTo(q.x,q.y),S.lineTo(M.x-A*Math.cos(ie),M.y-A*Math.sin(ie)),S.fillStyle=O,S.fill()}}}),S.restore()}function l(){var c=ft(e.linkDirectionalParticles),f=ft(e.linkDirectionalParticleSpeed),d=ft(e.linkDirectionalParticleWidth),m=ft(e.linkVisibility),g=ft(e.linkDirectionalParticleColor||e.linkColor),_=e.ctx;_.save(),e.graphData.links.filter(m).forEach(function(v){var S=c(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var k=v.source,I=v.target;if(!(!k||!I||!k.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var T=f(v),P=v.__photons||[],F=Math.max(0,d(v)/2)/Math.sqrt(e.globalScale),U=g(v)||"rgba(0,0,0,0.28)";_.fillStyle=U;var N=v.__controlPoints?Xx(Et,[k.x,k.y].concat(kr(v.__controlPoints),[I.x,I.y])):null,O=0,A=!1;P.forEach(function(C){var D=!!C.__singleHop;if(C.hasOwnProperty("__progressRatio")||(C.__progressRatio=D?0:O/S),!D&&O++,C.__progressRatio+=T,C.__progressRatio>=1)if(!D)C.__progressRatio=C.__progressRatio%1;else{A=!0;return}var $=C.__progressRatio,L=N?N.get($):{x:k.x+(I.x-k.x)*$||0,y:k.y+(I.y-k.y)*$||0};_.beginPath(),_.arc(L.x,L.y,F,0,2*Math.PI,!1),_.fill()}),A&&(v.__photons=v.__photons.filter(function(C){return!C.__singleHop||C.__progressRatio<=1}))}}}),_.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:$8().force("link",O8()).force("charge",U8()).force("center",Dj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&Zx(e.graphData.nodes,ft(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&Zx(e.graphData.links,ft(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(_){_.source=_[e.linkSource],_.target=_[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(_){return _[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&TB(e.graphData,function(_){return _[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,kr(Object.values(s||[]))),l=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*SB*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(_){return delete _[c]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var f=["rl","bu"].includes(e.dagMode),d=function(v){return(s[v[e.nodeId]]-o/2)*l*(f?-1:1)},m=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(_){return _[m]=d(_)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?j8(function(_){var v=s[_[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-v:v)*l}).strength(function(_){return e.dagNodeFilter(_)?1:0}):null);for(var g=0;g<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);g++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function UI(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(c,f){r.forEach(function(d){return f[d][o](c)})},triggerUpdate:!1}},linkMethod:function(o){return function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];var m=[];return r.forEach(function(g){var _=l[g],v=_[o].apply(_,f);v!==_&&m.push(v)}),m.length?m[0]:this}}}}var bB=800,kB=4,jI=UI("forceGraph",Cd),IB=UI(["forceGraph","shadowGraph"],Cd),CB=Object.assign.apply(Object,kr(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Pc({},n,jI.linkProp(n))})).concat(kr(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Pc({},n,IB.linkProp(n))})))),AB=Object.assign.apply(Object,kr(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Pc({},n,jI.linkMethod(n))})));function wg(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var s=pi(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function BI(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function tT(n,e,r){n.save(),BI(n),n.clearRect(0,0,e,r),n.restore()}var RB=ev({props:sl({width:{default:window.innerWidth,onChange:function(e,r){return wg(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return wg(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(s){var o=s.type,l=s.objs;l.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var f=r.colorTracker.lookup(c.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==c}).forEach(function(c){c.__indexColor=r.colorTracker.register({type:o,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},CB),aliases:{stopAnimation:"pauseAnimation"},methods:sl({graph2ScreenCoords:function(e,r,i){var s=pi(e.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(e,r,i){var s=pi(e.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(e,r,i,s){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?e.tweenGroup.add(new Sx(l()).to(o,s).easing(ea.Quadratic.Out).onUpdate(c).start()):c(o),this}return l();function l(){var f=pi(e.canvas);return{x:(e.width/2-f.x)/f.k,y:(e.height/2-f.y)/f.k}}function c(f){var d=f.x,m=f.y;e.zoom.translateTo(e.zoom.__baseElem,d===void 0?l().x:d,m===void 0?l().y:m),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new Sx({k:s()}).to({k:r},i).easing(ea.Quadratic.Out).onUpdate(function(l){var c=l.k;return o(c)}).start()):o(r),this;return s();function s(){return pi(e.canvas).k}function o(l){e.zoom.scaleTo(e.zoom.__baseElem,l),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];var c=this.getGraphBbox.apply(this,o);if(c){var f={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(c.x[1]-c.x[0]),(e.height-i*2)/(c.y[1]-c.y[0])));this.centerAt(f.x,f.y,r),this.zoom(d,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=ft(e.nodeVal),s=function(c){return Math.sqrt(Math.max(0,i(c)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:s(l)}});return o.length?{x:[Ex(o,function(l){return l.x-l.r}),wx(o,function(l){return l.x+l.r})],y:[Ex(o,function(l){return l.y-l.r}),wx(o,function(l){return l.y+l.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},AB),stateInit:function(){return{lastSetZoom:1,zoom:nU(),forceGraph:new Cd,shadowGraph:new Cd().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new hj,tweenGroup:new pI}},init:function(e,r){var i=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},f=function(){var g=null,_=window.devicePixelRatio,v=c.x>0&&c.y>0?l.getImageData(c.x*_,c.y*_,1,1):null;return v&&(g=r.colorTracker.lookup(v.data)),g};br(r.canvas).call(h9().subject(function(){if(!r.enableNodeDrag)return null;var m=f();return m&&m.type==="Node"?m.d:null}).on("start",function(m){var g=m.subject;g.__initialDragPos={x:g.x,y:g.y,fx:g.fx,fy:g.fy},m.active||(g.fx=g.x,g.fy=g.y),r.canvas.classList.add("grabbable")}).on("drag",function(m){var g=m.subject,_=g.__initialDragPos,v=m,S=pi(r.canvas).k,k={x:_.x+(v.x-_.x)/S-g.x,y:_.y+(v.y-_.y)/S-g.y};["x","y"].forEach(function(I){return g["f".concat(I)]=g[I]=_[I]+(v[I]-_[I])/S}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,g.__dragged=!0,r.onNodeDrag(g,k)}).on("end",function(m){var g=m.subject,_=g.__initialDragPos,v={x:g.x-_.x,y:g.y-_.y};_.fx===void 0&&(g.fx=void 0),_.fy===void 0&&(g.fy=void 0),delete g.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,g.__dragged&&(delete g.__dragged,r.onNodeDragEnd(g,v))})),r.zoom(r.zoom.__baseElem=br(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(m){return!m.button&&r.enableZoomPanInteraction&&(m.type!=="wheel"||ft(r.enableZoomInteraction)(m))&&(m.type==="wheel"||ft(r.enablePanInteraction)(m))}).on("zoom",function(m){var g=m.transform;[o,l].forEach(function(_){BI(_),_.translate(g.x,g.y),_.scale(g.k,g.k)}),r.onZoom&&r.onZoom(sl(sl({},g),i.centerAt())),r.needsRedraw=!0}).on("end",function(m){return r.onZoomEnd&&r.onZoomEnd(sl(sl({},m.transform),i.centerAt()))}),wg(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){pi(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=kB/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Nj(s),["pointermove","pointerdown"].forEach(function(m){return s.addEventListener(m,function(g){m==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=g),!r.isPointerDragging&&g.type==="pointermove"&&r.onBackgroundClick&&(g.pressure>0||r.isPointerPressed)&&(g.pointerType!=="touch"||g.movementX===void 0||[g.movementX,g.movementY].some(function(S){return Math.abs(S)>1}))&&(r.isPointerDragging=!0);var _=v(s);c.x=g.pageX-_.left,c.y=g.pageY-_.top;function v(S){var k=S.getBoundingClientRect(),I=window.pageXOffset||document.documentElement.scrollLeft,T=window.pageYOffset||document.documentElement.scrollTop;return{top:k.top+T,left:k.left+I}}},{passive:!0})}),s.addEventListener("pointerup",function(m){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var g=[m,r.pointerDownEvent];requestAnimationFrame(function(){if(m.button===0)if(r.hoverObj){var _=r["on".concat(r.hoverObj.type,"Click")];_&&_.apply(void 0,[r.hoverObj.d].concat(g))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,g);if(m.button===2)if(r.hoverObj){var v=r["on".concat(r.hoverObj.type,"RightClick")];v&&v.apply(void 0,[r.hoverObj.d].concat(g))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,g)})},{passive:!0}),s.addEventListener("contextmenu",function(m){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(m.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(l);var d=_U(function(){tT(l,r.width,r.height),r.shadowGraph.linkWidth(function(g){return ft(r.linkWidth)(g)+r.linkHoverPrecision});var m=pi(r.canvas);r.shadowGraph.globalScale(m.k).tickFrame()},bB);r.flushShadowCanvas=d.flush,(this._animationCycle=function m(){var g=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(F){return F.__photons&&F.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var _=r.isPointerDragging?null:f();if(_!==r.hoverObj){var v=r.hoverObj,S=v?v.type:null,k=_?_.type:null;if(S&&S!==k){var I=r["on".concat(S,"Hover")];I&&I(null,v.d)}if(k){var T=r["on".concat(k,"Hover")];T&&T(_.d,S===k?v.d:null)}r.tooltip.content(_&&ft(r["".concat(_.type.toLowerCase(),"Label")])(_.d)||null),r.canvas.classList[_&&r["on".concat(k,"Click")]||!_&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=_}g&&d()}if(g){tT(o,r.width,r.height);var P=pi(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,P),r.forceGraph.globalScale(P).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,P)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(m)})()},update:function(e){}}),Eg={exports:{}},xg,nT;function PB(){if(nT)return xg;nT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xg=n,xg}var Tg,rT;function OB(){if(rT)return Tg;rT=1;var n=PB();function e(){}function r(){}return r.resetWarningCache=e,Tg=function(){function i(l,c,f,d,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Tg}var iT;function NB(){return iT||(iT=1,Eg.exports=OB()()),Eg.exports}var DB=NB();const Y=aa(DB),op={width:Y.number,height:Y.number,graphData:Y.shape({nodes:Y.arrayOf(Y.object).isRequired,links:Y.arrayOf(Y.object).isRequired}),backgroundColor:Y.string,nodeRelSize:Y.number,nodeId:Y.string,nodeLabel:Y.oneOfType([Y.string,Y.func]),nodeVal:Y.oneOfType([Y.number,Y.string,Y.func]),nodeVisibility:Y.oneOfType([Y.bool,Y.string,Y.func]),nodeColor:Y.oneOfType([Y.string,Y.func]),nodeAutoColorBy:Y.oneOfType([Y.string,Y.func]),onNodeHover:Y.func,onNodeClick:Y.func,linkSource:Y.string,linkTarget:Y.string,linkLabel:Y.oneOfType([Y.string,Y.func]),linkVisibility:Y.oneOfType([Y.bool,Y.string,Y.func]),linkColor:Y.oneOfType([Y.string,Y.func]),linkAutoColorBy:Y.oneOfType([Y.string,Y.func]),linkWidth:Y.oneOfType([Y.number,Y.string,Y.func]),linkCurvature:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalArrowLength:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalArrowColor:Y.oneOfType([Y.string,Y.func]),linkDirectionalArrowRelPos:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalParticles:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalParticleSpeed:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalParticleWidth:Y.oneOfType([Y.number,Y.string,Y.func]),linkDirectionalParticleColor:Y.oneOfType([Y.string,Y.func]),onLinkHover:Y.func,onLinkClick:Y.func,dagMode:Y.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Y.number,dagNodeFilter:Y.func,onDagError:Y.func,d3AlphaMin:Y.number,d3AlphaDecay:Y.number,d3VelocityDecay:Y.number,warmupTicks:Y.number,cooldownTicks:Y.number,cooldownTime:Y.number,onEngineTick:Y.func,onEngineStop:Y.func,getGraphBbox:Y.func},HI={zoomToFit:Y.func,onNodeRightClick:Y.func,onNodeDrag:Y.func,onNodeDragEnd:Y.func,onLinkRightClick:Y.func,linkHoverPrecision:Y.number,onBackgroundClick:Y.func,onBackgroundRightClick:Y.func,enablePointerInteraction:Y.bool,enableNodeDrag:Y.bool},uv={showNavInfo:Y.bool,nodeOpacity:Y.number,nodeResolution:Y.number,nodeThreeObject:Y.oneOfType([Y.object,Y.string,Y.func]),nodeThreeObjectExtend:Y.oneOfType([Y.bool,Y.string,Y.func]),linkOpacity:Y.number,linkResolution:Y.number,linkCurveRotation:Y.oneOfType([Y.number,Y.string,Y.func]),linkMaterial:Y.oneOfType([Y.object,Y.string,Y.func]),linkThreeObject:Y.oneOfType([Y.object,Y.string,Y.func]),linkThreeObjectExtend:Y.oneOfType([Y.bool,Y.string,Y.func]),linkPositionUpdate:Y.func,linkDirectionalArrowResolution:Y.number,linkDirectionalParticleResolution:Y.number,forceEngine:Y.oneOf(["d3","ngraph"]),ngraphPhysics:Y.object,numDimensions:Y.oneOf([1,2,3])},MB=Object.assign({},op,HI,{linkLineDash:Y.oneOfType([Y.arrayOf(Y.number),Y.string,Y.func]),nodeCanvasObjectMode:Y.oneOfType([Y.string,Y.func]),nodeCanvasObject:Y.func,nodePointerAreaPaint:Y.func,linkCanvasObjectMode:Y.oneOfType([Y.string,Y.func]),linkCanvasObject:Y.func,linkPointerAreaPaint:Y.func,autoPauseRedraw:Y.bool,minZoom:Y.number,maxZoom:Y.number,enableZoomInteraction:Y.oneOfType([Y.bool,Y.func]),enablePanInteraction:Y.oneOfType([Y.bool,Y.func]),onZoom:Y.func,onZoomEnd:Y.func,onRenderFramePre:Y.func,onRenderFramePost:Y.func});Object.assign({},op,HI,uv,{enableNavigationControls:Y.bool,controlType:Y.oneOf(["trackball","orbit","fly"]),rendererConfig:Y.object,extraRenderers:Y.arrayOf(Y.shape({render:Y.func.isRequired}))});Object.assign({},op,uv,{nodeDesc:Y.oneOfType([Y.string,Y.func]),linkDesc:Y.oneOfType([Y.string,Y.func])});Object.assign({},op,uv,{markerAttrs:Y.object,yOffset:Y.number,glScale:Y.number});const cv=S5(RB,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});cv.displayName="ForceGraph2D";cv.propTypes=MB;function LB(n,e){const r={};return(n[n.length-1]===""?[...n,""]:n).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const FB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zB={};function sT(n,e){return(zB.jsx?VB:FB).test(n)}const $B=/[ \t\n\f\r]/g;function UB(n){return typeof n=="object"?n.type==="text"?oT(n.value):!1:oT(n)}function oT(n){return n.replace($B,"")===""}class Xc{constructor(e,r,i){this.property=e,this.normal=r,i&&(this.space=i)}}Xc.prototype.property={};Xc.prototype.normal={};Xc.prototype.space=null;function qI(n,e){const r={},i={};let s=-1;for(;++s<n.length;)Object.assign(r,n[s].property),Object.assign(i,n[s].normal);return new Xc(r,i,e)}function Vy(n){return n.toLowerCase()}class Ir{constructor(e,r){this.property=e,this.attribute=r}}Ir.prototype.space=null;Ir.prototype.boolean=!1;Ir.prototype.booleanish=!1;Ir.prototype.overloadedBoolean=!1;Ir.prototype.number=!1;Ir.prototype.commaSeparated=!1;Ir.prototype.spaceSeparated=!1;Ir.prototype.commaOrSpaceSeparated=!1;Ir.prototype.mustUseProperty=!1;Ir.prototype.defined=!1;let jB=0;const We=ma(),jt=ma(),WI=ma(),me=ma(),yt=ma(),El=ma(),sr=ma();function ma(){return 2**++jB}const zy=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:jt,commaOrSpaceSeparated:sr,commaSeparated:El,number:me,overloadedBoolean:WI,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),Sg=Object.keys(zy);class fv extends Ir{constructor(e,r,i,s){let o=-1;if(super(e,r),aT(this,"space",s),typeof i=="number")for(;++o<Sg.length;){const l=Sg[o];aT(this,Sg[o],(i&zy[l])===zy[l])}}}fv.prototype.defined=!0;function aT(n,e,r){r&&(n[e]=r)}const BB={}.hasOwnProperty;function ql(n){const e={},r={};let i;for(i in n.properties)if(BB.call(n.properties,i)){const s=n.properties[i],o=new fv(i,n.transform(n.attributes||{},i),s,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,r[Vy(i)]=i,r[Vy(o.attribute)]=i}return new Xc(e,r,n.space)}const GI=ql({space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),KI=ql({space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function QI(n,e){return e in n?n[e]:e}function YI(n,e){return QI(n,e.toLowerCase())}const XI=ql({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:YI,properties:{xmlns:null,xmlnsXLink:null}}),JI=ql({transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:yt,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:me,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:yt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:jt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null}}),HB=ql({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:YI,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:El,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:yt,autoFocus:We,autoPlay:We,blocking:yt,capture:null,charSet:null,checked:We,cite:null,className:yt,cols:me,colSpan:null,content:null,contentEditable:jt,controls:We,controlsList:yt,coords:me|El,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:WI,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:yt,height:me,hidden:We,high:me,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:yt,itemRef:yt,itemScope:We,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:me,pattern:null,ping:yt,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:yt,required:We,reversed:We,rows:me,rowSpan:me,sandbox:yt,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:jt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:me,security:null,unselectable:null}}),qB=ql({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:QI,properties:{about:sr,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:El,g2:El,glyphName:El,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:sr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sr,rev:sr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sr,requiredFeatures:sr,requiredFonts:sr,requiredFormats:sr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:sr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sr,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),WB=/^data[-\w.:]+$/i,lT=/-[a-z]/g,GB=/[A-Z]/g;function KB(n,e){const r=Vy(e);let i=e,s=Ir;if(r in n.normal)return n.property[n.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&WB.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(lT,YB);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!lT.test(o)){let l=o.replace(GB,QB);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=fv}return new s(i,e)}function QB(n){return"-"+n.toLowerCase()}function YB(n){return n.charAt(1).toUpperCase()}const XB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},JB=qI([KI,GI,XI,JI,HB],"html"),hv=qI([KI,GI,XI,JI,qB],"svg");function ZB(n){return n.join(" ").trim()}var ju={},bg,uT;function e7(){if(uT)return bg;uT=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",m="*",g="",_="comment",v="declaration";bg=function(k,I){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];I=I||{};var T=1,P=1;function F(M){var q=M.match(e);q&&(T+=q.length);var ie=M.lastIndexOf(f);P=~ie?M.length-ie:P+M.length}function U(){var M={line:T,column:P};return function(q){return q.position=new N(M),C(),q}}function N(M){this.start=M,this.end={line:T,column:P},this.source=I.source}N.prototype.content=k;function O(M){var q=new Error(I.source+":"+T+":"+P+": "+M);if(q.reason=M,q.filename=I.source,q.line=T,q.column=P,q.source=k,!I.silent)throw q}function A(M){var q=M.exec(k);if(q){var ie=q[0];return F(ie),k=k.slice(ie.length),q}}function C(){A(r)}function D(M){var q;for(M=M||[];q=$();)q!==!1&&M.push(q);return M}function $(){var M=U();if(!(d!=k.charAt(0)||m!=k.charAt(1))){for(var q=2;g!=k.charAt(q)&&(m!=k.charAt(q)||d!=k.charAt(q+1));)++q;if(q+=2,g===k.charAt(q-1))return O("End of comment missing");var ie=k.slice(2,q-2);return P+=2,F(ie),k=k.slice(q),P+=2,M({type:_,comment:ie})}}function L(){var M=U(),q=A(i);if(q){if($(),!A(s))return O("property missing ':'");var ie=A(o),oe=M({type:v,property:S(q[0].replace(n,g)),value:ie?S(ie[0].replace(n,g)):g});return A(l),oe}}function j(){var M=[];D(M);for(var q;q=L();)q!==!1&&(M.push(q),D(M));return M}return C(),j()};function S(k){return k?k.replace(c,g):g}return bg}var cT;function t7(){if(cT)return ju;cT=1;var n=ju.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ju,"__esModule",{value:!0}),ju.default=r;var e=n(e7());function r(i,s){var o=null;if(!i||typeof i!="string")return o;var l=(0,e.default)(i),c=typeof s=="function";return l.forEach(function(f){if(f.type==="declaration"){var d=f.property,m=f.value;c?s(d,m,f):m&&(o=o||{},o[d]=m)}}),o}return ju}var n7=t7();const fT=aa(n7),r7=fT.default||fT,ZI=eC("end"),dv=eC("start");function eC(n){return e;function e(r){const i=r&&r.position&&r.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function i7(n){const e=dv(n),r=ZI(n);if(e&&r)return{start:e,end:r}}function fc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?hT(n.position):"start"in n||"end"in n?hT(n):"line"in n||"column"in n?$y(n):""}function $y(n){return dT(n&&n.line)+":"+dT(n&&n.column)}function hT(n){return $y(n&&n.start)+"-"+$y(n&&n.end)}function dT(n){return n&&typeof n=="number"?n:1}class xn extends Error{constructor(e,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let s="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?o.ruleId=i:(o.source=i.slice(0,f),o.ruleId=i.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=fc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}xn.prototype.file="";xn.prototype.name="";xn.prototype.reason="";xn.prototype.message="";xn.prototype.stack="";xn.prototype.column=void 0;xn.prototype.line=void 0;xn.prototype.ancestors=void 0;xn.prototype.cause=void 0;xn.prototype.fatal=void 0;xn.prototype.place=void 0;xn.prototype.ruleId=void 0;xn.prototype.source=void 0;const pv={}.hasOwnProperty,s7=new Map,o7=/[A-Z]/g,a7=/-([a-z])/g,l7=new Set(["table","tbody","thead","tfoot","tr"]),u7=new Set(["td","th"]),tC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function c7(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=_7(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=y7(r,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?hv:JB,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=nC(s,n,void 0);return o&&typeof o!="string"?o:s.create(n,s.Fragment,{children:o||void 0},void 0)}function nC(n,e,r){if(e.type==="element")return f7(n,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return h7(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return p7(n,e,r);if(e.type==="mdxjsEsm")return d7(n,e);if(e.type==="root")return m7(n,e,r);if(e.type==="text")return g7(n,e)}function f7(n,e,r){const i=n.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=hv,n.schema=s),n.ancestors.push(e);const o=iC(n,e.tagName,!1),l=v7(n,e);let c=gv(n,e);return l7.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!UB(f):!0})),rC(n,l,o,e),mv(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,r)}function h7(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Oc(n,e.position)}function d7(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Oc(n,e.position)}function p7(n,e,r){const i=n.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=hv,n.schema=s),n.ancestors.push(e);const o=e.name===null?n.Fragment:iC(n,e.name,!0),l=w7(n,e),c=gv(n,e);return rC(n,l,o,e),mv(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,r)}function m7(n,e,r){const i={};return mv(i,gv(n,e)),n.create(e,n.Fragment,i,r)}function g7(n,e){return e.value}function rC(n,e,r,i){typeof r!="string"&&r!==n.Fragment&&n.passNode&&(e.node=i)}function mv(n,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(n.children=r)}}function y7(n,e,r){return i;function i(s,o,l,c){const d=Array.isArray(l.children)?r:e;return c?d(o,l,c):d(o,l)}}function _7(n,e){return r;function r(i,s,o,l){const c=Array.isArray(o.children),f=dv(i);return e(s,o,l,c,{columnNumber:f?f.column-1:void 0,fileName:n,lineNumber:f?f.line:void 0},void 0)}}function v7(n,e){const r={};let i,s;for(s in e.properties)if(s!=="children"&&pv.call(e.properties,s)){const o=E7(n,s,e.properties[s]);if(o){const[l,c]=o;n.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&u7.has(e.tagName)?i=c:r[l]=c}}if(i){const o=r.style||(r.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function w7(n,e){const r={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const o=i.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,n.evaluater.evaluateExpression(c.argument))}else Oc(n,e.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,o=n.evaluater.evaluateExpression(c.expression)}else Oc(n,e.position);else o=i.value===null?!0:i.value;r[s]=o}return r}function gv(n,e){const r=[];let i=-1;const s=n.passKeys?new Map:s7;for(;++i<e.children.length;){const o=e.children[i];let l;if(n.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;l=f+"-"+d,s.set(f,d+1)}}const c=nC(n,o,l);c!==void 0&&r.push(c)}return r}function E7(n,e,r){const i=KB(n.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?LB(r):ZB(r)),i.property==="style"){let s=typeof r=="object"?r:x7(n,String(r));return n.stylePropertyNameCase==="css"&&(s=T7(s)),["style",s]}return[n.elementAttributeNameCase==="react"&&i.space?XB[i.property]||i.property:i.attribute,r]}}function x7(n,e){const r={};try{r7(e,i)}catch(s){if(!n.ignoreInvalidStyle){const o=s,l=new xn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=tC+"#cannot-parse-style-attribute",l}}return r;function i(s,o){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(a7,b7)),r[l]=o}}function iC(n,e,r){let i;if(!r)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,l;for(;++o<s.length;){const c=sT(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}i=l}else i=sT(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return pv.call(n.components,s)?n.components[s]:s}if(n.evaluater)return n.evaluater.evaluateExpression(i);Oc(n)}function Oc(n,e){const r=new xn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=tC+"#cannot-handle-mdx-estrees-without-createevaluater",r}function T7(n){const e={};let r;for(r in n)pv.call(n,r)&&(e[S7(r)]=n[r]);return e}function S7(n){let e=n.replace(o7,k7);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function b7(n,e){return e.toUpperCase()}function k7(n){return"-"+n.toLowerCase()}const kg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},I7={};function C7(n,e){const r=I7,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return sC(n,i,s)}function sC(n,e,r){if(A7(n)){if("value"in n)return n.type==="html"&&!r?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return pT(n.children,e,r)}return Array.isArray(n)?pT(n,e,r):""}function pT(n,e,r){const i=[];let s=-1;for(;++s<n.length;)i[s]=sC(n[s],e,r);return i.join("")}function A7(n){return!!(n&&typeof n=="object")}const mT=document.createElement("i");function yv(n){const e="&"+n+";";mT.innerHTML=e;const r=mT.textContent;return r.charCodeAt(r.length-1)===59&&n!=="semi"||r===e?!1:r}function Ri(n,e,r,i){const s=n.length;let o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,r=r>0?r:0,i.length<1e4)l=Array.from(i),l.unshift(e,r),n.splice(...l);else for(r&&n.splice(e,r);o<i.length;)l=i.slice(o,o+1e4),l.unshift(e,0),n.splice(...l),o+=1e4,e+=1e4}function Sr(n,e){return n.length>0?(Ri(n,n.length,0,e),n):e}const gT={}.hasOwnProperty;function R7(n){const e={};let r=-1;for(;++r<n.length;)P7(e,n[r]);return e}function P7(n,e){let r;for(r in e){const s=(gT.call(n,r)?n[r]:void 0)||(n[r]={}),o=e[r];let l;if(o)for(l in o){gT.call(s,l)||(s[l]=[]);const c=o[l];O7(s[l],Array.isArray(c)?c:c?[c]:[])}}}function O7(n,e){let r=-1;const i=[];for(;++r<e.length;)(e[r].add==="after"?n:i).push(e[r]);Ri(n,0,0,i)}function oC(n,e){const r=Number.parseInt(n,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function xl(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wi=_o(/[A-Za-z]/),or=_o(/[\dA-Za-z]/),N7=_o(/[#-'*+\--9=?A-Z^-~]/);function Uy(n){return n!==null&&(n<32||n===127)}const jy=_o(/\d/),D7=_o(/[\dA-Fa-f]/),M7=_o(/[!-/:-@[-`{-~]/);function He(n){return n!==null&&n<-2}function qn(n){return n!==null&&(n<0||n===32)}function ot(n){return n===-2||n===-1||n===32}const L7=_o(new RegExp("\\p{P}|\\p{S}","u")),F7=_o(/\s/);function _o(n){return e;function e(r){return r!==null&&r>-1&&n.test(String.fromCharCode(r))}}function Wl(n){const e=[];let r=-1,i=0,s=0;for(;++r<n.length;){const o=n.charCodeAt(r);let l="";if(o===37&&or(n.charCodeAt(r+1))&&or(n.charCodeAt(r+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=n.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),s=1):l=""}else l=String.fromCharCode(o);l&&(e.push(n.slice(i,r),encodeURIComponent(l)),i=r+s+1,l=""),s&&(r+=s,s=0)}return e.join("")+n.slice(i)}function _t(n,e,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(f){return ot(f)?(n.enter(r),c(f)):e(f)}function c(f){return ot(f)&&o++<s?(n.consume(f),c):(n.exit(r),e(f))}}const V7={tokenize:z7};function z7(n){const e=n.attempt(this.parser.constructs.contentInitial,i,s);let r;return e;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),_t(n,e,"linePrefix")}function s(c){return n.enter("paragraph"),o(c)}function o(c){const f=n.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=f),r=f,l(c)}function l(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return He(c)?(n.consume(c),n.exit("chunkText"),o):(n.consume(c),l)}}const $7={tokenize:U7},yT={tokenize:j7};function U7(n){const e=this,r=[];let i=0,s,o,l;return c;function c(F){if(i<r.length){const U=r[i];return e.containerState=U[1],n.attempt(U[0].continuation,f,d)(F)}return d(F)}function f(F){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&P();const U=e.events.length;let N=U,O;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){O=e.events[N][1].end;break}T(i);let A=U;for(;A<e.events.length;)e.events[A][1].end={...O},A++;return Ri(e.events,N+1,0,e.events.slice(U)),e.events.length=A,d(F)}return c(F)}function d(F){if(i===r.length){if(!s)return _(F);if(s.currentConstruct&&s.currentConstruct.concrete)return S(F);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(yT,m,g)(F)}function m(F){return s&&P(),T(i),_(F)}function g(F){return e.parser.lazy[e.now().line]=i!==r.length,l=e.now().offset,S(F)}function _(F){return e.containerState={},n.attempt(yT,v,S)(F)}function v(F){return i++,r.push([e.currentConstruct,e.containerState]),_(F)}function S(F){if(F===null){s&&P(),T(0),n.consume(F);return}return s=s||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),k(F)}function k(F){if(F===null){I(n.exit("chunkFlow"),!0),T(0),n.consume(F);return}return He(F)?(n.consume(F),I(n.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(n.consume(F),k)}function I(F,U){const N=e.sliceStream(F);if(U&&N.push(null),F.previous=o,o&&(o.next=F),o=F,s.defineSkip(F.start),s.write(N),e.parser.lazy[F.start.line]){let O=s.events.length;for(;O--;)if(s.events[O][1].start.offset<l&&(!s.events[O][1].end||s.events[O][1].end.offset>l))return;const A=e.events.length;let C=A,D,$;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(D){$=e.events[C][1].end;break}D=!0}for(T(i),O=A;O<e.events.length;)e.events[O][1].end={...$},O++;Ri(e.events,C+1,0,e.events.slice(A)),e.events.length=O}}function T(F){let U=r.length;for(;U-- >F;){const N=r[U];e.containerState=N[1],N[0].exit.call(e,n)}r.length=F}function P(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function j7(n,e,r){return _t(n,n.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _T(n){if(n===null||qn(n)||F7(n))return 1;if(L7(n))return 2}function _v(n,e,r){const i=[];let s=-1;for(;++s<n.length;){const o=n[s].resolveAll;o&&!i.includes(o)&&(e=o(e,r),i.push(o))}return e}const By={name:"attention",resolveAll:B7,tokenize:H7};function B7(n,e){let r=-1,i,s,o,l,c,f,d,m;for(;++r<n.length;)if(n[r][0]==="enter"&&n[r][1].type==="attentionSequence"&&n[r][1]._close){for(i=r;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[r][1]).charCodeAt(0)){if((n[i][1]._close||n[r][1]._open)&&(n[r][1].end.offset-n[r][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[r][1].end.offset-n[r][1].start.offset)%3))continue;f=n[i][1].end.offset-n[i][1].start.offset>1&&n[r][1].end.offset-n[r][1].start.offset>1?2:1;const g={...n[i][1].end},_={...n[r][1].start};vT(g,-f),vT(_,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...n[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...n[r][1].start},end:_},o={type:f>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[r][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},n[i][1].end={...l.start},n[r][1].start={...c.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=Sr(d,[["enter",n[i][1],e],["exit",n[i][1],e]])),d=Sr(d,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),d=Sr(d,_v(e.parser.constructs.insideSpan.null,n.slice(i+1,r),e)),d=Sr(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),n[r][1].end.offset-n[r][1].start.offset?(m=2,d=Sr(d,[["enter",n[r][1],e],["exit",n[r][1],e]])):m=0,Ri(n,i-1,r-i+3,d),r=i+d.length-m-2;break}}for(r=-1;++r<n.length;)n[r][1].type==="attentionSequence"&&(n[r][1].type="data");return n}function H7(n,e){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=_T(i);let o;return l;function l(f){return o=f,n.enter("attentionSequence"),c(f)}function c(f){if(f===o)return n.consume(f),c;const d=n.exit("attentionSequence"),m=_T(f),g=!m||m===2&&s||r.includes(f),_=!s||s===2&&m||r.includes(i);return d._open=!!(o===42?g:g&&(s||!_)),d._close=!!(o===42?_:_&&(m||!g)),e(f)}}function vT(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const q7={name:"autolink",tokenize:W7};function W7(n,e,r){let i=0;return s;function s(v){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(v){return wi(v)?(n.consume(v),l):v===64?r(v):d(v)}function l(v){return v===43||v===45||v===46||or(v)?(i=1,c(v)):d(v)}function c(v){return v===58?(n.consume(v),i=0,f):(v===43||v===45||v===46||or(v))&&i++<32?(n.consume(v),c):(i=0,d(v))}function f(v){return v===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):v===null||v===32||v===60||Uy(v)?r(v):(n.consume(v),f)}function d(v){return v===64?(n.consume(v),m):N7(v)?(n.consume(v),d):r(v)}function m(v){return or(v)?g(v):r(v)}function g(v){return v===46?(n.consume(v),i=0,m):v===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):_(v)}function _(v){if((v===45||or(v))&&i++<63){const S=v===45?_:g;return n.consume(v),S}return r(v)}}const ap={partial:!0,tokenize:G7};function G7(n,e,r){return i;function i(o){return ot(o)?_t(n,s,"linePrefix")(o):s(o)}function s(o){return o===null||He(o)?e(o):r(o)}}const aC={continuation:{tokenize:Q7},exit:Y7,name:"blockQuote",tokenize:K7};function K7(n,e,r){const i=this;return s;function s(l){if(l===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),o}return r(l)}function o(l){return ot(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function Q7(n,e,r){const i=this;return s;function s(l){return ot(l)?_t(n,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return n.attempt(aC,e,r)(l)}}function Y7(n){n.exit("blockQuote")}const lC={name:"characterEscape",tokenize:X7};function X7(n,e,r){return i;function i(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),s}function s(o){return M7(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):r(o)}}const uC={name:"characterReference",tokenize:J7};function J7(n,e,r){const i=this;let s=0,o,l;return c;function c(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),f}function f(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),o=31,l=or,m(g))}function d(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,l=D7,m):(n.enter("characterReferenceValue"),o=7,l=jy,m(g))}function m(g){if(g===59&&s){const _=n.exit("characterReferenceValue");return l===or&&!yv(i.sliceSerialize(_))?r(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(g)&&s++<o?(n.consume(g),m):r(g)}}const wT={partial:!0,tokenize:eH},ET={concrete:!0,name:"codeFenced",tokenize:Z7};function Z7(n,e,r){const i=this,s={partial:!0,tokenize:N};let o=0,l=0,c;return f;function f(O){return d(O)}function d(O){const A=i.events[i.events.length-1];return o=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,c=O,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(O)}function m(O){return O===c?(l++,n.consume(O),m):l<3?r(O):(n.exit("codeFencedFenceSequence"),ot(O)?_t(n,g,"whitespace")(O):g(O))}function g(O){return O===null||He(O)?(n.exit("codeFencedFence"),i.interrupt?e(O):n.check(wT,k,U)(O)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||He(O)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(O)):ot(O)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),_t(n,v,"whitespace")(O)):O===96&&O===c?r(O):(n.consume(O),_)}function v(O){return O===null||He(O)?g(O):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(O))}function S(O){return O===null||He(O)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(O)):O===96&&O===c?r(O):(n.consume(O),S)}function k(O){return n.attempt(s,U,I)(O)}function I(O){return n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),T}function T(O){return o>0&&ot(O)?_t(n,P,"linePrefix",o+1)(O):P(O)}function P(O){return O===null||He(O)?n.check(wT,k,U)(O):(n.enter("codeFlowValue"),F(O))}function F(O){return O===null||He(O)?(n.exit("codeFlowValue"),P(O)):(n.consume(O),F)}function U(O){return n.exit("codeFenced"),e(O)}function N(O,A,C){let D=0;return $;function $(ie){return O.enter("lineEnding"),O.consume(ie),O.exit("lineEnding"),L}function L(ie){return O.enter("codeFencedFence"),ot(ie)?_t(O,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):j(ie)}function j(ie){return ie===c?(O.enter("codeFencedFenceSequence"),M(ie)):C(ie)}function M(ie){return ie===c?(D++,O.consume(ie),M):D>=l?(O.exit("codeFencedFenceSequence"),ot(ie)?_t(O,q,"whitespace")(ie):q(ie)):C(ie)}function q(ie){return ie===null||He(ie)?(O.exit("codeFencedFence"),A(ie)):C(ie)}}}function eH(n,e,r){const i=this;return s;function s(l){return l===null?r(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o)}function o(l){return i.parser.lazy[i.now().line]?r(l):e(l)}}const Ig={name:"codeIndented",tokenize:nH},tH={partial:!0,tokenize:rH};function nH(n,e,r){const i=this;return s;function s(d){return n.enter("codeIndented"),_t(n,o,"linePrefix",5)(d)}function o(d){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(d):r(d)}function l(d){return d===null?f(d):He(d)?n.attempt(tH,l,f)(d):(n.enter("codeFlowValue"),c(d))}function c(d){return d===null||He(d)?(n.exit("codeFlowValue"),l(d)):(n.consume(d),c)}function f(d){return n.exit("codeIndented"),e(d)}}function rH(n,e,r){const i=this;return s;function s(l){return i.parser.lazy[i.now().line]?r(l):He(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s):_t(n,o,"linePrefix",5)(l)}function o(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):He(l)?s(l):r(l)}}const iH={name:"codeText",previous:oH,resolve:sH,tokenize:aH};function sH(n){let e=n.length-4,r=3,i,s;if((n[r][1].type==="lineEnding"||n[r][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=r;++i<e;)if(n[i][1].type==="codeTextData"){n[r][1].type="codeTextPadding",n[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(i=r-1,e++;++i<=e;)s===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(s=i):(i===e||n[i][1].type==="lineEnding")&&(n[s][1].type="codeTextData",i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return n}function oH(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aH(n,e,r){let i=0,s,o;return l;function l(g){return n.enter("codeText"),n.enter("codeTextSequence"),c(g)}function c(g){return g===96?(n.consume(g),i++,c):(n.exit("codeTextSequence"),f(g))}function f(g){return g===null?r(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),f):g===96?(o=n.enter("codeTextSequence"),s=0,m(g)):He(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),f):(n.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||He(g)?(n.exit("codeTextData"),f(g)):(n.consume(g),d)}function m(g){return g===96?(n.consume(g),s++,m):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(g)):(o.type="codeTextData",d(g))}}class lH{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,r,i){const s=r||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Bu(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Bu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Bu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Bu(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Bu(this.left,r.reverse())}}}function Bu(n,e){let r=0;if(e.length<1e4)n.push(...e);else for(;r<e.length;)n.push(...e.slice(r,r+1e4)),r+=1e4}function cC(n){const e={};let r=-1,i,s,o,l,c,f,d;const m=new lH(n);for(;++r<m.length;){for(;r in e;)r=e[r];if(i=m.get(r),r&&i[1].type==="chunkFlow"&&m.get(r-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,uH(m,r)),r=e[r],d=!0);else if(i[1]._container){for(o=r,s=void 0;o--;)if(l=m.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);else if(l[1].type!=="linePrefix")break;s&&(i[1].end={...m.get(s)[1].start},c=m.slice(s,r),c.unshift(i),m.splice(s,r-s+1,c))}}return Ri(n,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function uH(n,e){const r=n.get(e)[1],i=n.get(e)[2];let s=e-1;const o=[],l=r._tokenizer||i.parser[r.contentType](r.start),c=l.events,f=[],d={};let m,g,_=-1,v=r,S=0,k=0;const I=[k];for(;v;){for(;n.get(++s)[1]!==v;);o.push(s),v._tokenizer||(m=i.sliceStream(v),v.next||m.push(null),g&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=r;++_<c.length;)c[_][0]==="exit"&&c[_-1][0]==="enter"&&c[_][1].type===c[_-1][1].type&&c[_][1].start.line!==c[_][1].end.line&&(k=_+1,I.push(k),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):I.pop(),_=I.length;_--;){const T=c.slice(I[_],I[_+1]),P=o.pop();f.push([P,P+T.length-1]),n.splice(P,2,T)}for(f.reverse(),_=-1;++_<f.length;)d[S+f[_][0]]=S+f[_][1],S+=f[_][1]-f[_][0]-1;return d}const cH={resolve:hH,tokenize:dH},fH={partial:!0,tokenize:pH};function hH(n){return cC(n),n}function dH(n,e){let r;return i;function i(c){return n.enter("content"),r=n.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):He(c)?n.check(fH,l,o)(c):(n.consume(c),s)}function o(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function l(c){return n.consume(c),n.exit("chunkContent"),r.next=n.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function pH(n,e,r){const i=this;return s;function s(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),_t(n,o,"linePrefix")}function o(l){if(l===null||He(l))return r(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,r,e)(l)}}function fC(n,e,r,i,s,o,l,c,f){const d=f||Number.POSITIVE_INFINITY;let m=0;return g;function g(T){return T===60?(n.enter(i),n.enter(s),n.enter(o),n.consume(T),n.exit(o),_):T===null||T===32||T===41||Uy(T)?r(T):(n.enter(i),n.enter(l),n.enter(c),n.enter("chunkString",{contentType:"string"}),k(T))}function _(T){return T===62?(n.enter(o),n.consume(T),n.exit(o),n.exit(s),n.exit(i),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===62?(n.exit("chunkString"),n.exit(c),_(T)):T===null||T===60||He(T)?r(T):(n.consume(T),T===92?S:v)}function S(T){return T===60||T===62||T===92?(n.consume(T),v):v(T)}function k(T){return!m&&(T===null||T===41||qn(T))?(n.exit("chunkString"),n.exit(c),n.exit(l),n.exit(i),e(T)):m<d&&T===40?(n.consume(T),m++,k):T===41?(n.consume(T),m--,k):T===null||T===32||T===40||Uy(T)?r(T):(n.consume(T),T===92?I:k)}function I(T){return T===40||T===41||T===92?(n.consume(T),k):k(T)}}function hC(n,e,r,i,s,o){const l=this;let c=0,f;return d;function d(v){return n.enter(i),n.enter(s),n.consume(v),n.exit(s),n.enter(o),m}function m(v){return c>999||v===null||v===91||v===93&&!f||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(v):v===93?(n.exit(o),n.enter(s),n.consume(v),n.exit(s),n.exit(i),e):He(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||He(v)||c++>999?(n.exit("chunkString"),m(v)):(n.consume(v),f||(f=!ot(v)),v===92?_:g)}function _(v){return v===91||v===92||v===93?(n.consume(v),c++,g):g(v)}}function dC(n,e,r,i,s,o){let l;return c;function c(_){return _===34||_===39||_===40?(n.enter(i),n.enter(s),n.consume(_),n.exit(s),l=_===40?41:_,f):r(_)}function f(_){return _===l?(n.enter(s),n.consume(_),n.exit(s),n.exit(i),e):(n.enter(o),d(_))}function d(_){return _===l?(n.exit(o),f(l)):_===null?r(_):He(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),_t(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===l||_===null||He(_)?(n.exit("chunkString"),d(_)):(n.consume(_),_===92?g:m)}function g(_){return _===l||_===92?(n.consume(_),m):m(_)}}function hc(n,e){let r;return i;function i(s){return He(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),r=!0,i):ot(s)?_t(n,i,r?"linePrefix":"lineSuffix")(s):e(s)}}const mH={name:"definition",tokenize:yH},gH={partial:!0,tokenize:_H};function yH(n,e,r){const i=this;let s;return o;function o(v){return n.enter("definition"),l(v)}function l(v){return hC.call(i,n,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return s=xl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(n.enter("definitionMarker"),n.consume(v),n.exit("definitionMarker"),f):r(v)}function f(v){return qn(v)?hc(n,d)(v):d(v)}function d(v){return fC(n,m,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function m(v){return n.attempt(gH,g,g)(v)}function g(v){return ot(v)?_t(n,_,"whitespace")(v):_(v)}function _(v){return v===null||He(v)?(n.exit("definition"),i.parser.defined.push(s),e(v)):r(v)}}function _H(n,e,r){return i;function i(c){return qn(c)?hc(n,s)(c):r(c)}function s(c){return dC(n,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return ot(c)?_t(n,l,"whitespace")(c):l(c)}function l(c){return c===null||He(c)?e(c):r(c)}}const vH={name:"hardBreakEscape",tokenize:wH};function wH(n,e,r){return i;function i(o){return n.enter("hardBreakEscape"),n.consume(o),s}function s(o){return He(o)?(n.exit("hardBreakEscape"),e(o)):r(o)}}const EH={name:"headingAtx",resolve:xH,tokenize:TH};function xH(n,e){let r=n.length-2,i=3,s,o;return n[i][1].type==="whitespace"&&(i+=2),r-2>i&&n[r][1].type==="whitespace"&&(r-=2),n[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&n[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:n[i][1].start,end:n[r][1].end},o={type:"chunkText",start:n[i][1].start,end:n[r][1].end,contentType:"text"},Ri(n,i,r-i+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),n}function TH(n,e,r){let i=0;return s;function s(m){return n.enter("atxHeading"),o(m)}function o(m){return n.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&i++<6?(n.consume(m),l):m===null||qn(m)?(n.exit("atxHeadingSequence"),c(m)):r(m)}function c(m){return m===35?(n.enter("atxHeadingSequence"),f(m)):m===null||He(m)?(n.exit("atxHeading"),e(m)):ot(m)?_t(n,c,"whitespace")(m):(n.enter("atxHeadingText"),d(m))}function f(m){return m===35?(n.consume(m),f):(n.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||qn(m)?(n.exit("atxHeadingText"),c(m)):(n.consume(m),d)}}const SH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xT=["pre","script","style","textarea"],bH={concrete:!0,name:"htmlFlow",resolveTo:CH,tokenize:AH},kH={partial:!0,tokenize:PH},IH={partial:!0,tokenize:RH};function CH(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function AH(n,e,r){const i=this;let s,o,l,c,f;return d;function d(B){return m(B)}function m(B){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(B),g}function g(B){return B===33?(n.consume(B),_):B===47?(n.consume(B),o=!0,k):B===63?(n.consume(B),s=3,i.interrupt?e:V):wi(B)?(n.consume(B),l=String.fromCharCode(B),I):r(B)}function _(B){return B===45?(n.consume(B),s=2,v):B===91?(n.consume(B),s=5,c=0,S):wi(B)?(n.consume(B),s=4,i.interrupt?e:V):r(B)}function v(B){return B===45?(n.consume(B),i.interrupt?e:V):r(B)}function S(B){const ve="CDATA[";return B===ve.charCodeAt(c++)?(n.consume(B),c===ve.length?i.interrupt?e:j:S):r(B)}function k(B){return wi(B)?(n.consume(B),l=String.fromCharCode(B),I):r(B)}function I(B){if(B===null||B===47||B===62||qn(B)){const ve=B===47,ke=l.toLowerCase();return!ve&&!o&&xT.includes(ke)?(s=1,i.interrupt?e(B):j(B)):SH.includes(l.toLowerCase())?(s=6,ve?(n.consume(B),T):i.interrupt?e(B):j(B)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(B):o?P(B):F(B))}return B===45||or(B)?(n.consume(B),l+=String.fromCharCode(B),I):r(B)}function T(B){return B===62?(n.consume(B),i.interrupt?e:j):r(B)}function P(B){return ot(B)?(n.consume(B),P):$(B)}function F(B){return B===47?(n.consume(B),$):B===58||B===95||wi(B)?(n.consume(B),U):ot(B)?(n.consume(B),F):$(B)}function U(B){return B===45||B===46||B===58||B===95||or(B)?(n.consume(B),U):N(B)}function N(B){return B===61?(n.consume(B),O):ot(B)?(n.consume(B),N):F(B)}function O(B){return B===null||B===60||B===61||B===62||B===96?r(B):B===34||B===39?(n.consume(B),f=B,A):ot(B)?(n.consume(B),O):C(B)}function A(B){return B===f?(n.consume(B),f=null,D):B===null||He(B)?r(B):(n.consume(B),A)}function C(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||qn(B)?N(B):(n.consume(B),C)}function D(B){return B===47||B===62||ot(B)?F(B):r(B)}function $(B){return B===62?(n.consume(B),L):r(B)}function L(B){return B===null||He(B)?j(B):ot(B)?(n.consume(B),L):r(B)}function j(B){return B===45&&s===2?(n.consume(B),oe):B===60&&s===1?(n.consume(B),ce):B===62&&s===4?(n.consume(B),W):B===63&&s===3?(n.consume(B),V):B===93&&s===5?(n.consume(B),ue):He(B)&&(s===6||s===7)?(n.exit("htmlFlowData"),n.check(kH,ee,M)(B)):B===null||He(B)?(n.exit("htmlFlowData"),M(B)):(n.consume(B),j)}function M(B){return n.check(IH,q,ee)(B)}function q(B){return n.enter("lineEnding"),n.consume(B),n.exit("lineEnding"),ie}function ie(B){return B===null||He(B)?M(B):(n.enter("htmlFlowData"),j(B))}function oe(B){return B===45?(n.consume(B),V):j(B)}function ce(B){return B===47?(n.consume(B),l="",se):j(B)}function se(B){if(B===62){const ve=l.toLowerCase();return xT.includes(ve)?(n.consume(B),W):j(B)}return wi(B)&&l.length<8?(n.consume(B),l+=String.fromCharCode(B),se):j(B)}function ue(B){return B===93?(n.consume(B),V):j(B)}function V(B){return B===62?(n.consume(B),W):B===45&&s===2?(n.consume(B),V):j(B)}function W(B){return B===null||He(B)?(n.exit("htmlFlowData"),ee(B)):(n.consume(B),W)}function ee(B){return n.exit("htmlFlow"),e(B)}}function RH(n,e,r){const i=this;return s;function s(l){return He(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o):r(l)}function o(l){return i.parser.lazy[i.now().line]?r(l):e(l)}}function PH(n,e,r){return i;function i(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),n.attempt(ap,e,r)}}const OH={name:"htmlText",tokenize:NH};function NH(n,e,r){const i=this;let s,o,l;return c;function c(V){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(V),f}function f(V){return V===33?(n.consume(V),d):V===47?(n.consume(V),N):V===63?(n.consume(V),F):wi(V)?(n.consume(V),C):r(V)}function d(V){return V===45?(n.consume(V),m):V===91?(n.consume(V),o=0,S):wi(V)?(n.consume(V),P):r(V)}function m(V){return V===45?(n.consume(V),v):r(V)}function g(V){return V===null?r(V):V===45?(n.consume(V),_):He(V)?(l=g,ce(V)):(n.consume(V),g)}function _(V){return V===45?(n.consume(V),v):g(V)}function v(V){return V===62?oe(V):V===45?_(V):g(V)}function S(V){const W="CDATA[";return V===W.charCodeAt(o++)?(n.consume(V),o===W.length?k:S):r(V)}function k(V){return V===null?r(V):V===93?(n.consume(V),I):He(V)?(l=k,ce(V)):(n.consume(V),k)}function I(V){return V===93?(n.consume(V),T):k(V)}function T(V){return V===62?oe(V):V===93?(n.consume(V),T):k(V)}function P(V){return V===null||V===62?oe(V):He(V)?(l=P,ce(V)):(n.consume(V),P)}function F(V){return V===null?r(V):V===63?(n.consume(V),U):He(V)?(l=F,ce(V)):(n.consume(V),F)}function U(V){return V===62?oe(V):F(V)}function N(V){return wi(V)?(n.consume(V),O):r(V)}function O(V){return V===45||or(V)?(n.consume(V),O):A(V)}function A(V){return He(V)?(l=A,ce(V)):ot(V)?(n.consume(V),A):oe(V)}function C(V){return V===45||or(V)?(n.consume(V),C):V===47||V===62||qn(V)?D(V):r(V)}function D(V){return V===47?(n.consume(V),oe):V===58||V===95||wi(V)?(n.consume(V),$):He(V)?(l=D,ce(V)):ot(V)?(n.consume(V),D):oe(V)}function $(V){return V===45||V===46||V===58||V===95||or(V)?(n.consume(V),$):L(V)}function L(V){return V===61?(n.consume(V),j):He(V)?(l=L,ce(V)):ot(V)?(n.consume(V),L):D(V)}function j(V){return V===null||V===60||V===61||V===62||V===96?r(V):V===34||V===39?(n.consume(V),s=V,M):He(V)?(l=j,ce(V)):ot(V)?(n.consume(V),j):(n.consume(V),q)}function M(V){return V===s?(n.consume(V),s=void 0,ie):V===null?r(V):He(V)?(l=M,ce(V)):(n.consume(V),M)}function q(V){return V===null||V===34||V===39||V===60||V===61||V===96?r(V):V===47||V===62||qn(V)?D(V):(n.consume(V),q)}function ie(V){return V===47||V===62||qn(V)?D(V):r(V)}function oe(V){return V===62?(n.consume(V),n.exit("htmlTextData"),n.exit("htmlText"),e):r(V)}function ce(V){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(V),n.exit("lineEnding"),se}function se(V){return ot(V)?_t(n,ue,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):ue(V)}function ue(V){return n.enter("htmlTextData"),l(V)}}const vv={name:"labelEnd",resolveAll:FH,resolveTo:VH,tokenize:zH},DH={tokenize:$H},MH={tokenize:UH},LH={tokenize:jH};function FH(n){let e=-1;const r=[];for(;++e<n.length;){const i=n[e][1];if(r.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return n.length!==r.length&&Ri(n,0,n.length,r),n}function VH(n,e){let r=n.length,i=0,s,o,l,c;for(;r--;)if(s=n[r][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;n[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(n[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=r);const f={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[o][1].start},end:{...n[l][1].end}},m={type:"labelText",start:{...n[o+i+2][1].end},end:{...n[l-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=Sr(c,n.slice(o+1,o+i+3)),c=Sr(c,[["enter",m,e]]),c=Sr(c,_v(e.parser.constructs.insideSpan.null,n.slice(o+i+4,l-3),e)),c=Sr(c,[["exit",m,e],n[l-2],n[l-1],["exit",d,e]]),c=Sr(c,n.slice(l+1)),c=Sr(c,[["exit",f,e]]),Ri(n,o,n.length,c),n}function zH(n,e,r){const i=this;let s=i.events.length,o,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return c;function c(_){return o?o._inactive?g(_):(l=i.parser.defined.includes(xl(i.sliceSerialize({start:o.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(_),n.exit("labelMarker"),n.exit("labelEnd"),f):r(_)}function f(_){return _===40?n.attempt(DH,m,l?m:g)(_):_===91?n.attempt(MH,m,l?d:g)(_):l?m(_):g(_)}function d(_){return n.attempt(LH,m,g)(_)}function m(_){return e(_)}function g(_){return o._balanced=!0,r(_)}}function $H(n,e,r){return i;function i(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),s}function s(g){return qn(g)?hc(n,o)(g):o(g)}function o(g){return g===41?m(g):fC(n,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return qn(g)?hc(n,f)(g):m(g)}function c(g){return r(g)}function f(g){return g===34||g===39||g===40?dC(n,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function d(g){return qn(g)?hc(n,m)(g):m(g)}function m(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),e):r(g)}}function UH(n,e,r){const i=this;return s;function s(c){return hC.call(i,n,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return i.parser.defined.includes(xl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):r(c)}function l(c){return r(c)}}function jH(n,e,r){return i;function i(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),s}function s(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):r(o)}}const BH={name:"labelStartImage",resolveAll:vv.resolveAll,tokenize:HH};function HH(n,e,r){const i=this;return s;function s(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),o}function o(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(c):e(c)}}const qH={name:"labelStartLink",resolveAll:vv.resolveAll,tokenize:WH};function WH(n,e,r){const i=this;return s;function s(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(l):e(l)}}const Cg={name:"lineEnding",tokenize:GH};function GH(n,e){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),_t(n,e,"linePrefix")}}const Zh={name:"thematicBreak",tokenize:KH};function KH(n,e,r){let i=0,s;return o;function o(d){return n.enter("thematicBreak"),l(d)}function l(d){return s=d,c(d)}function c(d){return d===s?(n.enter("thematicBreakSequence"),f(d)):i>=3&&(d===null||He(d))?(n.exit("thematicBreak"),e(d)):r(d)}function f(d){return d===s?(n.consume(d),i++,f):(n.exit("thematicBreakSequence"),ot(d)?_t(n,c,"whitespace")(d):c(d))}}const $n={continuation:{tokenize:JH},exit:eq,name:"list",tokenize:XH},QH={partial:!0,tokenize:tq},YH={partial:!0,tokenize:ZH};function XH(n,e,r){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(v){const S=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:jy(v)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),v===42||v===45?n.check(Zh,r,d)(v):d(v);if(!i.interrupt||v===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(v)}return r(v)}function f(v){return jy(v)&&++l<10?(n.consume(v),f):(!i.interrupt||l<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(n.exit("listItemValue"),d(v)):r(v)}function d(v){return n.enter("listItemMarker"),n.consume(v),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,n.check(ap,i.interrupt?r:m,n.attempt(QH,_,g))}function m(v){return i.containerState.initialBlankLine=!0,o++,_(v)}function g(v){return ot(v)?(n.enter("listItemPrefixWhitespace"),n.consume(v),n.exit("listItemPrefixWhitespace"),_):r(v)}function _(v){return i.containerState.size=o+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(v)}}function JH(n,e,r){const i=this;return i.containerState._closeFlow=void 0,n.check(ap,s,o);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,_t(n,e,"listItemIndent",i.containerState.size+1)(c)}function o(c){return i.containerState.furtherBlankLines||!ot(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(YH,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,_t(n,n.attempt($n,e,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function ZH(n,e,r){const i=this;return _t(n,s,"listItemIndent",i.containerState.size+1);function s(o){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(o):r(o)}}function eq(n){n.exit(this.containerState.type)}function tq(n,e,r){const i=this;return _t(n,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=i.events[i.events.length-1];return!ot(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):r(o)}}const TT={name:"setextUnderline",resolveTo:nq,tokenize:rq};function nq(n,e){let r=n.length,i,s,o;for(;r--;)if(n[r][0]==="enter"){if(n[r][1].type==="content"){i=r;break}n[r][1].type==="paragraph"&&(s=r)}else n[r][1].type==="content"&&n.splice(r,1),!o&&n[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:{...n[s][1].start},end:{...n[n.length-1][1].end}};return n[s][1].type="setextHeadingText",o?(n.splice(s,0,["enter",l,e]),n.splice(o+1,0,["exit",n[i][1],e]),n[i][1].end={...n[o][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function rq(n,e,r){const i=this;let s;return o;function o(d){let m=i.events.length,g;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){g=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(n.enter("setextHeadingLine"),s=d,l(d)):r(d)}function l(d){return n.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(n.consume(d),c):(n.exit("setextHeadingLineSequence"),ot(d)?_t(n,f,"lineSuffix")(d):f(d))}function f(d){return d===null||He(d)?(n.exit("setextHeadingLine"),e(d)):r(d)}}const iq={tokenize:sq};function sq(n){const e=this,r=n.attempt(ap,i,n.attempt(this.parser.constructs.flowInitial,s,_t(n,n.attempt(this.parser.constructs.flow,s,n.attempt(cH,s)),"linePrefix")));return r;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function s(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),e.currentConstruct=void 0,r}}const oq={resolveAll:mC()},aq=pC("string"),lq=pC("text");function pC(n){return{resolveAll:mC(n==="text"?uq:void 0),tokenize:e};function e(r){const i=this,s=this.parser.constructs[n],o=r.attempt(s,l,c);return l;function l(m){return d(m)?o(m):c(m)}function c(m){if(m===null){r.consume(m);return}return r.enter("data"),r.consume(m),f}function f(m){return d(m)?(r.exit("data"),o(m)):(r.consume(m),f)}function d(m){if(m===null)return!0;const g=s[m];let _=-1;if(g)for(;++_<g.length;){const v=g[_];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function mC(n){return e;function e(r,i){let s=-1,o;for(;++s<=r.length;)o===void 0?r[s]&&r[s][1].type==="data"&&(o=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==o+2&&(r[o][1].end=r[s-1][1].end,r.splice(o+2,s-o-2),s=o+2),o=void 0);return n?n(r,i):r}}function uq(n,e){let r=0;for(;++r<=n.length;)if((r===n.length||n[r][1].type==="lineEnding")&&n[r-1][1].type==="data"){const i=n[r-1][1],s=e.sliceStream(i);let o=s.length,l=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(c){const d={type:r===n.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:i.start._bufferIndex+l,_index:i.start._index+o,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(r,0,["enter",d,e],["exit",d,e]),r+=2)}r++}return n}const cq={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:aC},fq={91:mH},hq={[-2]:Ig,[-1]:Ig,32:Ig},dq={35:EH,42:Zh,45:[TT,Zh],60:bH,61:TT,95:Zh,96:ET,126:ET},pq={38:uC,92:lC},mq={[-5]:Cg,[-4]:Cg,[-3]:Cg,33:BH,38:uC,42:By,60:[q7,OH],91:qH,92:[vH,lC],93:vv,95:By,96:iH},gq={null:[By,oq]},yq={null:[42,95]},_q={null:[]},vq=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yq,contentInitial:fq,disable:_q,document:cq,flow:dq,flowInitial:hq,insideSpan:gq,string:pq,text:mq},Symbol.toStringTag,{value:"Module"}));function wq(n,e,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},o=[];let l=[],c=[];const f={attempt:A(N),check:A(O),consume:P,enter:F,exit:U,interrupt:A(O,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:S,parser:n,previous:null,sliceSerialize:_,sliceStream:v,write:g};let m=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function g(L){return l=Sr(l,L),I(),l[l.length-1]!==null?[]:(C(e,0),d.events=_v(o,d.events,d),d.events)}function _(L,j){return xq(v(L),j)}function v(L){return Eq(l,L)}function S(){const{_bufferIndex:L,_index:j,line:M,column:q,offset:ie}=i;return{_bufferIndex:L,_index:j,line:M,column:q,offset:ie}}function k(L){s[L.line]=L.column,$()}function I(){let L;for(;i._index<l.length;){const j=l[i._index];if(typeof j=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<j.length;)T(j.charCodeAt(i._bufferIndex));else T(j)}}function T(L){m=m(L)}function P(L){He(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,$()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=L}function F(L,j){const M=j||{};return M.type=L,M.start=S(),d.events.push(["enter",M,d]),c.push(M),M}function U(L){const j=c.pop();return j.end=S(),d.events.push(["exit",j,d]),j}function N(L,j){C(L,j.from)}function O(L,j){j.restore()}function A(L,j){return M;function M(q,ie,oe){let ce,se,ue,V;return Array.isArray(q)?ee(q):"tokenize"in q?ee([q]):W(q);function W(Ie){return Me;function Me(Le){const Ke=Le!==null&&Ie[Le],ct=Le!==null&&Ie.null,Qt=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(ct)?ct:ct?[ct]:[]];return ee(Qt)(Le)}}function ee(Ie){return ce=Ie,se=0,Ie.length===0?oe:B(Ie[se])}function B(Ie){return Me;function Me(Le){return V=D(),ue=Ie,Ie.partial||(d.currentConstruct=Ie),Ie.name&&d.parser.constructs.disable.null.includes(Ie.name)?ke():Ie.tokenize.call(j?Object.assign(Object.create(d),j):d,f,ve,ke)(Le)}}function ve(Ie){return L(ue,V),ie}function ke(Ie){return V.restore(),++se<ce.length?B(ce[se]):oe}}}function C(L,j){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&Ri(d.events,j,d.events.length-j,L.resolve(d.events.slice(j),d)),L.resolveTo&&(d.events=L.resolveTo(d.events,d))}function D(){const L=S(),j=d.previous,M=d.currentConstruct,q=d.events.length,ie=Array.from(c);return{from:q,restore:oe};function oe(){i=L,d.previous=j,d.currentConstruct=M,d.events.length=q,c=ie,$()}}function $(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Eq(n,e){const r=e.start._index,i=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let l;if(r===s)l=[n[r].slice(i,o)];else{if(l=n.slice(r,s),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}o>0&&l.push(n[s].slice(0,o))}return l}function xq(n,e){let r=-1;const i=[];let s;for(;++r<n.length;){const o=n[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,i.push(l)}return i.join("")}function Tq(n){const i={constructs:R7([vq,...(n||{}).extensions||[]]),content:s(V7),defined:[],document:s($7),flow:s(iq),lazy:{},string:s(aq),text:s(lq)};return i;function s(o){return l;function l(c){return wq(i,o,c)}}}function Sq(n){for(;!cC(n););return n}const ST=/[\0\t\n\r]/g;function bq(){let n=1,e="",r=!0,i;return s;function s(o,l,c){const f=[];let d,m,g,_,v;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,e="",r&&(o.charCodeAt(0)===65279&&g++,r=void 0);g<o.length;){if(ST.lastIndex=g,d=ST.exec(o),_=d&&d.index!==void 0?d.index:o.length,v=o.charCodeAt(_),!d){e=o.slice(g);break}if(v===10&&g===_&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<_&&(f.push(o.slice(g,_)),n+=_-g),v){case 0:{f.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,f.push(-2);n++<m;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:i=!0,n=1}g=_+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}const kq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Iq(n){return n.replace(kq,Cq)}function Cq(n,e,r){if(e)return e;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),o=s===120||s===88;return oC(r.slice(o?2:1),o?16:10)}return yv(r)||n}const gC={}.hasOwnProperty;function Aq(n,e,r){return typeof e!="string"&&(r=e,e=void 0),Rq(r)(Sq(Tq(r).document().write(bq()(n,e,!0))))}function Rq(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Kn),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(Ar),blockQuote:o(ct),characterEscape:D,characterReference:D,codeFenced:o(Qt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Qt,l),codeText:o(ei,l),codeTextData:D,data:D,codeFlowValue:D,definition:o(Gn),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Cr),hardBreakEscape:o(ti),hardBreakTrailing:o(ti),htmlFlow:o(ni,l),htmlFlowData:D,htmlText:o(ni,l),htmlTextData:D,image:o(ys),label:l,link:o(Kn),listItem:o(Qn),listItemValue:_,listOrdered:o(Rn,g),listUnordered:o(Rn),paragraph:o(re),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ar),strong:o(Ee),thematicBreak:o(Oe)},exit:{atxHeading:f(),atxHeadingSequence:N,autolink:f(),autolinkEmail:Ke,autolinkProtocol:Le,blockQuote:f(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ie,characterReference:Me,codeFenced:f(I),codeFencedFence:k,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:$,codeIndented:f(T),codeText:f(ie),codeTextData:$,data:$,definition:f(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:F,emphasis:f(),hardBreakEscape:f(j),hardBreakTrailing:f(j),htmlFlow:f(M),htmlFlowData:$,htmlText:f(q),htmlTextData:$,image:f(ce),label:ue,labelText:se,lineEnding:L,link:f(oe),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ve,resourceDestinationString:V,resourceTitleString:W,resource:ee,setextHeading:f(C),setextHeadingLineSequence:A,setextHeadingText:O,strong:f(),thematicBreak:f()}};yC(e,(n||{}).mdastExtensions||[]);const r={};return i;function i(X){let le={type:"root",children:[]};const Te={stack:[le],tokenStack:[],config:e,enter:c,exit:d,buffer:l,resume:m,data:r},ze=[];let Qe=-1;for(;++Qe<X.length;)if(X[Qe][1].type==="listOrdered"||X[Qe][1].type==="listUnordered")if(X[Qe][0]==="enter")ze.push(Qe);else{const At=ze.pop();Qe=s(X,At,Qe)}for(Qe=-1;++Qe<X.length;){const At=e[X[Qe][0]];gC.call(At,X[Qe][1].type)&&At[X[Qe][1].type].call(Object.assign({sliceSerialize:X[Qe][2].sliceSerialize},Te),X[Qe][1])}if(Te.tokenStack.length>0){const At=Te.tokenStack[Te.tokenStack.length-1];(At[1]||bT).call(Te,void 0,At[0])}for(le.position={start:Hs(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Hs(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<e.transforms.length;)le=e.transforms[Qe](le)||le;return le}function s(X,le,Te){let ze=le-1,Qe=-1,At=!1,nn,Yt,Yn,Rr;for(;++ze<=Te;){const Bt=X[ze];switch(Bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Bt[0]==="enter"?Qe++:Qe--,Rr=void 0;break}case"lineEndingBlank":{Bt[0]==="enter"&&(nn&&!Rr&&!Qe&&!Yn&&(Yn=ze),Rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rr=void 0}if(!Qe&&Bt[0]==="enter"&&Bt[1].type==="listItemPrefix"||Qe===-1&&Bt[0]==="exit"&&(Bt[1].type==="listUnordered"||Bt[1].type==="listOrdered")){if(nn){let cr=ze;for(Yt=void 0;cr--;){const rn=X[cr];if(rn[1].type==="lineEnding"||rn[1].type==="lineEndingBlank"){if(rn[0]==="exit")continue;Yt&&(X[Yt][1].type="lineEndingBlank",At=!0),rn[1].type="lineEnding",Yt=cr}else if(!(rn[1].type==="linePrefix"||rn[1].type==="blockQuotePrefix"||rn[1].type==="blockQuotePrefixWhitespace"||rn[1].type==="blockQuoteMarker"||rn[1].type==="listItemIndent"))break}Yn&&(!Yt||Yn<Yt)&&(nn._spread=!0),nn.end=Object.assign({},Yt?X[Yt][1].start:Bt[1].end),X.splice(Yt||ze,0,["exit",nn,Bt[2]]),ze++,Te++}if(Bt[1].type==="listItemPrefix"){const cr={type:"listItem",_spread:!1,start:Object.assign({},Bt[1].start),end:void 0};nn=cr,X.splice(ze,0,["enter",cr,Bt[2]]),ze++,Te++,Yn=void 0,Rr=!0}}}return X[le][1]._spread=At,Te}function o(X,le){return Te;function Te(ze){c.call(this,X(ze),ze),le&&le.call(this,ze)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(X,le,Te){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([le,Te||void 0]),X.position={start:Hs(le.start),end:void 0}}function f(X){return le;function le(Te){X&&X.call(this,Te),d.call(this,Te)}}function d(X,le){const Te=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==X.type&&(le?le.call(this,X,ze[0]):(ze[1]||bT).call(this,X,ze[0]));else throw new Error("Cannot close `"+X.type+"` ("+fc({start:X.start,end:X.end})+"): its not open");Te.position.end=Hs(X.end)}function m(){return C7(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function _(X){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function v(){const X=this.resume(),le=this.stack[this.stack.length-1];le.lang=X}function S(){const X=this.resume(),le=this.stack[this.stack.length-1];le.meta=X}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X.replace(/(\r?\n|\r)$/g,"")}function P(X){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.label=le,Te.identifier=xl(this.sliceSerialize(X)).toLowerCase()}function F(){const X=this.resume(),le=this.stack[this.stack.length-1];le.title=X}function U(){const X=this.resume(),le=this.stack[this.stack.length-1];le.url=X}function N(X){const le=this.stack[this.stack.length-1];if(!le.depth){const Te=this.sliceSerialize(X).length;le.depth=Te}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function A(X){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function D(X){const Te=this.stack[this.stack.length-1].children;let ze=Te[Te.length-1];(!ze||ze.type!=="text")&&(ze=Ce(),ze.position={start:Hs(X.start),end:void 0},Te.push(ze)),this.stack.push(ze)}function $(X){const le=this.stack.pop();le.value+=this.sliceSerialize(X),le.position.end=Hs(X.end)}function L(X){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=le.children[le.children.length-1];Te.position.end=Hs(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(le.type)&&(D.call(this,X),$.call(this,X))}function j(){this.data.atHardBreak=!0}function M(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function q(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function ie(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function oe(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=le,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function ce(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=le,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function se(X){const le=this.sliceSerialize(X),Te=this.stack[this.stack.length-2];Te.label=Iq(le),Te.identifier=xl(le).toLowerCase()}function ue(){const X=this.stack[this.stack.length-1],le=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const ze=X.children;Te.children=ze}else Te.alt=le}function V(){const X=this.resume(),le=this.stack[this.stack.length-1];le.url=X}function W(){const X=this.resume(),le=this.stack[this.stack.length-1];le.title=X}function ee(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function ve(X){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.label=le,Te.identifier=xl(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function ke(X){this.data.characterReferenceType=X.type}function Ie(X){const le=this.sliceSerialize(X),Te=this.data.characterReferenceType;let ze;Te?(ze=oC(le,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ze=yv(le);const Qe=this.stack[this.stack.length-1];Qe.value+=ze}function Me(X){const le=this.stack.pop();le.position.end=Hs(X.end)}function Le(X){$.call(this,X);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(X)}function Ke(X){$.call(this,X);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(X)}function ct(){return{type:"blockquote",children:[]}}function Qt(){return{type:"code",lang:null,meta:null,value:""}}function ei(){return{type:"inlineCode",value:""}}function Gn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Cr(){return{type:"emphasis",children:[]}}function Ar(){return{type:"heading",depth:0,children:[]}}function ti(){return{type:"break"}}function ni(){return{type:"html",value:""}}function ys(){return{type:"image",title:null,url:"",alt:null}}function Kn(){return{type:"link",title:null,url:"",children:[]}}function Rn(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function Qn(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function Ee(){return{type:"strong",children:[]}}function Ce(){return{type:"text",value:""}}function Oe(){return{type:"thematicBreak"}}}function Hs(n){return{line:n.line,column:n.column,offset:n.offset}}function yC(n,e){let r=-1;for(;++r<e.length;){const i=e[r];Array.isArray(i)?yC(n,i):Pq(n,i)}}function Pq(n,e){let r;for(r in e)if(gC.call(e,r))switch(r){case"canContainEols":{const i=e[r];i&&n[r].push(...i);break}case"transforms":{const i=e[r];i&&n[r].push(...i);break}case"enter":case"exit":{const i=e[r];i&&Object.assign(n[r],i);break}}}function bT(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+fc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+fc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fc({start:e.start,end:e.end})+") is still open")}function Oq(n){const e=this;e.parser=r;function r(i){return Aq(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Nq(n,e){const r={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,r),n.applyData(e,r)}function Dq(n,e){const r={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,r),[n.applyData(e,r),{type:"text",value:`
`}]}function Mq(n,e){const r=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function Lq(n,e){const r={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function Fq(n,e){const r={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function Vq(n,e){const r=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=Wl(i.toLowerCase()),o=n.footnoteOrder.indexOf(i);let l,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=o+1,c+=1,n.footnoteCounts.set(i,c);const f={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return n.patch(e,d),n.applyData(e,d)}function zq(n,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function $q(n,e){if(n.options.allowDangerousHtml){const r={type:"raw",value:e.value};return n.patch(e,r),n.applyData(e,r)}}function _C(n,e){const r=e.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=n.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=i:s.push({type:"text",value:i}),s}function Uq(n,e){const r=String(e.identifier).toUpperCase(),i=n.definitionById.get(r);if(!i)return _C(n,e);const s={src:Wl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return n.patch(e,o),n.applyData(e,o)}function jq(n,e){const r={src:Wl(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const i={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,i),n.applyData(e,i)}function Bq(n,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return n.patch(e,i),n.applyData(e,i)}function Hq(n,e){const r=String(e.identifier).toUpperCase(),i=n.definitionById.get(r);if(!i)return _C(n,e);const s={href:Wl(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function qq(n,e){const r={href:Wl(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const i={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Wq(n,e,r){const i=n.all(e),s=r?Gq(r):vC(e),o={},l=[];if(typeof e.checked=="boolean"){const m=i[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const m=i[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?l.push(...m.children):l.push(m)}const f=i[i.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return n.patch(e,d),n.applyData(e,d)}function Gq(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const r=n.children;let i=-1;for(;!e&&++i<r.length;)e=vC(r[i])}return e}function vC(n){const e=n.spread;return e??n.children.length>1}function Kq(n,e){const r={},i=n.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++s<i.length;){const l=i[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:n.wrap(i,!0)};return n.patch(e,o),n.applyData(e,o)}function Qq(n,e){const r={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function Yq(n,e){const r={type:"root",children:n.wrap(n.all(e))};return n.patch(e,r),n.applyData(e,r)}function Xq(n,e){const r={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function Jq(n,e){const r=n.all(e),i=r.shift(),s=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),s.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(r,!0)},c=dv(e.children[1]),f=ZI(e.children[e.children.length-1]);c&&f&&(l.position={start:c,end:f}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(s,!0)};return n.patch(e,o),n.applyData(e,o)}function Zq(n,e,r){const i=r?r.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const g=e.children[f],_={},v=l?l[f]:void 0;v&&(_.align=v);let S={type:"element",tagName:o,properties:_,children:[]};g&&(S.children=n.all(g),n.patch(g,S),S=n.applyData(g,S)),d.push(S)}const m={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,m),n.applyData(e,m)}function eW(n,e){const r={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}const kT=9,IT=32;function tW(n){const e=String(n),r=/\r?\n|\r/g;let i=r.exec(e),s=0;const o=[];for(;i;)o.push(CT(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(e);return o.push(CT(e.slice(s),s>0,!1)),o.join("")}function CT(n,e,r){let i=0,s=n.length;if(e){let o=n.codePointAt(i);for(;o===kT||o===IT;)i++,o=n.codePointAt(i)}if(r){let o=n.codePointAt(s-1);for(;o===kT||o===IT;)s--,o=n.codePointAt(s-1)}return s>i?n.slice(i,s):""}function nW(n,e){const r={type:"text",value:tW(String(e.value))};return n.patch(e,r),n.applyData(e,r)}function rW(n,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,r),n.applyData(e,r)}const iW={blockquote:Nq,break:Dq,code:Mq,delete:Lq,emphasis:Fq,footnoteReference:Vq,heading:zq,html:$q,imageReference:Uq,image:jq,inlineCode:Bq,linkReference:Hq,link:qq,listItem:Wq,list:Kq,paragraph:Qq,root:Yq,strong:Xq,table:Jq,tableCell:eW,tableRow:Zq,text:nW,thematicBreak:rW,toml:Oh,yaml:Oh,definition:Oh,footnoteDefinition:Oh};function Oh(){}const wC=-1,lp=0,dc=1,Ad=2,wv=3,Ev=4,xv=5,Tv=6,EC=7,xC=8,AT=typeof self=="object"?self:globalThis,sW=(n,e)=>{const r=(s,o)=>(n.set(o,s),s),i=s=>{if(n.has(s))return n.get(s);const[o,l]=e[s];switch(o){case lp:case wC:return r(l,s);case dc:{const c=r([],s);for(const f of l)c.push(i(f));return c}case Ad:{const c=r({},s);for(const[f,d]of l)c[i(f)]=i(d);return c}case wv:return r(new Date(l),s);case Ev:{const{source:c,flags:f}=l;return r(new RegExp(c,f),s)}case xv:{const c=r(new Map,s);for(const[f,d]of l)c.set(i(f),i(d));return c}case Tv:{const c=r(new Set,s);for(const f of l)c.add(i(f));return c}case EC:{const{name:c,message:f}=l;return r(new AT[c](f),s)}case xC:return r(BigInt(l),s);case"BigInt":return r(Object(BigInt(l)),s);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return r(new DataView(c),l)}}return r(new AT[o](l),s)};return i},RT=n=>sW(new Map,n)(0),ol="",{toString:oW}={},{keys:aW}=Object,Hu=n=>{const e=typeof n;if(e!=="object"||!n)return[lp,e];const r=oW.call(n).slice(8,-1);switch(r){case"Array":return[dc,ol];case"Object":return[Ad,ol];case"Date":return[wv,ol];case"RegExp":return[Ev,ol];case"Map":return[xv,ol];case"Set":return[Tv,ol];case"DataView":return[dc,r]}return r.includes("Array")?[dc,r]:r.includes("Error")?[EC,r]:[Ad,r]},Nh=([n,e])=>n===lp&&(e==="function"||e==="symbol"),lW=(n,e,r,i)=>{const s=(l,c)=>{const f=i.push(l)-1;return r.set(c,f),f},o=l=>{if(r.has(l))return r.get(l);let[c,f]=Hu(l);switch(c){case lp:{let m=l;switch(f){case"bigint":c=xC,m=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return s([wC],l)}return s([c,m],l)}case dc:{if(f){let _=l;return f==="DataView"?_=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(_=new Uint8Array(l)),s([f,[..._]],l)}const m=[],g=s([c,m],l);for(const _ of l)m.push(o(_));return g}case Ad:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const m=[],g=s([c,m],l);for(const _ of aW(l))(n||!Nh(Hu(l[_])))&&m.push([o(_),o(l[_])]);return g}case wv:return s([c,l.toISOString()],l);case Ev:{const{source:m,flags:g}=l;return s([c,{source:m,flags:g}],l)}case xv:{const m=[],g=s([c,m],l);for(const[_,v]of l)(n||!(Nh(Hu(_))||Nh(Hu(v))))&&m.push([o(_),o(v)]);return g}case Tv:{const m=[],g=s([c,m],l);for(const _ of l)(n||!Nh(Hu(_)))&&m.push(o(_));return g}}const{message:d}=l;return s([c,{name:f,message:d}],l)};return o},PT=(n,{json:e,lossy:r}={})=>{const i=[];return lW(!(e||r),!!e,new Map,i)(n),i},Rd=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?RT(PT(n,e)):structuredClone(n):(n,e)=>RT(PT(n,e));function uW(n,e){const r=[{type:"text",value:""}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function cW(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function fW(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=n.options.footnoteBackContent||uW,i=n.options.footnoteBackLabel||cW,s=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[f]);if(!d)continue;const m=n.all(d),g=String(d.identifier).toUpperCase(),_=Wl(g.toLowerCase());let v=0;const S=[],k=n.footnoteCounts.get(g);for(;k!==void 0&&++v<=k;){S.length>0&&S.push({type:"text",value:" "});let P=typeof r=="string"?r:r(f,v);typeof P=="string"&&(P={type:"text",value:P}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,v),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const I=m[m.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const P=I.children[I.children.length-1];P&&P.type==="text"?P.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...S)}else m.push(...S);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:n.wrap(m,!0)};n.patch(d,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Rd(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const TC=function(n){if(n==null)return mW;if(typeof n=="function")return up(n);if(typeof n=="object")return Array.isArray(n)?hW(n):dW(n);if(typeof n=="string")return pW(n);throw new Error("Expected function, string, or object as test")};function hW(n){const e=[];let r=-1;for(;++r<n.length;)e[r]=TC(n[r]);return up(i);function i(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function dW(n){const e=n;return up(r);function r(i){const s=i;let o;for(o in n)if(s[o]!==e[o])return!1;return!0}}function pW(n){return up(e);function e(r){return r&&r.type===n}}function up(n){return e;function e(r,i,s){return!!(gW(r)&&n.call(this,r,typeof i=="number"?i:void 0,s||void 0))}}function mW(){return!0}function gW(n){return n!==null&&typeof n=="object"&&"type"in n}const SC=[],yW=!0,OT=!1,_W="skip";function vW(n,e,r,i){let s;typeof e=="function"&&typeof r!="function"?(i=r,r=e):s=e;const o=TC(s),l=i?-1:1;c(n,void 0,[])();function c(f,d,m){const g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(f.type+(v?"<"+v+">":""))+")"})}return _;function _(){let v=SC,S,k,I;if((!e||o(f,d,m[m.length-1]||void 0))&&(v=wW(r(f,m)),v[0]===OT))return v;if("children"in f&&f.children){const T=f;if(T.children&&v[0]!==_W)for(k=(i?T.children.length:-1)+l,I=m.concat(T);k>-1&&k<T.children.length;){const P=T.children[k];if(S=c(P,k,I)(),S[0]===OT)return S;k=typeof S[1]=="number"?S[1]:k+l}}return v}}}function wW(n){return Array.isArray(n)?n:typeof n=="number"?[yW,n]:n==null?SC:[n]}function bC(n,e,r,i){let s,o,l;typeof e=="function"?(o=void 0,l=e,s=r):(o=e,l=r,s=i),vW(n,o,c,s);function c(f,d){const m=d[d.length-1],g=m?m.children.indexOf(f):void 0;return l(f,g,m)}}const Hy={}.hasOwnProperty,EW={};function xW(n,e){const r=e||EW,i=new Map,s=new Map,o=new Map,l={...iW,...r.handlers},c={all:d,applyData:SW,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:f,options:r,patch:TW,wrap:kW};return bC(n,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?i:s,_=String(m.identifier).toUpperCase();g.has(_)||g.set(_,m)}}),c;function f(m,g){const _=m.type,v=c.handlers[_];if(Hy.call(c.handlers,_)&&v)return v(c,m,g);if(c.options.passThrough&&c.options.passThrough.includes(_)){if("children"in m){const{children:k,...I}=m,T=Rd(I);return T.children=c.all(m),T}return Rd(m)}return(c.options.unknownHandler||bW)(c,m,g)}function d(m){const g=[];if("children"in m){const _=m.children;let v=-1;for(;++v<_.length;){const S=c.one(_[v],m);if(S){if(v&&_[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=NT(S.value)),!Array.isArray(S)&&S.type==="element")){const k=S.children[0];k&&k.type==="text"&&(k.value=NT(k.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function TW(n,e){n.position&&(e.position=i7(n))}function SW(n,e){let r=e;if(n&&n.data){const i=n.data.hName,s=n.data.hChildren,o=n.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const l="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,Rd(o)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function bW(n,e){const r=e.data||{},i="value"in e&&!(Hy.call(r,"hProperties")||Hy.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function kW(n,e){const r=[];let i=-1;for(e&&r.push({type:"text",value:`
`});++i<n.length;)i&&r.push({type:"text",value:`
`}),r.push(n[i]);return e&&n.length>0&&r.push({type:"text",value:`
`}),r}function NT(n){let e=0,r=n.charCodeAt(e);for(;r===9||r===32;)e++,r=n.charCodeAt(e);return n.slice(e)}function DT(n,e){const r=xW(n,e),i=r.one(n,void 0),s=fW(r),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function IW(n,e){return n&&"run"in n?async function(r,i){const s=DT(r,{file:i,...e});await n.run(s,i)}:function(r,i){return DT(r,{file:i,...n||e})}}function MT(n){if(n)throw n}var Ag,LT;function CW(){if(LT)return Ag;LT=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=n.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!g)return!1;var _;for(_ in d);return typeof _>"u"||n.call(d,_)},l=function(d,m){r&&m.name==="__proto__"?r(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(n.call(d,m)){if(i)return i(d,m).value}else return;return d[m]};return Ag=function f(){var d,m,g,_,v,S,k=arguments[0],I=1,T=arguments.length,P=!1;for(typeof k=="boolean"&&(P=k,k=arguments[1]||{},I=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});I<T;++I)if(d=arguments[I],d!=null)for(m in d)g=c(k,m),_=c(d,m),k!==_&&(P&&_&&(o(_)||(v=s(_)))?(v?(v=!1,S=g&&s(g)?g:[]):S=g&&o(g)?g:{},l(k,{name:m,newValue:f(P,S,_)})):typeof _<"u"&&l(k,{name:m,newValue:_}));return k},Ag}var AW=CW();const Rg=aa(AW);function qy(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function RW(){const n=[],e={run:r,use:i};return e;function r(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...d){const m=n[++o];let g=-1;if(f){l(f);return}for(;++g<s.length;)(d[g]===null||d[g]===void 0)&&(d[g]=s[g]);s=d,m?PW(m,c)(...d):l(null,...d)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return n.push(s),e}}function PW(n,e){let r;return i;function i(...l){const c=n.length>l.length;let f;c&&l.push(s);try{f=n.apply(this,l)}catch(d){const m=d;if(c&&r)throw m;return s(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(l,...c){r||(r=!0,e(l,...c))}function o(l){s(null,l)}}const mi={basename:OW,dirname:NW,extname:DW,join:MW,sep:"/"};function OW(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Jc(n);let r=0,i=-1,s=n.length,o;if(e===void 0||e.length===0||e.length>n.length){for(;s--;)if(n.codePointAt(s)===47){if(o){r=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":n.slice(r,i)}if(e===n)return"";let l=-1,c=e.length-1;for(;s--;)if(n.codePointAt(s)===47){if(o){r=s+1;break}}else l<0&&(o=!0,l=s+1),c>-1&&(n.codePointAt(s)===e.codePointAt(c--)?c<0&&(i=s):(c=-1,i=l));return r===i?i=l:i<0&&(i=n.length),n.slice(r,i)}function NW(n){if(Jc(n),n.length===0)return".";let e=-1,r=n.length,i;for(;--r;)if(n.codePointAt(r)===47){if(i){e=r;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function DW(n){Jc(n);let e=n.length,r=-1,i=0,s=-1,o=0,l;for(;e--;){const c=n.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}r<0&&(l=!0,r=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||r<0||o===0||o===1&&s===r-1&&s===i+1?"":n.slice(s,r)}function MW(...n){let e=-1,r;for(;++e<n.length;)Jc(n[e]),n[e]&&(r=r===void 0?n[e]:r+"/"+n[e]);return r===void 0?".":LW(r)}function LW(n){Jc(n);const e=n.codePointAt(0)===47;let r=FW(n,!e);return r.length===0&&!e&&(r="."),r.length>0&&n.codePointAt(n.length-1)===47&&(r+="/"),e?"/"+r:r}function FW(n,e){let r="",i=0,s=-1,o=0,l=-1,c,f;for(;++l<=n.length;){if(l<n.length)c=n.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(f=r.lastIndexOf("/"),f!==r.length-1){f<0?(r="",i=0):(r=r.slice(0,f),i=r.length-1-r.lastIndexOf("/")),s=l,o=0;continue}}else if(r.length>0){r="",i=0,s=l,o=0;continue}}e&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+n.slice(s+1,l):r=n.slice(s+1,l),i=l-s-1;s=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function Jc(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const VW={cwd:zW};function zW(){return"/"}function Wy(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function $W(n){if(typeof n=="string")n=new URL(n);else if(!Wy(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return UW(n)}function UW(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const i=e.codePointAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Pg=["history","path","basename","stem","extname","dirname"];class kC{constructor(e){let r;e?Wy(e)?r={path:e}:typeof e=="string"||jW(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":VW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Pg.length;){const o=Pg[i];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let s;for(s in r)Pg.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?mi.basename(this.path):void 0}set basename(e){Ng(e,"basename"),Og(e,"basename"),this.path=mi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?mi.dirname(this.path):void 0}set dirname(e){FT(this.basename,"dirname"),this.path=mi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?mi.extname(this.path):void 0}set extname(e){if(Og(e,"extname"),FT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Wy(e)&&(e=$W(e)),Ng(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?mi.basename(this.path,this.extname):void 0}set stem(e){Ng(e,"stem"),Og(e,"stem"),this.path=mi.join(this.dirname||"",e+(this.extname||""))}fail(e,r,i){const s=this.message(e,r,i);throw s.fatal=!0,s}info(e,r,i){const s=this.message(e,r,i);return s.fatal=void 0,s}message(e,r,i){const s=new xn(e,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Og(n,e){if(n&&n.includes(mi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+mi.sep+"`")}function Ng(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function FT(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jW(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const BW=function(n){const i=this.constructor.prototype,s=i[n],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},HW={}.hasOwnProperty;class Sv extends BW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RW()}copy(){const e=new Sv;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];e.use(...i)}return e.data(Rg(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(Lg("data",this.frozen),this.namespace[e]=r,this):HW.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Lg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=r.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=Dh(e),i=this.parser||this.Parser;return Dg("parse",i),i(String(r),r)}process(e,r){const i=this;return this.freeze(),Dg("process",this.parser||this.Parser),Mg("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(o,l){const c=Dh(e),f=i.parse(c);i.run(f,c,function(m,g,_){if(m||!g||!_)return d(m);const v=g,S=i.stringify(v,_);GW(S)?_.value=S:_.result=S,d(m,_)});function d(m,g){m||!g?l(m):o?o(g):r(void 0,g)}}}processSync(e){let r=!1,i;return this.freeze(),Dg("processSync",this.parser||this.Parser),Mg("processSync",this.compiler||this.Compiler),this.process(e,s),zT("processSync","process",r),i;function s(o,l){r=!0,MT(o),i=l}}run(e,r,i){VT(e),this.freeze();const s=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?o(void 0,i):new Promise(o);function o(l,c){const f=Dh(r);s.run(e,f,d);function d(m,g,_){const v=g||e;m?c(m):l?l(v):i(void 0,v,_)}}}runSync(e,r){let i=!1,s;return this.run(e,r,o),zT("runSync","run",i),s;function o(l,c){MT(l),s=c,i=!0}}stringify(e,r){this.freeze();const i=Dh(r),s=this.compiler||this.Compiler;return Mg("stringify",s),VT(e),s(e,i)}use(e,...r){const i=this.attachers,s=this.namespace;if(Lg("use",this.frozen),e!=null)if(typeof e=="function")f(e,r);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...g]=d;f(m,g)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=Rg(!0,s.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const g=d[m];o(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,m){let g=-1,_=-1;for(;++g<i.length;)if(i[g][0]===d){_=g;break}if(_===-1)i.push([d,...m]);else if(m.length>0){let[v,...S]=m;const k=i[_][1];qy(k)&&qy(v)&&(v=Rg(!0,k,v)),i[_]=[d,v,...S]}}}}const qW=new Sv().freeze();function Dg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Mg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Lg(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function VT(n){if(!qy(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function zT(n,e,r){if(!r)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Dh(n){return WW(n)?n:new kC(n)}function WW(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function GW(n){return typeof n=="string"||KW(n)}function KW(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const QW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$T=[],UT={allowDangerousHtml:!0},YW=/^(https?|ircs?|mailto|xmpp)$/i,XW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function JW(n){const e=n.allowedElements,r=n.allowElement,i=n.children||"",s=n.className,o=n.components,l=n.disallowedElements,c=n.rehypePlugins||$T,f=n.remarkPlugins||$T,d=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...UT}:UT,m=n.skipHtml,g=n.unwrapDisallowed,_=n.urlTransform||ZW,v=qW().use(Oq).use(f).use(IW,d).use(c),S=new kC;typeof i=="string"&&(S.value=i);for(const P of XW)Object.hasOwn(n,P.from)&&(""+P.from+(P.to?"use `"+P.to+"` instead":"remove it")+QW+P.id,void 0);const k=v.parse(S);let I=v.runSync(k,S);return s&&(I={type:"element",tagName:"div",properties:{className:s},children:I.type==="root"?I.children:[I]}),bC(I,T),c7(I,{Fragment:De.Fragment,components:o,ignoreInvalidStyle:!0,jsx:De.jsx,jsxs:De.jsxs,passKeys:!0,passNode:!0});function T(P,F,U){if(P.type==="raw"&&U&&typeof F=="number")return m?U.children.splice(F,1):U.children[F]={type:"text",value:P.value},F;if(P.type==="element"){let N;for(N in kg)if(Object.hasOwn(kg,N)&&Object.hasOwn(P.properties,N)){const O=P.properties[N],A=kg[N];(A===null||A.includes(P.tagName))&&(P.properties[N]=_(String(O||""),N,P))}}if(P.type==="element"){let N=e?!e.includes(P.tagName):l?l.includes(P.tagName):!1;if(!N&&r&&typeof F=="number"&&(N=!r(P,F,U)),N&&U&&typeof F=="number")return g&&P.children?U.children.splice(F,1,...P.children):U.children.splice(F,1),F}}}function ZW(n){const e=n.indexOf(":"),r=n.indexOf("?"),i=n.indexOf("#"),s=n.indexOf("/");return e===-1||s!==-1&&e>s||r!==-1&&e>r||i!==-1&&e>i||YW.test(n.slice(0,e))?n:""}async function eG(n){const r=Yb(Vk,n,"sR1pzBxCcGmaPZhFKzrp"),i=await nk(r);return i.exists()?i.data().token:!1}function tG(n){const e=[],r=[];function i(s,o=null){e.push({id:s.path,name:s.name,type:s.type}),o&&r.push({source:o.path,target:s.path}),s.type==="folder"&&s.children&&s.children.length>0&&s.children.forEach(l=>i(l,s))}return n.forEach(s=>i(s)),{nodes:e,links:r}}const IC=({tree:n})=>{const e=K.useMemo(()=>tG(n),[n]),[r,i]=K.useState(""),s="dardocam",o="tecpro-planning";let l="";const c="main",d={Authorization:`token ${async()=>await eG("github")}`},m=async g=>{if(g.type==="file"&&g.name.toLowerCase().endsWith(".md")){l=g.id;const _=`https://api.github.com/repos/${s}/${o}/contents/${l}?ref=${c}`;fetch(_,d).then(v=>{if(!v.ok)throw new Error(`Error ${v.status}: ${v.statusText}`);return v.text()}).then(v=>{i(v)}).catch(v=>{console.error("Error fetching file:",v)})}};return De.jsxs("div",{children:[De.jsx("h2",{children:"Visualizacin del rbol del Repositorio"}),De.jsx(cv,{graphData:e,nodeAutoColorBy:g=>g.name==="TECPRO"?g.color:g.type,nodeLabel:g=>`${g.name} (${g.type})`,linkDirectionalArrowLength:4,linkDirectionalArrowRelPos:1,height:600,onNodeClick:m,nodeCanvasObject:(g,_,v)=>{const S=g.name,k=1*v;_.font=`${k}px Arial`,_.beginPath(),_.arc(g.x,g.y,8,0,2*Math.PI,!1),_.fillStyle=g.color||"orange",_.fill(),_.fillStyle="white",_.textAlign="center",_.textBaseline="middle",_.fillText(S,g.x,g.y)},nodeCanvasObjectMode:()=>"replace"}),De.jsxs("div",{style:{textAlign:"left"},children:[" ",r?De.jsx(JW,{children:r}):De.jsx("p",{children:"Haz clic en un nodo para ver su contenido."})]})]})};IC.propTypes={tree:Y.array};async function nG(n){const r=Yb(Vk,n,"sR1pzBxCcGmaPZhFKzrp"),i=await nk(r);return i.exists()?i.data().token:!1}async function rG(n=""){const e="dardocam",r="tecpro-planning",i=await nG("github"),s=i?{Authorization:`token ${i}`}:{},o=`https://api.github.com/repos/${e}/${r}/contents/${n}`,l=await fetch(o,{headers:s});if(!l.ok)throw new Error(`Error al cargar ${o}: ${l.status}`);return l.json()}async function CC(n=""){const e=await rG(n);return(await Promise.all(e.map(async i=>{if(i.type==="dir"){const s=await CC(i.path);return{type:"folder",name:i.name,path:i.path,children:s}}return i.type==="file"&&i.name.toLowerCase().endsWith(".md")?{type:"file",name:i.name,path:i.path,download_url:i.download_url}:null}))).filter(i=>i!==null)}const iG=()=>{const[n,e]=K.useState(null),[r,i]=K.useState(null);return K.useEffect(()=>{CC("").then(s=>e(s)).catch(s=>i(s.message))},[]),r?De.jsxs("div",{children:["Error: ",r]}):n?De.jsx("div",{children:De.jsx(IC,{tree:n})}):De.jsx("div",{children:"Cargando..."})},sG=()=>{const{logout:n,user:e}=K.useContext(Wc);return De.jsxs(De.Fragment,{children:[De.jsxs("div",{children:[De.jsx("h1",{children:"Bienvenido al Dashboard"}),De.jsxs("p",{children:["Has iniciado sesin correctamente.",e.email]}),De.jsx("button",{onClick:n,children:"Logout"}),De.jsx("p",{}),De.jsx(r_,{to:"/planning/about",children:"About"})]}),De.jsx("div",{children:De.jsx(iG,{})})]})},AC=({children:n})=>{const[e,r]=K.useState(null);K.useEffect(()=>{const o=localStorage.getItem("user");o&&r(JSON.parse(o))},[]);const i=o=>{localStorage.setItem("user",JSON.stringify(o)),r(o)},s=()=>{localStorage.removeItem("user"),r(null)};return De.jsx(Wc.Provider,{value:{user:e,login:i,logout:s},children:n})};AC.propTypes={children:Y.node};const Gy=({children:n})=>{const{user:e}=K.useContext(Wc);return e===null?De.jsx(P2,{to:"/planning"}):n};Gy.propTypes={children:Y.node};const oG=()=>{const{user:n}=K.useContext(Wc);return De.jsxs("div",{children:[De.jsx("h1",{children:"ABOUT"}),De.jsx("p",{children:n.email}),De.jsx(r_,{to:"/planning/dashboard",children:"Dashbaord"})]})};function aG(){return De.jsx(AC,{children:De.jsx(rR,{children:De.jsxs(N2,{children:[De.jsx(Mh,{path:"/planning",element:De.jsx(s5,{})}),De.jsx(Mh,{path:"/planning/dashboard",element:De.jsx(Gy,{children:De.jsx(sG,{})})}),De.jsx(Mh,{path:"/planning/about",element:De.jsx(Gy,{children:De.jsx(oG,{})})})]})})})}jA.createRoot(document.getElementById("root")).render(De.jsx(K.StrictMode,{children:De.jsx(aG,{})}))});export default lG();
